(function(Mn,ci){typeof exports=="object"&&typeof module<"u"?ci(exports):typeof define=="function"&&define.amd?define(["exports"],ci):(Mn=typeof globalThis<"u"?globalThis:Mn||self,ci(Mn["@walletconnect/ethereum-provider"]={}))})(this,function(Mn){"use strict";var ci=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function uu(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var Kr={exports:{}},ga=typeof Reflect=="object"?Reflect:null,Pg=ga&&typeof ga.apply=="function"?ga.apply:function(t,r,i){return Function.prototype.apply.call(t,r,i)},lu;ga&&typeof ga.ownKeys=="function"?lu=ga.ownKeys:Object.getOwnPropertySymbols?lu=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:lu=function(t){return Object.getOwnPropertyNames(t)};function W5(e){console&&console.warn&&console.warn(e)}var Rg=Number.isNaN||function(t){return t!==t};function Je(){Je.init.call(this)}Kr.exports=Je,Kr.exports.once=Y5,Je.EventEmitter=Je,Je.prototype._events=void 0,Je.prototype._eventsCount=0,Je.prototype._maxListeners=void 0;var Tg=10;function fu(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(Je,"defaultMaxListeners",{enumerable:!0,get:function(){return Tg},set:function(e){if(typeof e!="number"||e<0||Rg(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Tg=e}}),Je.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Je.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||Rg(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function $g(e){return e._maxListeners===void 0?Je.defaultMaxListeners:e._maxListeners}Je.prototype.getMaxListeners=function(){return $g(this)},Je.prototype.emit=function(t){for(var r=[],i=1;i<arguments.length;i++)r.push(arguments[i]);var n=t==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var h;if(r.length>0&&(h=r[0]),h instanceof Error)throw h;var d=new Error("Unhandled error."+(h?" ("+h.message+")":""));throw d.context=h,d}var g=s[t];if(g===void 0)return!1;if(typeof g=="function")Pg(g,this,r);else for(var p=g.length,_=kg(g,p),i=0;i<p;++i)Pg(_[i],this,r);return!0};function Bg(e,t,r,i){var n,s,h;if(fu(r),s=e._events,s===void 0?(s=e._events=Object.create(null),e._eventsCount=0):(s.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),s=e._events),h=s[t]),h===void 0)h=s[t]=r,++e._eventsCount;else if(typeof h=="function"?h=s[t]=i?[r,h]:[h,r]:i?h.unshift(r):h.push(r),n=$g(e),n>0&&h.length>n&&!h.warned){h.warned=!0;var d=new Error("Possible EventEmitter memory leak detected. "+h.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");d.name="MaxListenersExceededWarning",d.emitter=e,d.type=t,d.count=h.length,W5(d)}return e}Je.prototype.addListener=function(t,r){return Bg(this,t,r,!1)},Je.prototype.on=Je.prototype.addListener,Je.prototype.prependListener=function(t,r){return Bg(this,t,r,!0)};function V5(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ug(e,t,r){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},n=V5.bind(i);return n.listener=r,i.wrapFn=n,n}Je.prototype.once=function(t,r){return fu(r),this.on(t,Ug(this,t,r)),this},Je.prototype.prependOnceListener=function(t,r){return fu(r),this.prependListener(t,Ug(this,t,r)),this},Je.prototype.removeListener=function(t,r){var i,n,s,h,d;if(fu(r),n=this._events,n===void 0)return this;if(i=n[t],i===void 0)return this;if(i===r||i.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||r));else if(typeof i!="function"){for(s=-1,h=i.length-1;h>=0;h--)if(i[h]===r||i[h].listener===r){d=i[h].listener,s=h;break}if(s<0)return this;s===0?i.shift():G5(i,s),i.length===1&&(n[t]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",t,d||r)}return this},Je.prototype.off=Je.prototype.removeListener,Je.prototype.removeAllListeners=function(t){var r,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[t]),this;if(arguments.length===0){var s=Object.keys(i),h;for(n=0;n<s.length;++n)h=s[n],h!=="removeListener"&&this.removeAllListeners(h);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=i[t],typeof r=="function")this.removeListener(t,r);else if(r!==void 0)for(n=r.length-1;n>=0;n--)this.removeListener(t,r[n]);return this};function Lg(e,t,r){var i=e._events;if(i===void 0)return[];var n=i[t];return n===void 0?[]:typeof n=="function"?r?[n.listener||n]:[n]:r?Q5(n):kg(n,n.length)}Je.prototype.listeners=function(t){return Lg(this,t,!0)},Je.prototype.rawListeners=function(t){return Lg(this,t,!1)},Je.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):Fg.call(e,t)},Je.prototype.listenerCount=Fg;function Fg(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}Je.prototype.eventNames=function(){return this._eventsCount>0?lu(this._events):[]};function kg(e,t){for(var r=new Array(t),i=0;i<t;++i)r[i]=e[i];return r}function G5(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function Q5(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function Y5(e,t){return new Promise(function(r,i){function n(h){e.removeListener(t,s),i(h)}function s(){typeof e.removeListener=="function"&&e.removeListener("error",n),r([].slice.call(arguments))}jg(e,t,s,{once:!0}),t!=="error"&&J5(e,n,{once:!0})})}function J5(e,t,r){typeof e.on=="function"&&jg(e,"error",t,r)}function jg(e,t,r,i){if(typeof e.on=="function")i.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function n(s){i.once&&e.removeEventListener(t,n),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var qg=function(e,t,r){if(r||arguments.length===2)for(var i=0,n=t.length,s;i<n;i++)(s||!(i in t))&&(s||(s=Array.prototype.slice.call(t,0,i)),s[i]=t[i]);return e.concat(s||Array.prototype.slice.call(t))},Z5=function(){function e(t,r,i){this.name=t,this.version=r,this.os=i,this.type="browser"}return e}(),X5=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),t8=function(){function e(t,r,i,n){this.name=t,this.version=r,this.os=i,this.bot=n,this.type="bot-device"}return e}(),e8=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),r8=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),i8=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,n8=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,zg=3,s8=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",i8]],Hg=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function o8(e){return e?Kg(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new r8:typeof navigator<"u"?Kg(navigator.userAgent):h8()}function a8(e){return e!==""&&s8.reduce(function(t,r){var i=r[0],n=r[1];if(t)return t;var s=n.exec(e);return!!s&&[i,s]},!1)}function Kg(e){var t=a8(e);if(!t)return null;var r=t[0],i=t[1];if(r==="searchbot")return new e8;var n=i[1]&&i[1].split(".").join("_").split("_").slice(0,3);n?n.length<zg&&(n=qg(qg([],n,!0),u8(zg-n.length),!0)):n=[];var s=n.join("."),h=c8(e),d=n8.exec(e);return d&&d[1]?new t8(r,s,h,d[1]):new Z5(r,s,h)}function c8(e){for(var t=0,r=Hg.length;t<r;t++){var i=Hg[t],n=i[0],s=i[1],h=s.exec(e);if(h)return n}return null}function h8(){var e=typeof process<"u"&&process.version;return e?new X5(process.version.slice(1)):null}function u8(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}var Vt={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var r0=function(e,t){return r0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var n in i)i.hasOwnProperty(n)&&(r[n]=i[n])},r0(e,t)};function l8(e,t){r0(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var i0=function(){return i0=Object.assign||function(t){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},i0.apply(this,arguments)};function f8(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function d8(e,t,r,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,i);else for(var d=e.length-1;d>=0;d--)(h=e[d])&&(s=(n<3?h(s):n>3?h(t,r,s):h(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s}function p8(e,t){return function(r,i){t(r,i,e)}}function g8(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function m8(e,t,r,i){function n(s){return s instanceof r?s:new r(function(h){h(s)})}return new(r||(r=Promise))(function(s,h){function d(_){try{p(i.next(_))}catch(S){h(S)}}function g(_){try{p(i.throw(_))}catch(S){h(S)}}function p(_){_.done?s(_.value):n(_.value).then(d,g)}p((i=i.apply(e,t||[])).next())})}function v8(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,h;return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(p){return function(_){return g([p,_])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(s=p[0]&2?n.return:p[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,p[1])).done)return s;switch(n=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,n=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){r.label=p[1];break}if(p[0]===6&&r.label<s[1]){r.label=s[1],s=p;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(p);break}s[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(_){p=[6,_],n=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function w8(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}function y8(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function n0(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wg(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var i=r.call(e),n,s=[],h;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(d){h={error:d}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(h)throw h.error}}return s}function b8(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Wg(arguments[t]));return e}function A8(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),n=0,t=0;t<r;t++)for(var s=arguments[t],h=0,d=s.length;h<d;h++,n++)i[n]=s[h];return i}function $c(e){return this instanceof $c?(this.v=e,this):new $c(e)}function _8(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,t||[]),n,s=[];return n={},h("next"),h("throw"),h("return"),n[Symbol.asyncIterator]=function(){return this},n;function h(D){i[D]&&(n[D]=function(O){return new Promise(function(N,L){s.push([D,O,N,L])>1||d(D,O)})})}function d(D,O){try{g(i[D](O))}catch(N){S(s[0][3],N)}}function g(D){D.value instanceof $c?Promise.resolve(D.value.v).then(p,_):S(s[0][2],D)}function p(D){d("next",D)}function _(D){d("throw",D)}function S(D,O){D(O),s.shift(),s.length&&d(s[0][0],s[0][1])}}function E8(e){var t,r;return t={},i("next"),i("throw",function(n){throw n}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(n,s){t[n]=e[n]?function(h){return(r=!r)?{value:$c(e[n](h)),done:n==="return"}:s?s(h):h}:s}}function M8(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof n0=="function"?n0(e):e[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(s){r[s]=e[s]&&function(h){return new Promise(function(d,g){h=e[s](h),n(d,g,h.done,h.value)})}}function n(s,h,d,g){Promise.resolve(g).then(function(p){s({value:p,done:d})},h)}}function S8(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function I8(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function x8(e){return e&&e.__esModule?e:{default:e}}function C8(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function D8(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var O8=Object.freeze({__proto__:null,__extends:l8,get __assign(){return i0},__rest:f8,__decorate:d8,__param:p8,__metadata:g8,__awaiter:m8,__generator:v8,__createBinding:w8,__exportStar:y8,__values:n0,__read:Wg,__spread:b8,__spreadArrays:A8,__await:$c,__asyncGenerator:_8,__asyncDelegator:E8,__asyncValues:M8,__makeTemplateObject:S8,__importStar:I8,__importDefault:x8,__classPrivateFieldGet:C8,__classPrivateFieldSet:D8}),du=uu(O8),s0={},Bc={},Vg;function N8(){if(Vg)return Bc;Vg=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.delay=void 0;function e(t){return new Promise(r=>{setTimeout(()=>{r(!0)},t)})}return Bc.delay=e,Bc}var Co={},o0={},Do={},Gg;function P8(){return Gg||(Gg=1,Object.defineProperty(Do,"__esModule",{value:!0}),Do.ONE_THOUSAND=Do.ONE_HUNDRED=void 0,Do.ONE_HUNDRED=100,Do.ONE_THOUSAND=1e3),Do}var a0={},Qg;function R8(){return Qg||(Qg=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(a0)),a0}var Yg;function Jg(){return Yg||(Yg=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=du;t.__exportStar(P8(),e),t.__exportStar(R8(),e)}(o0)),o0}var Zg;function T8(){if(Zg)return Co;Zg=1,Object.defineProperty(Co,"__esModule",{value:!0}),Co.fromMiliseconds=Co.toMiliseconds=void 0;const e=Jg();function t(i){return i*e.ONE_THOUSAND}Co.toMiliseconds=t;function r(i){return Math.floor(i/e.ONE_THOUSAND)}return Co.fromMiliseconds=r,Co}var Xg;function $8(){return Xg||(Xg=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=du;t.__exportStar(N8(),e),t.__exportStar(T8(),e)}(s0)),s0}var ma={},tm;function B8(){if(tm)return ma;tm=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const i=this.get(r);if(typeof i.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const n=Date.now()-i.started;this.timestamps.set(r,{started:i.started,elapsed:n})}get(r){const i=this.timestamps.get(r);if(typeof i>"u")throw new Error(`No timestamp found for label: ${r}`);return i}elapsed(r){const i=this.get(r);return i.elapsed||Date.now()-i.started}}return ma.Watch=e,ma.default=e,ma}var c0={},Uc={},em;function U8(){if(em)return Uc;em=1,Object.defineProperty(Uc,"__esModule",{value:!0}),Uc.IWatch=void 0;class e{}return Uc.IWatch=e,Uc}var rm;function L8(){return rm||(rm=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),du.__exportStar(U8(),e)}(c0)),c0}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=du;t.__exportStar($8(),e),t.__exportStar(B8(),e),t.__exportStar(L8(),e),t.__exportStar(Jg(),e)})(Vt);var nr={};Object.defineProperty(nr,"__esModule",{value:!0}),nr.getLocalStorage=nr.getLocalStorageOrThrow=nr.getCrypto=nr.getCryptoOrThrow=im=nr.getLocation=nr.getLocationOrThrow=Fc=nr.getNavigator=nr.getNavigatorOrThrow=Lc=nr.getDocument=nr.getDocumentOrThrow=nr.getFromWindowOrThrow=nr.getFromWindow=void 0;function Oo(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}nr.getFromWindow=Oo;function va(e){const t=Oo(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}nr.getFromWindowOrThrow=va;function F8(){return va("document")}nr.getDocumentOrThrow=F8;function k8(){return Oo("document")}var Lc=nr.getDocument=k8;function j8(){return va("navigator")}nr.getNavigatorOrThrow=j8;function q8(){return Oo("navigator")}var Fc=nr.getNavigator=q8;function z8(){return va("location")}nr.getLocationOrThrow=z8;function H8(){return Oo("location")}var im=nr.getLocation=H8;function K8(){return va("crypto")}nr.getCryptoOrThrow=K8;function W8(){return Oo("crypto")}nr.getCrypto=W8;function V8(){return va("localStorage")}nr.getLocalStorageOrThrow=V8;function G8(){return Oo("localStorage")}nr.getLocalStorage=G8;var h0={};Object.defineProperty(h0,"__esModule",{value:!0});var nm=h0.getWindowMetadata=void 0;const sm=nr;function Q8(){let e,t;try{e=sm.getDocumentOrThrow(),t=sm.getLocationOrThrow()}catch{return null}function r(){const S=e.getElementsByTagName("link"),D=[];for(let O=0;O<S.length;O++){const N=S[O],L=N.getAttribute("rel");if(L&&L.toLowerCase().indexOf("icon")>-1){const z=N.getAttribute("href");if(z)if(z.toLowerCase().indexOf("https:")===-1&&z.toLowerCase().indexOf("http:")===-1&&z.indexOf("//")!==0){let G=t.protocol+"//"+t.host;if(z.indexOf("/")===0)G+=z;else{const q=t.pathname.split("/");q.pop();const W=q.join("/");G+=W+"/"+z}D.push(G)}else if(z.indexOf("//")===0){const G=t.protocol+z;D.push(G)}else D.push(z)}}return D}function i(...S){const D=e.getElementsByTagName("meta");for(let O=0;O<D.length;O++){const N=D[O],L=["itemprop","property","name"].map(z=>N.getAttribute(z)).filter(z=>z?S.includes(z):!1);if(L.length&&L){const z=N.getAttribute("content");if(z)return z}}return""}function n(){let S=i("name","og:site_name","og:title","twitter:title");return S||(S=e.title),S}function s(){return i("description","og:description","twitter:description","keywords")}const h=n(),d=s(),g=t.origin,p=r();return{description:d,url:g,icons:p,name:h}}nm=h0.getWindowMetadata=Q8;var kc={},Y8=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),om="%[a-f0-9]{2}",am=new RegExp("("+om+")|([^%]+?)","gi"),cm=new RegExp("("+om+")+","gi");function u0(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),i=e.slice(t);return Array.prototype.concat.call([],u0(r),u0(i))}function J8(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(am)||[],r=1;r<t.length;r++)e=u0(t,r).join(""),t=e.match(am)||[];return e}}function Z8(e){for(var t={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},r=cm.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var i=J8(r[0]);i!==r[0]&&(t[r[0]]=i)}r=cm.exec(e)}t["%C2"]="\uFFFD";for(var n=Object.keys(t),s=0;s<n.length;s++){var h=n[s];e=e.replace(new RegExp(h,"g"),t[h])}return e}var X8=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return Z8(e)}},t4=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]},e4=function(e,t){for(var r={},i=Object.keys(e),n=Array.isArray(t),s=0;s<i.length;s++){var h=i[s],d=e[h];(n?t.indexOf(h)!==-1:t(h,d,e))&&(r[h]=d)}return r};(function(e){const t=Y8,r=X8,i=t4,n=e4,s=q=>q==null,h=Symbol("encodeFragmentIdentifier");function d(q){switch(q.arrayFormat){case"index":return W=>(B,k)=>{const j=B.length;return k===void 0||q.skipNull&&k===null||q.skipEmptyString&&k===""?B:k===null?[...B,[_(W,q),"[",j,"]"].join("")]:[...B,[_(W,q),"[",_(j,q),"]=",_(k,q)].join("")]};case"bracket":return W=>(B,k)=>k===void 0||q.skipNull&&k===null||q.skipEmptyString&&k===""?B:k===null?[...B,[_(W,q),"[]"].join("")]:[...B,[_(W,q),"[]=",_(k,q)].join("")];case"colon-list-separator":return W=>(B,k)=>k===void 0||q.skipNull&&k===null||q.skipEmptyString&&k===""?B:k===null?[...B,[_(W,q),":list="].join("")]:[...B,[_(W,q),":list=",_(k,q)].join("")];case"comma":case"separator":case"bracket-separator":{const W=q.arrayFormat==="bracket-separator"?"[]=":"=";return B=>(k,j)=>j===void 0||q.skipNull&&j===null||q.skipEmptyString&&j===""?k:(j=j===null?"":j,k.length===0?[[_(B,q),W,_(j,q)].join("")]:[[k,_(j,q)].join(q.arrayFormatSeparator)])}default:return W=>(B,k)=>k===void 0||q.skipNull&&k===null||q.skipEmptyString&&k===""?B:k===null?[...B,_(W,q)]:[...B,[_(W,q),"=",_(k,q)].join("")]}}function g(q){let W;switch(q.arrayFormat){case"index":return(B,k,j)=>{if(W=/\[(\d*)\]$/.exec(B),B=B.replace(/\[\d*\]$/,""),!W){j[B]=k;return}j[B]===void 0&&(j[B]={}),j[B][W[1]]=k};case"bracket":return(B,k,j)=>{if(W=/(\[\])$/.exec(B),B=B.replace(/\[\]$/,""),!W){j[B]=k;return}if(j[B]===void 0){j[B]=[k];return}j[B]=[].concat(j[B],k)};case"colon-list-separator":return(B,k,j)=>{if(W=/(:list)$/.exec(B),B=B.replace(/:list$/,""),!W){j[B]=k;return}if(j[B]===void 0){j[B]=[k];return}j[B]=[].concat(j[B],k)};case"comma":case"separator":return(B,k,j)=>{const I=typeof k=="string"&&k.includes(q.arrayFormatSeparator),U=typeof k=="string"&&!I&&S(k,q).includes(q.arrayFormatSeparator);k=U?S(k,q):k;const et=I||U?k.split(q.arrayFormatSeparator).map(ct=>S(ct,q)):k===null?k:S(k,q);j[B]=et};case"bracket-separator":return(B,k,j)=>{const I=/(\[\])$/.test(B);if(B=B.replace(/\[\]$/,""),!I){j[B]=k&&S(k,q);return}const U=k===null?[]:k.split(q.arrayFormatSeparator).map(et=>S(et,q));if(j[B]===void 0){j[B]=U;return}j[B]=[].concat(j[B],U)};default:return(B,k,j)=>{if(j[B]===void 0){j[B]=k;return}j[B]=[].concat(j[B],k)}}}function p(q){if(typeof q!="string"||q.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function _(q,W){return W.encode?W.strict?t(q):encodeURIComponent(q):q}function S(q,W){return W.decode?r(q):q}function D(q){return Array.isArray(q)?q.sort():typeof q=="object"?D(Object.keys(q)).sort((W,B)=>Number(W)-Number(B)).map(W=>q[W]):q}function O(q){const W=q.indexOf("#");return W!==-1&&(q=q.slice(0,W)),q}function N(q){let W="";const B=q.indexOf("#");return B!==-1&&(W=q.slice(B)),W}function L(q){q=O(q);const W=q.indexOf("?");return W===-1?"":q.slice(W+1)}function z(q,W){return W.parseNumbers&&!Number.isNaN(Number(q))&&typeof q=="string"&&q.trim()!==""?q=Number(q):W.parseBooleans&&q!==null&&(q.toLowerCase()==="true"||q.toLowerCase()==="false")&&(q=q.toLowerCase()==="true"),q}function G(q,W){W=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},W),p(W.arrayFormatSeparator);const B=g(W),k=Object.create(null);if(typeof q!="string"||(q=q.trim().replace(/^[?#&]/,""),!q))return k;for(const j of q.split("&")){if(j==="")continue;let[I,U]=i(W.decode?j.replace(/\+/g," "):j,"=");U=U===void 0?null:["comma","separator","bracket-separator"].includes(W.arrayFormat)?U:S(U,W),B(S(I,W),U,k)}for(const j of Object.keys(k)){const I=k[j];if(typeof I=="object"&&I!==null)for(const U of Object.keys(I))I[U]=z(I[U],W);else k[j]=z(I,W)}return W.sort===!1?k:(W.sort===!0?Object.keys(k).sort():Object.keys(k).sort(W.sort)).reduce((j,I)=>{const U=k[I];return U&&typeof U=="object"&&!Array.isArray(U)?j[I]=D(U):j[I]=U,j},Object.create(null))}e.extract=L,e.parse=G,e.stringify=(q,W)=>{if(!q)return"";W=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},W),p(W.arrayFormatSeparator);const B=U=>W.skipNull&&s(q[U])||W.skipEmptyString&&q[U]==="",k=d(W),j={};for(const U of Object.keys(q))B(U)||(j[U]=q[U]);const I=Object.keys(j);return W.sort!==!1&&I.sort(W.sort),I.map(U=>{const et=q[U];return et===void 0?"":et===null?_(U,W):Array.isArray(et)?et.length===0&&W.arrayFormat==="bracket-separator"?_(U,W)+"[]":et.reduce(k(U),[]).join("&"):_(U,W)+"="+_(et,W)}).filter(U=>U.length>0).join("&")},e.parseUrl=(q,W)=>{W=Object.assign({decode:!0},W);const[B,k]=i(q,"#");return Object.assign({url:B.split("?")[0]||"",query:G(L(q),W)},W&&W.parseFragmentIdentifier&&k?{fragmentIdentifier:S(k,W)}:{})},e.stringifyUrl=(q,W)=>{W=Object.assign({encode:!0,strict:!0,[h]:!0},W);const B=O(q.url).split("?")[0]||"",k=e.extract(q.url),j=e.parse(k,{sort:!1}),I=Object.assign(j,q.query);let U=e.stringify(I,W);U&&(U=`?${U}`);let et=N(q.url);return q.fragmentIdentifier&&(et=`#${W[h]?_(q.fragmentIdentifier,W):q.fragmentIdentifier}`),`${B}${U}${et}`},e.pick=(q,W,B)=>{B=Object.assign({parseFragmentIdentifier:!0,[h]:!1},B);const{url:k,query:j,fragmentIdentifier:I}=e.parseUrl(q,B);return e.stringifyUrl({url:k,query:n(j,W),fragmentIdentifier:I},B)},e.exclude=(q,W,B)=>{const k=Array.isArray(W)?j=>!W.includes(j):(j,I)=>!W(j,I);return e.pick(q,k,B)}})(kc);var l0={},pu={},we={},hm={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(d,g){var p=d>>>16&65535,_=d&65535,S=g>>>16&65535,D=g&65535;return _*D+(p*D+_*S<<16>>>0)|0}e.mul=Math.imul||t;function r(d,g){return d+g|0}e.add=r;function i(d,g){return d-g|0}e.sub=i;function n(d,g){return d<<g|d>>>32-g}e.rotl=n;function s(d,g){return d<<32-g|d>>>g}e.rotr=s;function h(d){return typeof d=="number"&&isFinite(d)&&Math.floor(d)===d}e.isInteger=Number.isInteger||h,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(d){return e.isInteger(d)&&d>=-e.MAX_SAFE_INTEGER&&d<=e.MAX_SAFE_INTEGER}})(hm),Object.defineProperty(we,"__esModule",{value:!0});var um=hm;function r4(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16}we.readInt16BE=r4;function i4(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])>>>0}we.readUint16BE=i4;function n4(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])<<16>>16}we.readInt16LE=n4;function s4(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])>>>0}we.readUint16LE=s4;function lm(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}we.writeUint16BE=lm,we.writeInt16BE=lm;function fm(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}we.writeUint16LE=fm,we.writeInt16LE=fm;function f0(e,t){return t===void 0&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}we.readInt32BE=f0;function d0(e,t){return t===void 0&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}we.readUint32BE=d0;function p0(e,t){return t===void 0&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}we.readInt32LE=p0;function g0(e,t){return t===void 0&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}we.readUint32LE=g0;function gu(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}we.writeUint32BE=gu,we.writeInt32BE=gu;function mu(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}we.writeUint32LE=mu,we.writeInt32LE=mu;function o4(e,t){t===void 0&&(t=0);var r=f0(e,t),i=f0(e,t+4);return r*4294967296+i-(i>>31)*4294967296}we.readInt64BE=o4;function a4(e,t){t===void 0&&(t=0);var r=d0(e,t),i=d0(e,t+4);return r*4294967296+i}we.readUint64BE=a4;function c4(e,t){t===void 0&&(t=0);var r=p0(e,t),i=p0(e,t+4);return i*4294967296+r-(r>>31)*4294967296}we.readInt64LE=c4;function h4(e,t){t===void 0&&(t=0);var r=g0(e,t),i=g0(e,t+4);return i*4294967296+r}we.readUint64LE=h4;function dm(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),gu(e/4294967296>>>0,t,r),gu(e>>>0,t,r+4),t}we.writeUint64BE=dm,we.writeInt64BE=dm;function pm(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),mu(e>>>0,t,r),mu(e/4294967296>>>0,t,r+4),t}we.writeUint64LE=pm,we.writeInt64LE=pm;function u4(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var i=0,n=1,s=e/8+r-1;s>=r;s--)i+=t[s]*n,n*=256;return i}we.readUintBE=u4;function l4(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var i=0,n=1,s=r;s<r+e/8;s++)i+=t[s]*n,n*=256;return i}we.readUintLE=l4;function f4(e,t,r,i){if(r===void 0&&(r=new Uint8Array(e/8)),i===void 0&&(i=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!um.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var n=1,s=e/8+i-1;s>=i;s--)r[s]=t/n&255,n*=256;return r}we.writeUintBE=f4;function d4(e,t,r,i){if(r===void 0&&(r=new Uint8Array(e/8)),i===void 0&&(i=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!um.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var n=1,s=i;s<i+e/8;s++)r[s]=t/n&255,n*=256;return r}we.writeUintLE=d4;function p4(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t)}we.readFloat32BE=p4;function g4(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t,!0)}we.readFloat32LE=g4;function m4(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t)}we.readFloat64BE=m4;function v4(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t,!0)}we.readFloat64LE=v4;function w4(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var i=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.setFloat32(r,e),t}we.writeFloat32BE=w4;function y4(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var i=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.setFloat32(r,e,!0),t}we.writeFloat32LE=y4;function b4(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var i=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.setFloat64(r,e),t}we.writeFloat64BE=b4;function A4(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var i=new DataView(t.buffer,t.byteOffset,t.byteLength);return i.setFloat64(r,e,!0),t}we.writeFloat64LE=A4;var qi={};Object.defineProperty(qi,"__esModule",{value:!0});function _4(e){for(var t=0;t<e.length;t++)e[t]=0;return e}qi.wipe=_4,Object.defineProperty(pu,"__esModule",{value:!0});var ti=we,m0=qi,E4=20;function M4(e,t,r){for(var i=1634760805,n=857760878,s=2036477234,h=1797285236,d=r[3]<<24|r[2]<<16|r[1]<<8|r[0],g=r[7]<<24|r[6]<<16|r[5]<<8|r[4],p=r[11]<<24|r[10]<<16|r[9]<<8|r[8],_=r[15]<<24|r[14]<<16|r[13]<<8|r[12],S=r[19]<<24|r[18]<<16|r[17]<<8|r[16],D=r[23]<<24|r[22]<<16|r[21]<<8|r[20],O=r[27]<<24|r[26]<<16|r[25]<<8|r[24],N=r[31]<<24|r[30]<<16|r[29]<<8|r[28],L=t[3]<<24|t[2]<<16|t[1]<<8|t[0],z=t[7]<<24|t[6]<<16|t[5]<<8|t[4],G=t[11]<<24|t[10]<<16|t[9]<<8|t[8],q=t[15]<<24|t[14]<<16|t[13]<<8|t[12],W=i,B=n,k=s,j=h,I=d,U=g,et=p,ct=_,Z=S,ut=D,o=O,u=N,f=L,v=z,A=G,E=q,x=0;x<E4;x+=2)W=W+I|0,f^=W,f=f>>>32-16|f<<16,Z=Z+f|0,I^=Z,I=I>>>32-12|I<<12,B=B+U|0,v^=B,v=v>>>32-16|v<<16,ut=ut+v|0,U^=ut,U=U>>>32-12|U<<12,k=k+et|0,A^=k,A=A>>>32-16|A<<16,o=o+A|0,et^=o,et=et>>>32-12|et<<12,j=j+ct|0,E^=j,E=E>>>32-16|E<<16,u=u+E|0,ct^=u,ct=ct>>>32-12|ct<<12,k=k+et|0,A^=k,A=A>>>32-8|A<<8,o=o+A|0,et^=o,et=et>>>32-7|et<<7,j=j+ct|0,E^=j,E=E>>>32-8|E<<8,u=u+E|0,ct^=u,ct=ct>>>32-7|ct<<7,B=B+U|0,v^=B,v=v>>>32-8|v<<8,ut=ut+v|0,U^=ut,U=U>>>32-7|U<<7,W=W+I|0,f^=W,f=f>>>32-8|f<<8,Z=Z+f|0,I^=Z,I=I>>>32-7|I<<7,W=W+U|0,E^=W,E=E>>>32-16|E<<16,o=o+E|0,U^=o,U=U>>>32-12|U<<12,B=B+et|0,f^=B,f=f>>>32-16|f<<16,u=u+f|0,et^=u,et=et>>>32-12|et<<12,k=k+ct|0,v^=k,v=v>>>32-16|v<<16,Z=Z+v|0,ct^=Z,ct=ct>>>32-12|ct<<12,j=j+I|0,A^=j,A=A>>>32-16|A<<16,ut=ut+A|0,I^=ut,I=I>>>32-12|I<<12,k=k+ct|0,v^=k,v=v>>>32-8|v<<8,Z=Z+v|0,ct^=Z,ct=ct>>>32-7|ct<<7,j=j+I|0,A^=j,A=A>>>32-8|A<<8,ut=ut+A|0,I^=ut,I=I>>>32-7|I<<7,B=B+et|0,f^=B,f=f>>>32-8|f<<8,u=u+f|0,et^=u,et=et>>>32-7|et<<7,W=W+U|0,E^=W,E=E>>>32-8|E<<8,o=o+E|0,U^=o,U=U>>>32-7|U<<7;ti.writeUint32LE(W+i|0,e,0),ti.writeUint32LE(B+n|0,e,4),ti.writeUint32LE(k+s|0,e,8),ti.writeUint32LE(j+h|0,e,12),ti.writeUint32LE(I+d|0,e,16),ti.writeUint32LE(U+g|0,e,20),ti.writeUint32LE(et+p|0,e,24),ti.writeUint32LE(ct+_|0,e,28),ti.writeUint32LE(Z+S|0,e,32),ti.writeUint32LE(ut+D|0,e,36),ti.writeUint32LE(o+O|0,e,40),ti.writeUint32LE(u+N|0,e,44),ti.writeUint32LE(f+L|0,e,48),ti.writeUint32LE(v+z|0,e,52),ti.writeUint32LE(A+G|0,e,56),ti.writeUint32LE(E+q|0,e,60)}function gm(e,t,r,i,n){if(n===void 0&&(n=0),e.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(i.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,h;if(n===0){if(t.length!==8&&t.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),h=s.length-t.length,s.set(t,h)}else{if(t.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=t,h=n}for(var d=new Uint8Array(64),g=0;g<r.length;g+=64){M4(d,s,e);for(var p=g;p<g+64&&p<r.length;p++)i[p]=r[p]^d[p-g];I4(s,0,h)}return m0.wipe(d),n===0&&m0.wipe(s),i}pu.streamXOR=gm;function S4(e,t,r,i){return i===void 0&&(i=0),m0.wipe(r),gm(e,t,r,r,i)}pu.stream=S4;function I4(e,t,r){for(var i=1;r--;)i=i+(e[t]&255)|0,e[t]=i&255,i>>>=8,t++;if(i>0)throw new Error("ChaCha: counter overflow")}var mm={},Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});function x4(e,t,r){return~(e-1)&t|e-1&r}Qs.select=x4;function C4(e,t){return(e|0)-(t|0)-1>>>31&1}Qs.lessOrEqual=C4;function vm(e,t){if(e.length!==t.length)return 0;for(var r=0,i=0;i<e.length;i++)r|=e[i]^t[i];return 1&r-1>>>8}Qs.compare=vm;function D4(e,t){return e.length===0||t.length===0?!1:vm(e,t)!==0}Qs.equal=D4,function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Qs,r=qi;e.DIGEST_LENGTH=16;var i=function(){function h(d){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var g=d[0]|d[1]<<8;this._r[0]=g&8191;var p=d[2]|d[3]<<8;this._r[1]=(g>>>13|p<<3)&8191;var _=d[4]|d[5]<<8;this._r[2]=(p>>>10|_<<6)&7939;var S=d[6]|d[7]<<8;this._r[3]=(_>>>7|S<<9)&8191;var D=d[8]|d[9]<<8;this._r[4]=(S>>>4|D<<12)&255,this._r[5]=D>>>1&8190;var O=d[10]|d[11]<<8;this._r[6]=(D>>>14|O<<2)&8191;var N=d[12]|d[13]<<8;this._r[7]=(O>>>11|N<<5)&8065;var L=d[14]|d[15]<<8;this._r[8]=(N>>>8|L<<8)&8191,this._r[9]=L>>>5&127,this._pad[0]=d[16]|d[17]<<8,this._pad[1]=d[18]|d[19]<<8,this._pad[2]=d[20]|d[21]<<8,this._pad[3]=d[22]|d[23]<<8,this._pad[4]=d[24]|d[25]<<8,this._pad[5]=d[26]|d[27]<<8,this._pad[6]=d[28]|d[29]<<8,this._pad[7]=d[30]|d[31]<<8}return h.prototype._blocks=function(d,g,p){for(var _=this._fin?0:2048,S=this._h[0],D=this._h[1],O=this._h[2],N=this._h[3],L=this._h[4],z=this._h[5],G=this._h[6],q=this._h[7],W=this._h[8],B=this._h[9],k=this._r[0],j=this._r[1],I=this._r[2],U=this._r[3],et=this._r[4],ct=this._r[5],Z=this._r[6],ut=this._r[7],o=this._r[8],u=this._r[9];p>=16;){var f=d[g+0]|d[g+1]<<8;S+=f&8191;var v=d[g+2]|d[g+3]<<8;D+=(f>>>13|v<<3)&8191;var A=d[g+4]|d[g+5]<<8;O+=(v>>>10|A<<6)&8191;var E=d[g+6]|d[g+7]<<8;N+=(A>>>7|E<<9)&8191;var x=d[g+8]|d[g+9]<<8;L+=(E>>>4|x<<12)&8191,z+=x>>>1&8191;var y=d[g+10]|d[g+11]<<8;G+=(x>>>14|y<<2)&8191;var c=d[g+12]|d[g+13]<<8;q+=(y>>>11|c<<5)&8191;var b=d[g+14]|d[g+15]<<8;W+=(c>>>8|b<<8)&8191,B+=b>>>5|_;var J=0,X=J;X+=S*k,X+=D*(5*u),X+=O*(5*o),X+=N*(5*ut),X+=L*(5*Z),J=X>>>13,X&=8191,X+=z*(5*ct),X+=G*(5*et),X+=q*(5*U),X+=W*(5*I),X+=B*(5*j),J+=X>>>13,X&=8191;var w=J;w+=S*j,w+=D*k,w+=O*(5*u),w+=N*(5*o),w+=L*(5*ut),J=w>>>13,w&=8191,w+=z*(5*Z),w+=G*(5*ct),w+=q*(5*et),w+=W*(5*U),w+=B*(5*I),J+=w>>>13,w&=8191;var V=J;V+=S*I,V+=D*j,V+=O*k,V+=N*(5*u),V+=L*(5*o),J=V>>>13,V&=8191,V+=z*(5*ut),V+=G*(5*Z),V+=q*(5*ct),V+=W*(5*et),V+=B*(5*U),J+=V>>>13,V&=8191;var P=J;P+=S*U,P+=D*I,P+=O*j,P+=N*k,P+=L*(5*u),J=P>>>13,P&=8191,P+=z*(5*o),P+=G*(5*ut),P+=q*(5*Z),P+=W*(5*ct),P+=B*(5*et),J+=P>>>13,P&=8191;var T=J;T+=S*et,T+=D*U,T+=O*I,T+=N*j,T+=L*k,J=T>>>13,T&=8191,T+=z*(5*u),T+=G*(5*o),T+=q*(5*ut),T+=W*(5*Z),T+=B*(5*ct),J+=T>>>13,T&=8191;var K=J;K+=S*ct,K+=D*et,K+=O*U,K+=N*I,K+=L*j,J=K>>>13,K&=8191,K+=z*k,K+=G*(5*u),K+=q*(5*o),K+=W*(5*ut),K+=B*(5*Z),J+=K>>>13,K&=8191;var M=J;M+=S*Z,M+=D*ct,M+=O*et,M+=N*U,M+=L*I,J=M>>>13,M&=8191,M+=z*j,M+=G*k,M+=q*(5*u),M+=W*(5*o),M+=B*(5*ut),J+=M>>>13,M&=8191;var $=J;$+=S*ut,$+=D*Z,$+=O*ct,$+=N*et,$+=L*U,J=$>>>13,$&=8191,$+=z*I,$+=G*j,$+=q*k,$+=W*(5*u),$+=B*(5*o),J+=$>>>13,$&=8191;var it=J;it+=S*o,it+=D*ut,it+=O*Z,it+=N*ct,it+=L*et,J=it>>>13,it&=8191,it+=z*U,it+=G*I,it+=q*j,it+=W*k,it+=B*(5*u),J+=it>>>13,it&=8191;var ot=J;ot+=S*u,ot+=D*o,ot+=O*ut,ot+=N*Z,ot+=L*ct,J=ot>>>13,ot&=8191,ot+=z*et,ot+=G*U,ot+=q*I,ot+=W*j,ot+=B*k,J+=ot>>>13,ot&=8191,J=(J<<2)+J|0,J=J+X|0,X=J&8191,J=J>>>13,w+=J,S=X,D=w,O=V,N=P,L=T,z=K,G=M,q=$,W=it,B=ot,g+=16,p-=16}this._h[0]=S,this._h[1]=D,this._h[2]=O,this._h[3]=N,this._h[4]=L,this._h[5]=z,this._h[6]=G,this._h[7]=q,this._h[8]=W,this._h[9]=B},h.prototype.finish=function(d,g){g===void 0&&(g=0);var p=new Uint16Array(10),_,S,D,O;if(this._leftover){for(O=this._leftover,this._buffer[O++]=1;O<16;O++)this._buffer[O]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(_=this._h[1]>>>13,this._h[1]&=8191,O=2;O<10;O++)this._h[O]+=_,_=this._h[O]>>>13,this._h[O]&=8191;for(this._h[0]+=_*5,_=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=_,_=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=_,p[0]=this._h[0]+5,_=p[0]>>>13,p[0]&=8191,O=1;O<10;O++)p[O]=this._h[O]+_,_=p[O]>>>13,p[O]&=8191;for(p[9]-=8192,S=(_^1)-1,O=0;O<10;O++)p[O]&=S;for(S=~S,O=0;O<10;O++)this._h[O]=this._h[O]&S|p[O];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,D=this._h[0]+this._pad[0],this._h[0]=D&65535,O=1;O<8;O++)D=(this._h[O]+this._pad[O]|0)+(D>>>16)|0,this._h[O]=D&65535;return d[g+0]=this._h[0]>>>0,d[g+1]=this._h[0]>>>8,d[g+2]=this._h[1]>>>0,d[g+3]=this._h[1]>>>8,d[g+4]=this._h[2]>>>0,d[g+5]=this._h[2]>>>8,d[g+6]=this._h[3]>>>0,d[g+7]=this._h[3]>>>8,d[g+8]=this._h[4]>>>0,d[g+9]=this._h[4]>>>8,d[g+10]=this._h[5]>>>0,d[g+11]=this._h[5]>>>8,d[g+12]=this._h[6]>>>0,d[g+13]=this._h[6]>>>8,d[g+14]=this._h[7]>>>0,d[g+15]=this._h[7]>>>8,this._finished=!0,this},h.prototype.update=function(d){var g=0,p=d.length,_;if(this._leftover){_=16-this._leftover,_>p&&(_=p);for(var S=0;S<_;S++)this._buffer[this._leftover+S]=d[g+S];if(p-=_,g+=_,this._leftover+=_,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(p>=16&&(_=p-p%16,this._blocks(d,g,_),g+=_,p-=_),p){for(var S=0;S<p;S++)this._buffer[this._leftover+S]=d[g+S];this._leftover+=p}return this},h.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var d=new Uint8Array(16);return this.finish(d),d},h.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},h}();e.Poly1305=i;function n(h,d){var g=new i(h);g.update(d);var p=g.digest();return g.clean(),p}e.oneTimeAuth=n;function s(h,d){return h.length!==e.DIGEST_LENGTH||d.length!==e.DIGEST_LENGTH?!1:t.equal(h,d)}e.equal=s}(mm),function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=pu,r=mm,i=qi,n=we,s=Qs;e.KEY_LENGTH=32,e.NONCE_LENGTH=12,e.TAG_LENGTH=16;var h=new Uint8Array(16),d=function(){function g(p){if(this.nonceLength=e.NONCE_LENGTH,this.tagLength=e.TAG_LENGTH,p.length!==e.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(p)}return g.prototype.seal=function(p,_,S,D){if(p.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var O=new Uint8Array(16);O.set(p,O.length-p.length);var N=new Uint8Array(32);t.stream(this._key,O,N,4);var L=_.length+this.tagLength,z;if(D){if(D.length!==L)throw new Error("ChaCha20Poly1305: incorrect destination length");z=D}else z=new Uint8Array(L);return t.streamXOR(this._key,O,_,z,4),this._authenticate(z.subarray(z.length-this.tagLength,z.length),N,z.subarray(0,z.length-this.tagLength),S),i.wipe(O),z},g.prototype.open=function(p,_,S,D){if(p.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(_.length<this.tagLength)return null;var O=new Uint8Array(16);O.set(p,O.length-p.length);var N=new Uint8Array(32);t.stream(this._key,O,N,4);var L=new Uint8Array(this.tagLength);if(this._authenticate(L,N,_.subarray(0,_.length-this.tagLength),S),!s.equal(L,_.subarray(_.length-this.tagLength,_.length)))return null;var z=_.length-this.tagLength,G;if(D){if(D.length!==z)throw new Error("ChaCha20Poly1305: incorrect destination length");G=D}else G=new Uint8Array(z);return t.streamXOR(this._key,O,_.subarray(0,_.length-this.tagLength),G,4),i.wipe(O),G},g.prototype.clean=function(){return i.wipe(this._key),this},g.prototype._authenticate=function(p,_,S,D){var O=new r.Poly1305(_);D&&(O.update(D),D.length%16>0&&O.update(h.subarray(D.length%16))),O.update(S),S.length%16>0&&O.update(h.subarray(S.length%16));var N=new Uint8Array(8);D&&n.writeUint64LE(D.length,N),O.update(N),n.writeUint64LE(S.length,N),O.update(N);for(var L=O.digest(),z=0;z<L.length;z++)p[z]=L[z];O.clean(),i.wipe(L),i.wipe(N)},g}();e.ChaCha20Poly1305=d}(l0);var wm={},jc={},v0={};Object.defineProperty(v0,"__esModule",{value:!0});function O4(e){return typeof e.saveState<"u"&&typeof e.restoreState<"u"&&typeof e.cleanSavedState<"u"}v0.isSerializableHash=O4,Object.defineProperty(jc,"__esModule",{value:!0});var jn=v0,N4=Qs,P4=qi,ym=function(){function e(t,r){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var i=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(i).clean():i.set(r);for(var n=0;n<i.length;n++)i[n]^=54;this._inner.update(i);for(var n=0;n<i.length;n++)i[n]^=106;this._outer.update(i),jn.isSerializableHash(this._inner)&&jn.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),P4.wipe(i)}return e.prototype.reset=function(){if(!jn.isSerializableHash(this._inner)||!jn.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){jn.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),jn.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(t){return this._inner.update(t),this},e.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype.saveState=function(){if(!jn.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(t){if(!jn.isSerializableHash(this._inner)||!jn.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(t){if(!jn.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},e}();jc.HMAC=ym;function R4(e,t,r){var i=new ym(e,t);i.update(r);var n=i.digest();return i.clean(),n}jc.hmac=R4,jc.equal=N4.equal,Object.defineProperty(wm,"__esModule",{value:!0});var bm=jc,Am=qi,T4=function(){function e(t,r,i,n){i===void 0&&(i=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=n;var s=bm.hmac(this._hash,i,r);this._hmac=new bm.HMAC(t,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(t===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(t){for(var r=new Uint8Array(t),i=0;i<r.length;i++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[i]=this._buffer[this._bufpos++];return r},e.prototype.clean=function(){this._hmac.clean(),Am.wipe(this._buffer),Am.wipe(this._counter),this._bufpos=0},e}(),$4=wm.HKDF=T4,wa={},vu={},wu={};Object.defineProperty(wu,"__esModule",{value:!0}),wu.BrowserRandomSource=void 0;const _m=65536;class B4{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t=typeof self<"u"?self.crypto||self.msCrypto:null;t&&t.getRandomValues!==void 0&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(t);for(let i=0;i<r.length;i+=_m)this._crypto.getRandomValues(r.subarray(i,i+Math.min(r.length-i,_m)));return r}}wu.BrowserRandomSource=B4;function U4(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yu={},L4={},F4=Object.freeze({__proto__:null,default:L4}),k4=uu(F4);Object.defineProperty(yu,"__esModule",{value:!0}),yu.NodeRandomSource=void 0;const j4=qi;class q4{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof U4<"u"){const t=k4;t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(t);if(r.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const i=new Uint8Array(t);for(let n=0;n<i.length;n++)i[n]=r[n];return(0,j4.wipe)(r),i}}yu.NodeRandomSource=q4,Object.defineProperty(vu,"__esModule",{value:!0}),vu.SystemRandomSource=void 0;const z4=wu,H4=yu;class K4{constructor(){if(this.isAvailable=!1,this.name="",this._source=new z4.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new H4.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}vu.SystemRandomSource=K4,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const t=vu,r=we,i=qi;e.defaultRandomSource=new t.SystemRandomSource;function n(p,_=e.defaultRandomSource){return _.randomBytes(p)}e.randomBytes=n;function s(p=e.defaultRandomSource){const _=n(4,p),S=(0,r.readUint32LE)(_);return(0,i.wipe)(_),S}e.randomUint32=s;const h="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function d(p,_=h,S=e.defaultRandomSource){if(_.length<2)throw new Error("randomString charset is too short");if(_.length>256)throw new Error("randomString charset is too long");let D="";const O=_.length,N=256-256%O;for(;p>0;){const L=n(Math.ceil(p*256/N),S);for(let z=0;z<L.length&&p>0;z++){const G=L[z];G<N&&(D+=_.charAt(G%O),p--)}(0,i.wipe)(L)}return D}e.randomString=d;function g(p,_=h,S=e.defaultRandomSource){const D=Math.ceil(p/(Math.log(_.length)/Math.LN2));return d(D,_,S)}e.randomStringForEntropy=g}(wa);var ya={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=we,r=qi;e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var i=function(){function d(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return d.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},d.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},d.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},d.prototype.update=function(g,p){if(p===void 0&&(p=g.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var _=0;if(this._bytesHashed+=p,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&p>0;)this._buffer[this._bufferLength++]=g[_++],p--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(p>=this.blockSize&&(_=s(this._temp,this._state,g,_,p),p%=this.blockSize);p>0;)this._buffer[this._bufferLength++]=g[_++],p--;return this},d.prototype.finish=function(g){if(!this._finished){var p=this._bytesHashed,_=this._bufferLength,S=p/536870912|0,D=p<<3,O=p%64<56?64:128;this._buffer[_]=128;for(var N=_+1;N<O-8;N++)this._buffer[N]=0;t.writeUint32BE(S,this._buffer,O-8),t.writeUint32BE(D,this._buffer,O-4),s(this._temp,this._state,this._buffer,0,O),this._finished=!0}for(var N=0;N<this.digestLength/4;N++)t.writeUint32BE(this._state[N],g,N*4);return this},d.prototype.digest=function(){var g=new Uint8Array(this.digestLength);return this.finish(g),g},d.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},d.prototype.restoreState=function(g){return this._state.set(g.state),this._bufferLength=g.bufferLength,g.buffer&&this._buffer.set(g.buffer),this._bytesHashed=g.bytesHashed,this._finished=!1,this},d.prototype.cleanSavedState=function(g){r.wipe(g.state),g.buffer&&r.wipe(g.buffer),g.bufferLength=0,g.bytesHashed=0},d}();e.SHA256=i;var n=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(d,g,p,_,S){for(;S>=64;){for(var D=g[0],O=g[1],N=g[2],L=g[3],z=g[4],G=g[5],q=g[6],W=g[7],B=0;B<16;B++){var k=_+B*4;d[B]=t.readUint32BE(p,k)}for(var B=16;B<64;B++){var j=d[B-2],I=(j>>>17|j<<32-17)^(j>>>19|j<<32-19)^j>>>10;j=d[B-15];var U=(j>>>7|j<<32-7)^(j>>>18|j<<32-18)^j>>>3;d[B]=(I+d[B-7]|0)+(U+d[B-16]|0)}for(var B=0;B<64;B++){var I=(((z>>>6|z<<26)^(z>>>11|z<<21)^(z>>>25|z<<7))+(z&G^~z&q)|0)+(W+(n[B]+d[B]|0)|0)|0,U=((D>>>2|D<<32-2)^(D>>>13|D<<32-13)^(D>>>22|D<<32-22))+(D&O^D&N^O&N)|0;W=q,q=G,G=z,z=L+I|0,L=N,N=O,O=D,D=I+U|0}g[0]+=D,g[1]+=O,g[2]+=N,g[3]+=L,g[4]+=z,g[5]+=G,g[6]+=q,g[7]+=W,_+=64,S-=64}return _}function h(d){var g=new i;g.update(d);var p=g.digest();return g.clean(),p}e.hash=h})(ya);var w0={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sharedKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.scalarMultBase=e.scalarMult=e.SHARED_KEY_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=void 0;const t=wa,r=qi;e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;function i(B){const k=new Float64Array(16);if(B)for(let j=0;j<B.length;j++)k[j]=B[j];return k}const n=new Uint8Array(32);n[0]=9;const s=i([56129,1]);function h(B){let k=1;for(let j=0;j<16;j++){let I=B[j]+k+65535;k=Math.floor(I/65536),B[j]=I-k*65536}B[0]+=k-1+37*(k-1)}function d(B,k,j){const I=~(j-1);for(let U=0;U<16;U++){const et=I&(B[U]^k[U]);B[U]^=et,k[U]^=et}}function g(B,k){const j=i(),I=i();for(let U=0;U<16;U++)I[U]=k[U];h(I),h(I),h(I);for(let U=0;U<2;U++){j[0]=I[0]-65517;for(let ct=1;ct<15;ct++)j[ct]=I[ct]-65535-(j[ct-1]>>16&1),j[ct-1]&=65535;j[15]=I[15]-32767-(j[14]>>16&1);const et=j[15]>>16&1;j[14]&=65535,d(I,j,1-et)}for(let U=0;U<16;U++)B[2*U]=I[U]&255,B[2*U+1]=I[U]>>8}function p(B,k){for(let j=0;j<16;j++)B[j]=k[2*j]+(k[2*j+1]<<8);B[15]&=32767}function _(B,k,j){for(let I=0;I<16;I++)B[I]=k[I]+j[I]}function S(B,k,j){for(let I=0;I<16;I++)B[I]=k[I]-j[I]}function D(B,k,j){let I,U,et=0,ct=0,Z=0,ut=0,o=0,u=0,f=0,v=0,A=0,E=0,x=0,y=0,c=0,b=0,J=0,X=0,w=0,V=0,P=0,T=0,K=0,M=0,$=0,it=0,ot=0,rt=0,Ut=0,_t=0,wt=0,pe=0,Ot=0,bt=j[0],ee=j[1],pt=j[2],gt=j[3],ne=j[4],ft=j[5],mt=j[6],Zt=j[7],dt=j[8],At=j[9],re=j[10],Et=j[11],Mt=j[12],oe=j[13],xt=j[14],St=j[15];I=k[0],et+=I*bt,ct+=I*ee,Z+=I*pt,ut+=I*gt,o+=I*ne,u+=I*ft,f+=I*mt,v+=I*Zt,A+=I*dt,E+=I*At,x+=I*re,y+=I*Et,c+=I*Mt,b+=I*oe,J+=I*xt,X+=I*St,I=k[1],ct+=I*bt,Z+=I*ee,ut+=I*pt,o+=I*gt,u+=I*ne,f+=I*ft,v+=I*mt,A+=I*Zt,E+=I*dt,x+=I*At,y+=I*re,c+=I*Et,b+=I*Mt,J+=I*oe,X+=I*xt,w+=I*St,I=k[2],Z+=I*bt,ut+=I*ee,o+=I*pt,u+=I*gt,f+=I*ne,v+=I*ft,A+=I*mt,E+=I*Zt,x+=I*dt,y+=I*At,c+=I*re,b+=I*Et,J+=I*Mt,X+=I*oe,w+=I*xt,V+=I*St,I=k[3],ut+=I*bt,o+=I*ee,u+=I*pt,f+=I*gt,v+=I*ne,A+=I*ft,E+=I*mt,x+=I*Zt,y+=I*dt,c+=I*At,b+=I*re,J+=I*Et,X+=I*Mt,w+=I*oe,V+=I*xt,P+=I*St,I=k[4],o+=I*bt,u+=I*ee,f+=I*pt,v+=I*gt,A+=I*ne,E+=I*ft,x+=I*mt,y+=I*Zt,c+=I*dt,b+=I*At,J+=I*re,X+=I*Et,w+=I*Mt,V+=I*oe,P+=I*xt,T+=I*St,I=k[5],u+=I*bt,f+=I*ee,v+=I*pt,A+=I*gt,E+=I*ne,x+=I*ft,y+=I*mt,c+=I*Zt,b+=I*dt,J+=I*At,X+=I*re,w+=I*Et,V+=I*Mt,P+=I*oe,T+=I*xt,K+=I*St,I=k[6],f+=I*bt,v+=I*ee,A+=I*pt,E+=I*gt,x+=I*ne,y+=I*ft,c+=I*mt,b+=I*Zt,J+=I*dt,X+=I*At,w+=I*re,V+=I*Et,P+=I*Mt,T+=I*oe,K+=I*xt,M+=I*St,I=k[7],v+=I*bt,A+=I*ee,E+=I*pt,x+=I*gt,y+=I*ne,c+=I*ft,b+=I*mt,J+=I*Zt,X+=I*dt,w+=I*At,V+=I*re,P+=I*Et,T+=I*Mt,K+=I*oe,M+=I*xt,$+=I*St,I=k[8],A+=I*bt,E+=I*ee,x+=I*pt,y+=I*gt,c+=I*ne,b+=I*ft,J+=I*mt,X+=I*Zt,w+=I*dt,V+=I*At,P+=I*re,T+=I*Et,K+=I*Mt,M+=I*oe,$+=I*xt,it+=I*St,I=k[9],E+=I*bt,x+=I*ee,y+=I*pt,c+=I*gt,b+=I*ne,J+=I*ft,X+=I*mt,w+=I*Zt,V+=I*dt,P+=I*At,T+=I*re,K+=I*Et,M+=I*Mt,$+=I*oe,it+=I*xt,ot+=I*St,I=k[10],x+=I*bt,y+=I*ee,c+=I*pt,b+=I*gt,J+=I*ne,X+=I*ft,w+=I*mt,V+=I*Zt,P+=I*dt,T+=I*At,K+=I*re,M+=I*Et,$+=I*Mt,it+=I*oe,ot+=I*xt,rt+=I*St,I=k[11],y+=I*bt,c+=I*ee,b+=I*pt,J+=I*gt,X+=I*ne,w+=I*ft,V+=I*mt,P+=I*Zt,T+=I*dt,K+=I*At,M+=I*re,$+=I*Et,it+=I*Mt,ot+=I*oe,rt+=I*xt,Ut+=I*St,I=k[12],c+=I*bt,b+=I*ee,J+=I*pt,X+=I*gt,w+=I*ne,V+=I*ft,P+=I*mt,T+=I*Zt,K+=I*dt,M+=I*At,$+=I*re,it+=I*Et,ot+=I*Mt,rt+=I*oe,Ut+=I*xt,_t+=I*St,I=k[13],b+=I*bt,J+=I*ee,X+=I*pt,w+=I*gt,V+=I*ne,P+=I*ft,T+=I*mt,K+=I*Zt,M+=I*dt,$+=I*At,it+=I*re,ot+=I*Et,rt+=I*Mt,Ut+=I*oe,_t+=I*xt,wt+=I*St,I=k[14],J+=I*bt,X+=I*ee,w+=I*pt,V+=I*gt,P+=I*ne,T+=I*ft,K+=I*mt,M+=I*Zt,$+=I*dt,it+=I*At,ot+=I*re,rt+=I*Et,Ut+=I*Mt,_t+=I*oe,wt+=I*xt,pe+=I*St,I=k[15],X+=I*bt,w+=I*ee,V+=I*pt,P+=I*gt,T+=I*ne,K+=I*ft,M+=I*mt,$+=I*Zt,it+=I*dt,ot+=I*At,rt+=I*re,Ut+=I*Et,_t+=I*Mt,wt+=I*oe,pe+=I*xt,Ot+=I*St,et+=38*w,ct+=38*V,Z+=38*P,ut+=38*T,o+=38*K,u+=38*M,f+=38*$,v+=38*it,A+=38*ot,E+=38*rt,x+=38*Ut,y+=38*_t,c+=38*wt,b+=38*pe,J+=38*Ot,U=1,I=et+U+65535,U=Math.floor(I/65536),et=I-U*65536,I=ct+U+65535,U=Math.floor(I/65536),ct=I-U*65536,I=Z+U+65535,U=Math.floor(I/65536),Z=I-U*65536,I=ut+U+65535,U=Math.floor(I/65536),ut=I-U*65536,I=o+U+65535,U=Math.floor(I/65536),o=I-U*65536,I=u+U+65535,U=Math.floor(I/65536),u=I-U*65536,I=f+U+65535,U=Math.floor(I/65536),f=I-U*65536,I=v+U+65535,U=Math.floor(I/65536),v=I-U*65536,I=A+U+65535,U=Math.floor(I/65536),A=I-U*65536,I=E+U+65535,U=Math.floor(I/65536),E=I-U*65536,I=x+U+65535,U=Math.floor(I/65536),x=I-U*65536,I=y+U+65535,U=Math.floor(I/65536),y=I-U*65536,I=c+U+65535,U=Math.floor(I/65536),c=I-U*65536,I=b+U+65535,U=Math.floor(I/65536),b=I-U*65536,I=J+U+65535,U=Math.floor(I/65536),J=I-U*65536,I=X+U+65535,U=Math.floor(I/65536),X=I-U*65536,et+=U-1+37*(U-1),U=1,I=et+U+65535,U=Math.floor(I/65536),et=I-U*65536,I=ct+U+65535,U=Math.floor(I/65536),ct=I-U*65536,I=Z+U+65535,U=Math.floor(I/65536),Z=I-U*65536,I=ut+U+65535,U=Math.floor(I/65536),ut=I-U*65536,I=o+U+65535,U=Math.floor(I/65536),o=I-U*65536,I=u+U+65535,U=Math.floor(I/65536),u=I-U*65536,I=f+U+65535,U=Math.floor(I/65536),f=I-U*65536,I=v+U+65535,U=Math.floor(I/65536),v=I-U*65536,I=A+U+65535,U=Math.floor(I/65536),A=I-U*65536,I=E+U+65535,U=Math.floor(I/65536),E=I-U*65536,I=x+U+65535,U=Math.floor(I/65536),x=I-U*65536,I=y+U+65535,U=Math.floor(I/65536),y=I-U*65536,I=c+U+65535,U=Math.floor(I/65536),c=I-U*65536,I=b+U+65535,U=Math.floor(I/65536),b=I-U*65536,I=J+U+65535,U=Math.floor(I/65536),J=I-U*65536,I=X+U+65535,U=Math.floor(I/65536),X=I-U*65536,et+=U-1+37*(U-1),B[0]=et,B[1]=ct,B[2]=Z,B[3]=ut,B[4]=o,B[5]=u,B[6]=f,B[7]=v,B[8]=A,B[9]=E,B[10]=x,B[11]=y,B[12]=c,B[13]=b,B[14]=J,B[15]=X}function O(B,k){D(B,k,k)}function N(B,k){const j=i();for(let I=0;I<16;I++)j[I]=k[I];for(let I=253;I>=0;I--)O(j,j),I!==2&&I!==4&&D(j,j,k);for(let I=0;I<16;I++)B[I]=j[I]}function L(B,k){const j=new Uint8Array(32),I=new Float64Array(80),U=i(),et=i(),ct=i(),Z=i(),ut=i(),o=i();for(let A=0;A<31;A++)j[A]=B[A];j[31]=B[31]&127|64,j[0]&=248,p(I,k);for(let A=0;A<16;A++)et[A]=I[A];U[0]=Z[0]=1;for(let A=254;A>=0;--A){const E=j[A>>>3]>>>(A&7)&1;d(U,et,E),d(ct,Z,E),_(ut,U,ct),S(U,U,ct),_(ct,et,Z),S(et,et,Z),O(Z,ut),O(o,U),D(U,ct,U),D(ct,et,ut),_(ut,U,ct),S(U,U,ct),O(et,U),S(ct,Z,o),D(U,ct,s),_(U,U,Z),D(ct,ct,U),D(U,Z,o),D(Z,et,I),O(et,ut),d(U,et,E),d(ct,Z,E)}for(let A=0;A<16;A++)I[A+16]=U[A],I[A+32]=ct[A],I[A+48]=et[A],I[A+64]=Z[A];const u=I.subarray(32),f=I.subarray(16);N(u,u),D(f,f,u);const v=new Uint8Array(32);return g(v,f),v}e.scalarMult=L;function z(B){return L(B,n)}e.scalarMultBase=z;function G(B){if(B.length!==e.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${e.SECRET_KEY_LENGTH} bytes`);const k=new Uint8Array(B);return{publicKey:z(k),secretKey:k}}e.generateKeyPairFromSeed=G;function q(B){const k=(0,t.randomBytes)(32,B),j=G(k);return(0,r.wipe)(k),j}e.generateKeyPair=q;function W(B,k,j=!1){if(B.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(k.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const I=L(B,k);if(j){let U=0;for(let et=0;et<I.length;et++)U|=I[et];if(U===0)throw new Error("X25519: invalid shared key")}return I}e.sharedKey=W})(w0);function Em(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function Mm(e,t){t||(t=e.reduce((n,s)=>n+s.length,0));const r=Em(t);let i=0;for(const n of e)r.set(n,i),i+=n.length;return r}function W4(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),h=s.charCodeAt(0);if(r[h]!==255)throw new TypeError(s+" is ambiguous");r[h]=n}var d=e.length,g=e.charAt(0),p=Math.log(d)/Math.log(256),_=Math.log(256)/Math.log(d);function S(N){if(N instanceof Uint8Array||(ArrayBuffer.isView(N)?N=new Uint8Array(N.buffer,N.byteOffset,N.byteLength):Array.isArray(N)&&(N=Uint8Array.from(N))),!(N instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(N.length===0)return"";for(var L=0,z=0,G=0,q=N.length;G!==q&&N[G]===0;)G++,L++;for(var W=(q-G)*_+1>>>0,B=new Uint8Array(W);G!==q;){for(var k=N[G],j=0,I=W-1;(k!==0||j<z)&&I!==-1;I--,j++)k+=256*B[I]>>>0,B[I]=k%d>>>0,k=k/d>>>0;if(k!==0)throw new Error("Non-zero carry");z=j,G++}for(var U=W-z;U!==W&&B[U]===0;)U++;for(var et=g.repeat(L);U<W;++U)et+=e.charAt(B[U]);return et}function D(N){if(typeof N!="string")throw new TypeError("Expected String");if(N.length===0)return new Uint8Array;var L=0;if(N[L]!==" "){for(var z=0,G=0;N[L]===g;)z++,L++;for(var q=(N.length-L)*p+1>>>0,W=new Uint8Array(q);N[L];){var B=r[N.charCodeAt(L)];if(B===255)return;for(var k=0,j=q-1;(B!==0||k<G)&&j!==-1;j--,k++)B+=d*W[j]>>>0,W[j]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");G=k,L++}if(N[L]!==" "){for(var I=q-G;I!==q&&W[I]===0;)I++;for(var U=new Uint8Array(z+(q-I)),et=z;I!==q;)U[et++]=W[I++];return U}}}function O(N){var L=D(N);if(L)return L;throw new Error(`Non-${t} character`)}return{encode:S,decodeUnsafe:D,decode:O}}var V4=W4,G4=V4;const Sm=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Q4=e=>new TextEncoder().encode(e),Y4=e=>new TextDecoder().decode(e);class J4{constructor(t,r,i){this.name=t,this.prefix=r,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class Z4{constructor(t,r,i){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Im(this,t)}}class X4{constructor(t){this.decoders=t}or(t){return Im(this,t)}decode(t){const r=t[0],i=this.decoders[r];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Im=(e,t)=>new X4({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class tA{constructor(t,r,i,n){this.name=t,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new J4(t,r,i),this.decoder=new Z4(t,r,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const bu=({name:e,prefix:t,encode:r,decode:i})=>new tA(e,t,r,i),qc=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:n}=G4(r,t);return bu({prefix:e,name:t,encode:i,decode:s=>Sm(n(s))})},eA=(e,t,r,i)=>{const n={};for(let _=0;_<t.length;++_)n[t[_]]=_;let s=e.length;for(;e[s-1]==="=";)--s;const h=new Uint8Array(s*r/8|0);let d=0,g=0,p=0;for(let _=0;_<s;++_){const S=n[e[_]];if(S===void 0)throw new SyntaxError(`Non-${i} character`);g=g<<r|S,d+=r,d>=8&&(d-=8,h[p++]=255&g>>d)}if(d>=r||255&g<<8-d)throw new SyntaxError("Unexpected end of data");return h},rA=(e,t,r)=>{const i=t[t.length-1]==="=",n=(1<<r)-1;let s="",h=0,d=0;for(let g=0;g<e.length;++g)for(d=d<<8|e[g],h+=8;h>r;)h-=r,s+=t[n&d>>h];if(h&&(s+=t[n&d<<r-h]),i)for(;s.length*r&7;)s+="=";return s},Wr=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>bu({prefix:t,name:e,encode(n){return rA(n,i,r)},decode(n){return eA(n,i,r,e)}}),iA=bu({prefix:"\0",name:"identity",encode:e=>Y4(e),decode:e=>Q4(e)});var nA=Object.freeze({__proto__:null,identity:iA});const sA=Wr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var oA=Object.freeze({__proto__:null,base2:sA});const aA=Wr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var cA=Object.freeze({__proto__:null,base8:aA});const hA=qc({prefix:"9",name:"base10",alphabet:"0123456789"});var uA=Object.freeze({__proto__:null,base10:hA});const lA=Wr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),fA=Wr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var dA=Object.freeze({__proto__:null,base16:lA,base16upper:fA});const pA=Wr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),gA=Wr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),mA=Wr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),vA=Wr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),wA=Wr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),yA=Wr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),bA=Wr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),AA=Wr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),_A=Wr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var EA=Object.freeze({__proto__:null,base32:pA,base32upper:gA,base32pad:mA,base32padupper:vA,base32hex:wA,base32hexupper:yA,base32hexpad:bA,base32hexpadupper:AA,base32z:_A});const MA=qc({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),SA=qc({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var IA=Object.freeze({__proto__:null,base36:MA,base36upper:SA});const xA=qc({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),CA=qc({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var DA=Object.freeze({__proto__:null,base58btc:xA,base58flickr:CA});const OA=Wr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),NA=Wr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),PA=Wr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),RA=Wr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var TA=Object.freeze({__proto__:null,base64:OA,base64pad:NA,base64url:PA,base64urlpad:RA});const xm=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),$A=xm.reduce((e,t,r)=>(e[r]=t,e),[]),BA=xm.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function UA(e){return e.reduce((t,r)=>(t+=$A[r],t),"")}function LA(e){const t=[];for(const r of e){const i=BA[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(i)}return new Uint8Array(t)}const FA=bu({prefix:"\u{1F680}",name:"base256emoji",encode:UA,decode:LA});var kA=Object.freeze({__proto__:null,base256emoji:FA}),jA=Dm,Cm=128,qA=127,zA=~qA,HA=Math.pow(2,31);function Dm(e,t,r){t=t||[],r=r||0;for(var i=r;e>=HA;)t[r++]=e&255|Cm,e/=128;for(;e&zA;)t[r++]=e&255|Cm,e>>>=7;return t[r]=e|0,Dm.bytes=r-i+1,t}var KA=y0,WA=128,Om=127;function y0(e,i){var r=0,i=i||0,n=0,s=i,h,d=e.length;do{if(s>=d)throw y0.bytes=0,new RangeError("Could not decode varint");h=e[s++],r+=n<28?(h&Om)<<n:(h&Om)*Math.pow(2,n),n+=7}while(h>=WA);return y0.bytes=s-i,r}var VA=Math.pow(2,7),GA=Math.pow(2,14),QA=Math.pow(2,21),YA=Math.pow(2,28),JA=Math.pow(2,35),ZA=Math.pow(2,42),XA=Math.pow(2,49),t7=Math.pow(2,56),e7=Math.pow(2,63),r7=function(e){return e<VA?1:e<GA?2:e<QA?3:e<YA?4:e<JA?5:e<ZA?6:e<XA?7:e<t7?8:e<e7?9:10},i7={encode:jA,decode:KA,encodingLength:r7},Nm=i7;const Pm=(e,t,r=0)=>(Nm.encode(e,t,r),t),Rm=e=>Nm.encodingLength(e),b0=(e,t)=>{const r=t.byteLength,i=Rm(e),n=i+Rm(r),s=new Uint8Array(n+r);return Pm(e,s,0),Pm(r,s,i),s.set(t,n),new n7(e,r,t,s)};class n7{constructor(t,r,i,n){this.code=t,this.size=r,this.digest=i,this.bytes=n}}const Tm=({name:e,code:t,encode:r})=>new s7(e,t,r);class s7{constructor(t,r,i){this.name=t,this.code=r,this.encode=i}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?b0(this.code,r):r.then(i=>b0(this.code,i))}else throw Error("Unknown type, must be binary type")}}const $m=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),o7=Tm({name:"sha2-256",code:18,encode:$m("SHA-256")}),a7=Tm({name:"sha2-512",code:19,encode:$m("SHA-512")});var c7=Object.freeze({__proto__:null,sha256:o7,sha512:a7});const Bm=0,h7="identity",Um=Sm;var u7=Object.freeze({__proto__:null,identity:{code:Bm,name:h7,encode:Um,digest:e=>b0(Bm,Um(e))}});new TextEncoder,new TextDecoder;const Au={...nA,...oA,...cA,...uA,...dA,...EA,...IA,...DA,...TA,...kA};({...c7,...u7});function Lm(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const Fm=Lm("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),A0=Lm("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=Em(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),km={utf8:Fm,"utf-8":Fm,hex:Au.base16,latin1:A0,ascii:A0,binary:A0,...Au};function zi(e,t="utf8"){const r=km[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function Ii(e,t="utf8"){const r=km[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}const l7={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}},f7=":";function zc(e){const[t,r]=e.split(f7);return{namespace:t,reference:r}}function jm(e,t=[]){const r=[];return Object.keys(e).forEach(i=>{if(t.length&&!t.includes(i))return;const n=e[i];r.push(...n.accounts)}),r}function qm(e,t){return e.includes(":")?[e]:t.chains||[]}const d7="ReactNative",ba={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"};function zm(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function p7(){return!Lc()&&!!Fc()&&navigator.product===d7}function _0(){return!zm()&&!!Fc()&&!!Lc()}function g7(){return p7()?ba.reactNative:zm()?ba.node:_0()?ba.browser:ba.unknown}function m7(){return nm()||{name:"",description:"",url:"",icons:[""]}}function No(e,t){return e.filter(r=>t.includes(r)).length===e.length}function Aa(e=Vt.FIVE_MINUTES,t){const r=Vt.toMiliseconds(e||Vt.FIVE_MINUTES);let i,n,s;return{resolve:h=>{s&&i&&(clearTimeout(s),i(h))},reject:h=>{s&&n&&(clearTimeout(s),n(h))},done:()=>new Promise((h,d)=>{s=setTimeout(()=>{d(new Error(t))},r),i=h,n=d})}}function v7(e){const[t,r]=e.split(":"),i={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")i.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))i.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return i}function Hi(e,t){return Vt.fromMiliseconds((t||Date.now())+Vt.toMiliseconds(e))}function _a(e){return Date.now()>=Vt.toMiliseconds(e)}function ke(e,t){return`${e}${t?`:${t}`:""}`}function _u(e=[],t=[]){return[...new Set([...e,...t])]}async function w7({id:e,topic:t,wcDeepLink:r}){try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r;let n=i?.href;if(typeof n!="string")return;n.endsWith("/")&&(n=n.slice(0,-1));const s=`${n}/wc?requestId=${e}&sessionTopic=${t}`,h=g7();h===ba.browser?s.startsWith("https://")||s.startsWith("http://")?window.open(s,"_blank","noreferrer noopener"):window.open(s,"_self","noreferrer noopener"):h===ba.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(s)}catch(i){console.error(i)}}async function y7(e,t){try{return await e.getItem(t)||(_0()?localStorage.getItem(t):void 0)}catch(r){console.error(r)}}var E0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function b7(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var Hm={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var s=!i&&typeof self=="object",h=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;h?n=E0:s&&(n=self);var d=!n.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,g=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),_=[31,7936,2031616,520093696],S=[4,1024,262144,67108864],D=[1,256,65536,16777216],O=[6,1536,393216,100663296],N=[0,8,16,24],L=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],z=[224,256,384,512],G=[128,256],q=["hex","buffer","arrayBuffer","array","digest"],W={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(w){return Object.prototype.toString.call(w)==="[object Array]"}),g&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(w){return typeof w=="object"&&w.buffer&&w.buffer.constructor===ArrayBuffer});for(var B=function(w,V,P){return function(T){return new b(w,V,w).update(T)[P]()}},k=function(w,V,P){return function(T,K){return new b(w,V,K).update(T)[P]()}},j=function(w,V,P){return function(T,K,M,$){return u["cshake"+w].update(T,K,M,$)[P]()}},I=function(w,V,P){return function(T,K,M,$){return u["kmac"+w].update(T,K,M,$)[P]()}},U=function(w,V,P,T){for(var K=0;K<q.length;++K){var M=q[K];w[M]=V(P,T,M)}return w},et=function(w,V){var P=B(w,V,"hex");return P.create=function(){return new b(w,V,w)},P.update=function(T){return P.create().update(T)},U(P,B,w,V)},ct=function(w,V){var P=k(w,V,"hex");return P.create=function(T){return new b(w,V,T)},P.update=function(T,K){return P.create(K).update(T)},U(P,k,w,V)},Z=function(w,V){var P=W[w],T=j(w,V,"hex");return T.create=function(K,M,$){return!M&&!$?u["shake"+w].create(K):new b(w,V,K).bytepad([M,$],P)},T.update=function(K,M,$,it){return T.create(M,$,it).update(K)},U(T,j,w,V)},ut=function(w,V){var P=W[w],T=I(w,V,"hex");return T.create=function(K,M,$){return new J(w,V,M).bytepad(["KMAC",$],P).bytepad([K],P)},T.update=function(K,M,$,it){return T.create(K,$,it).update(M)},U(T,I,w,V)},o=[{name:"keccak",padding:D,bits:z,createMethod:et},{name:"sha3",padding:O,bits:z,createMethod:et},{name:"shake",padding:_,bits:G,createMethod:ct},{name:"cshake",padding:S,bits:G,createMethod:Z},{name:"kmac",padding:S,bits:G,createMethod:ut}],u={},f=[],v=0;v<o.length;++v)for(var A=o[v],E=A.bits,x=0;x<E.length;++x){var y=A.name+"_"+E[x];if(f.push(y),u[y]=A.createMethod(E[x],A.padding),A.name!=="sha3"){var c=A.name+E[x];f.push(c),u[c]=u[y]}}function b(w,V,P){this.blocks=[],this.s=[],this.padding=V,this.outputBits=P,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(w<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=P>>5,this.extraBytes=(P&31)>>3;for(var T=0;T<50;++T)this.s[T]=0}b.prototype.update=function(w){if(this.finalized)throw new Error(r);var V,P=typeof w;if(P!=="string"){if(P==="object"){if(w===null)throw new Error(t);if(g&&w.constructor===ArrayBuffer)w=new Uint8Array(w);else if(!Array.isArray(w)&&(!g||!ArrayBuffer.isView(w)))throw new Error(t)}else throw new Error(t);V=!0}for(var T=this.blocks,K=this.byteCount,M=w.length,$=this.blockCount,it=0,ot=this.s,rt,Ut;it<M;){if(this.reset)for(this.reset=!1,T[0]=this.block,rt=1;rt<$+1;++rt)T[rt]=0;if(V)for(rt=this.start;it<M&&rt<K;++it)T[rt>>2]|=w[it]<<N[rt++&3];else for(rt=this.start;it<M&&rt<K;++it)Ut=w.charCodeAt(it),Ut<128?T[rt>>2]|=Ut<<N[rt++&3]:Ut<2048?(T[rt>>2]|=(192|Ut>>6)<<N[rt++&3],T[rt>>2]|=(128|Ut&63)<<N[rt++&3]):Ut<55296||Ut>=57344?(T[rt>>2]|=(224|Ut>>12)<<N[rt++&3],T[rt>>2]|=(128|Ut>>6&63)<<N[rt++&3],T[rt>>2]|=(128|Ut&63)<<N[rt++&3]):(Ut=65536+((Ut&1023)<<10|w.charCodeAt(++it)&1023),T[rt>>2]|=(240|Ut>>18)<<N[rt++&3],T[rt>>2]|=(128|Ut>>12&63)<<N[rt++&3],T[rt>>2]|=(128|Ut>>6&63)<<N[rt++&3],T[rt>>2]|=(128|Ut&63)<<N[rt++&3]);if(this.lastByteIndex=rt,rt>=K){for(this.start=rt-K,this.block=T[$],rt=0;rt<$;++rt)ot[rt]^=T[rt];X(ot),this.reset=!0}else this.start=rt}return this},b.prototype.encode=function(w,V){var P=w&255,T=1,K=[P];for(w=w>>8,P=w&255;P>0;)K.unshift(P),w=w>>8,P=w&255,++T;return V?K.push(T):K.unshift(T),this.update(K),K.length},b.prototype.encodeString=function(w){var V,P=typeof w;if(P!=="string"){if(P==="object"){if(w===null)throw new Error(t);if(g&&w.constructor===ArrayBuffer)w=new Uint8Array(w);else if(!Array.isArray(w)&&(!g||!ArrayBuffer.isView(w)))throw new Error(t)}else throw new Error(t);V=!0}var T=0,K=w.length;if(V)T=K;else for(var M=0;M<w.length;++M){var $=w.charCodeAt(M);$<128?T+=1:$<2048?T+=2:$<55296||$>=57344?T+=3:($=65536+(($&1023)<<10|w.charCodeAt(++M)&1023),T+=4)}return T+=this.encode(T*8),this.update(w),T},b.prototype.bytepad=function(w,V){for(var P=this.encode(V),T=0;T<w.length;++T)P+=this.encodeString(w[T]);var K=V-P%V,M=[];return M.length=K,this.update(M),this},b.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var w=this.blocks,V=this.lastByteIndex,P=this.blockCount,T=this.s;if(w[V>>2]|=this.padding[V&3],this.lastByteIndex===this.byteCount)for(w[0]=w[P],V=1;V<P+1;++V)w[V]=0;for(w[P-1]|=2147483648,V=0;V<P;++V)T[V]^=w[V];X(T)}},b.prototype.toString=b.prototype.hex=function(){this.finalize();for(var w=this.blockCount,V=this.s,P=this.outputBlocks,T=this.extraBytes,K=0,M=0,$="",it;M<P;){for(K=0;K<w&&M<P;++K,++M)it=V[K],$+=p[it>>4&15]+p[it&15]+p[it>>12&15]+p[it>>8&15]+p[it>>20&15]+p[it>>16&15]+p[it>>28&15]+p[it>>24&15];M%w===0&&(X(V),K=0)}return T&&(it=V[K],$+=p[it>>4&15]+p[it&15],T>1&&($+=p[it>>12&15]+p[it>>8&15]),T>2&&($+=p[it>>20&15]+p[it>>16&15])),$},b.prototype.arrayBuffer=function(){this.finalize();var w=this.blockCount,V=this.s,P=this.outputBlocks,T=this.extraBytes,K=0,M=0,$=this.outputBits>>3,it;T?it=new ArrayBuffer(P+1<<2):it=new ArrayBuffer($);for(var ot=new Uint32Array(it);M<P;){for(K=0;K<w&&M<P;++K,++M)ot[M]=V[K];M%w===0&&X(V)}return T&&(ot[K]=V[K],it=it.slice(0,$)),it},b.prototype.buffer=b.prototype.arrayBuffer,b.prototype.digest=b.prototype.array=function(){this.finalize();for(var w=this.blockCount,V=this.s,P=this.outputBlocks,T=this.extraBytes,K=0,M=0,$=[],it,ot;M<P;){for(K=0;K<w&&M<P;++K,++M)it=M<<2,ot=V[K],$[it]=ot&255,$[it+1]=ot>>8&255,$[it+2]=ot>>16&255,$[it+3]=ot>>24&255;M%w===0&&X(V)}return T&&(it=M<<2,ot=V[K],$[it]=ot&255,T>1&&($[it+1]=ot>>8&255),T>2&&($[it+2]=ot>>16&255)),$};function J(w,V,P){b.call(this,w,V,P)}J.prototype=new b,J.prototype.finalize=function(){return this.encode(this.outputBits,!0),b.prototype.finalize.call(this)};var X=function(w){var V,P,T,K,M,$,it,ot,rt,Ut,_t,wt,pe,Ot,bt,ee,pt,gt,ne,ft,mt,Zt,dt,At,re,Et,Mt,oe,xt,St,qe,qt,Ht,ze,Kt,Wt,ar,Rt,Nt,Ee,Tt,Pt,ge,Lt,Ft,Me,kt,$t,Ie,Bt,Dt,Ce,jt,Qt,_r,Yt,zt,cr,hr,ur,lr,fr,Ke;for(T=0;T<48;T+=2)K=w[0]^w[10]^w[20]^w[30]^w[40],M=w[1]^w[11]^w[21]^w[31]^w[41],$=w[2]^w[12]^w[22]^w[32]^w[42],it=w[3]^w[13]^w[23]^w[33]^w[43],ot=w[4]^w[14]^w[24]^w[34]^w[44],rt=w[5]^w[15]^w[25]^w[35]^w[45],Ut=w[6]^w[16]^w[26]^w[36]^w[46],_t=w[7]^w[17]^w[27]^w[37]^w[47],wt=w[8]^w[18]^w[28]^w[38]^w[48],pe=w[9]^w[19]^w[29]^w[39]^w[49],V=wt^($<<1|it>>>31),P=pe^(it<<1|$>>>31),w[0]^=V,w[1]^=P,w[10]^=V,w[11]^=P,w[20]^=V,w[21]^=P,w[30]^=V,w[31]^=P,w[40]^=V,w[41]^=P,V=K^(ot<<1|rt>>>31),P=M^(rt<<1|ot>>>31),w[2]^=V,w[3]^=P,w[12]^=V,w[13]^=P,w[22]^=V,w[23]^=P,w[32]^=V,w[33]^=P,w[42]^=V,w[43]^=P,V=$^(Ut<<1|_t>>>31),P=it^(_t<<1|Ut>>>31),w[4]^=V,w[5]^=P,w[14]^=V,w[15]^=P,w[24]^=V,w[25]^=P,w[34]^=V,w[35]^=P,w[44]^=V,w[45]^=P,V=ot^(wt<<1|pe>>>31),P=rt^(pe<<1|wt>>>31),w[6]^=V,w[7]^=P,w[16]^=V,w[17]^=P,w[26]^=V,w[27]^=P,w[36]^=V,w[37]^=P,w[46]^=V,w[47]^=P,V=Ut^(K<<1|M>>>31),P=_t^(M<<1|K>>>31),w[8]^=V,w[9]^=P,w[18]^=V,w[19]^=P,w[28]^=V,w[29]^=P,w[38]^=V,w[39]^=P,w[48]^=V,w[49]^=P,Ot=w[0],bt=w[1],Me=w[11]<<4|w[10]>>>28,kt=w[10]<<4|w[11]>>>28,oe=w[20]<<3|w[21]>>>29,xt=w[21]<<3|w[20]>>>29,ur=w[31]<<9|w[30]>>>23,lr=w[30]<<9|w[31]>>>23,Pt=w[40]<<18|w[41]>>>14,ge=w[41]<<18|w[40]>>>14,ze=w[2]<<1|w[3]>>>31,Kt=w[3]<<1|w[2]>>>31,ee=w[13]<<12|w[12]>>>20,pt=w[12]<<12|w[13]>>>20,$t=w[22]<<10|w[23]>>>22,Ie=w[23]<<10|w[22]>>>22,St=w[33]<<13|w[32]>>>19,qe=w[32]<<13|w[33]>>>19,fr=w[42]<<2|w[43]>>>30,Ke=w[43]<<2|w[42]>>>30,Qt=w[5]<<30|w[4]>>>2,_r=w[4]<<30|w[5]>>>2,Wt=w[14]<<6|w[15]>>>26,ar=w[15]<<6|w[14]>>>26,gt=w[25]<<11|w[24]>>>21,ne=w[24]<<11|w[25]>>>21,Bt=w[34]<<15|w[35]>>>17,Dt=w[35]<<15|w[34]>>>17,qt=w[45]<<29|w[44]>>>3,Ht=w[44]<<29|w[45]>>>3,At=w[6]<<28|w[7]>>>4,re=w[7]<<28|w[6]>>>4,Yt=w[17]<<23|w[16]>>>9,zt=w[16]<<23|w[17]>>>9,Rt=w[26]<<25|w[27]>>>7,Nt=w[27]<<25|w[26]>>>7,ft=w[36]<<21|w[37]>>>11,mt=w[37]<<21|w[36]>>>11,Ce=w[47]<<24|w[46]>>>8,jt=w[46]<<24|w[47]>>>8,Lt=w[8]<<27|w[9]>>>5,Ft=w[9]<<27|w[8]>>>5,Et=w[18]<<20|w[19]>>>12,Mt=w[19]<<20|w[18]>>>12,cr=w[29]<<7|w[28]>>>25,hr=w[28]<<7|w[29]>>>25,Ee=w[38]<<8|w[39]>>>24,Tt=w[39]<<8|w[38]>>>24,Zt=w[48]<<14|w[49]>>>18,dt=w[49]<<14|w[48]>>>18,w[0]=Ot^~ee&gt,w[1]=bt^~pt&ne,w[10]=At^~Et&oe,w[11]=re^~Mt&xt,w[20]=ze^~Wt&Rt,w[21]=Kt^~ar&Nt,w[30]=Lt^~Me&$t,w[31]=Ft^~kt&Ie,w[40]=Qt^~Yt&cr,w[41]=_r^~zt&hr,w[2]=ee^~gt&ft,w[3]=pt^~ne&mt,w[12]=Et^~oe&St,w[13]=Mt^~xt&qe,w[22]=Wt^~Rt&Ee,w[23]=ar^~Nt&Tt,w[32]=Me^~$t&Bt,w[33]=kt^~Ie&Dt,w[42]=Yt^~cr&ur,w[43]=zt^~hr&lr,w[4]=gt^~ft&Zt,w[5]=ne^~mt&dt,w[14]=oe^~St&qt,w[15]=xt^~qe&Ht,w[24]=Rt^~Ee&Pt,w[25]=Nt^~Tt&ge,w[34]=$t^~Bt&Ce,w[35]=Ie^~Dt&jt,w[44]=cr^~ur&fr,w[45]=hr^~lr&Ke,w[6]=ft^~Zt&Ot,w[7]=mt^~dt&bt,w[16]=St^~qt&At,w[17]=qe^~Ht&re,w[26]=Ee^~Pt&ze,w[27]=Tt^~ge&Kt,w[36]=Bt^~Ce&Lt,w[37]=Dt^~jt&Ft,w[46]=ur^~fr&Qt,w[47]=lr^~Ke&_r,w[8]=Zt^~Ot&ee,w[9]=dt^~bt&pt,w[18]=qt^~At&Et,w[19]=Ht^~re&Mt,w[28]=Pt^~ze&Wt,w[29]=ge^~Kt&ar,w[38]=Ce^~Lt&Me,w[39]=jt^~Ft&kt,w[48]=fr^~Qt&Yt,w[49]=Ke^~_r&zt,w[0]^=L[T],w[1]^=L[T+1]};if(d)e.exports=u;else for(v=0;v<f.length;++v)n[f[v]]=u[f[v]]})()})(Hm);var A7=Hm.exports;const _7="logger/5.7.0";let Km=!1,Wm=!1;const Eu={debug:1,default:2,info:2,warning:3,error:4,off:5};let Vm=Eu.default,M0=null;function E7(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}const Gm=E7();var S0;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(S0||(S0={}));var Sn;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(Sn||(Sn={}));const Qm="0123456789abcdef";class be{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();Eu[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(Vm>Eu[i])&&console.log.apply(console,r)}debug(...t){this._log(be.levels.DEBUG,t)}info(...t){this._log(be.levels.INFO,t)}warn(...t){this._log(be.levels.WARNING,t)}makeError(t,r,i){if(Wm)return this.makeError("censored error",r,{});r||(r=be.errors.UNKNOWN_ERROR),i||(i={});const n=[];Object.keys(i).forEach(g=>{const p=i[g];try{if(p instanceof Uint8Array){let _="";for(let S=0;S<p.length;S++)_+=Qm[p[S]>>4],_+=Qm[p[S]&15];n.push(g+"=Uint8Array(0x"+_+")")}else n.push(g+"="+JSON.stringify(p))}catch{n.push(g+"="+JSON.stringify(i[g].toString()))}}),n.push(`code=${r}`),n.push(`version=${this.version}`);const s=t;let h="";switch(r){case Sn.NUMERIC_FAULT:{h="NUMERIC_FAULT";const g=t;switch(g){case"overflow":case"underflow":case"division-by-zero":h+="-"+g;break;case"negative-power":case"negative-width":h+="-unsupported";break;case"unbound-bitwise-result":h+="-unbound-result";break}break}case Sn.CALL_EXCEPTION:case Sn.INSUFFICIENT_FUNDS:case Sn.MISSING_NEW:case Sn.NONCE_EXPIRED:case Sn.REPLACEMENT_UNDERPRICED:case Sn.TRANSACTION_REPLACED:case Sn.UNPREDICTABLE_GAS_LIMIT:h=r;break}h&&(t+=" [ See: https://links.ethers.org/v5-errors-"+h+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const d=new Error(t);return d.reason=s,d.code=r,Object.keys(i).forEach(function(g){d[g]=i[g]}),d}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,be.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,n){t||this.throwError(r,i,n)}assertArgument(t,r,i,n){t||this.throwArgumentError(r,i,n)}checkNormalize(t){Gm&&this.throwError("platform missing String.prototype.normalize",be.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Gm})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,be.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,be.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,be.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,be.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",be.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",be.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",be.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return M0||(M0=new be(_7)),M0}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",be.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Km){if(!t)return;this.globalLogger().throwError("error censorship permanent",be.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Wm=!!t,Km=!!r}static setLogLevel(t){const r=Eu[t.toLowerCase()];if(r==null){be.globalLogger().warn("invalid log level - "+t);return}Vm=r}static from(t){return new be(t)}}be.errors=Sn,be.levels=S0;const M7="bytes/5.7.0",Mr=new be(M7);function Ym(e){return!!e.toHexString}function Ea(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return Ea(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function S7(e){return Ki(e)&&!(e.length%2)||Ma(e)}function Jm(e){return typeof e=="number"&&e==e&&e%1===0}function Ma(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!Jm(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!Jm(r)||r<0||r>=256)return!1}return!0}function br(e,t){if(t||(t={}),typeof e=="number"){Mr.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),Ea(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),Ym(e)&&(e=e.toHexString()),Ki(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":Mr.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let n=0;n<r.length;n+=2)i.push(parseInt(r.substring(n,n+2),16));return Ea(new Uint8Array(i))}return Ma(e)?Ea(new Uint8Array(e)):Mr.throwArgumentError("invalid arrayify value","value",e)}function I7(e){const t=e.map(n=>br(n)),r=t.reduce((n,s)=>n+s.length,0),i=new Uint8Array(r);return t.reduce((n,s)=>(i.set(s,n),n+s.length),0),Ea(i)}function x7(e,t){e=br(e),e.length>t&&Mr.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(t);return r.set(e,t-e.length),Ea(r)}function Ki(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const I0="0123456789abcdef";function hi(e,t){if(t||(t={}),typeof e=="number"){Mr.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=I0[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),Ym(e))return e.toHexString();if(Ki(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":Mr.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(Ma(e)){let r="0x";for(let i=0;i<e.length;i++){let n=e[i];r+=I0[(n&240)>>4]+I0[n&15]}return r}return Mr.throwArgumentError("invalid hexlify value","value",e)}function C7(e){if(typeof e!="string")e=hi(e);else if(!Ki(e)||e.length%2)return null;return(e.length-2)/2}function Zm(e,t,r){return typeof e!="string"?e=hi(e):(!Ki(e)||e.length%2)&&Mr.throwArgumentError("invalid hexData","value",e),t=2+2*t,r!=null?"0x"+e.substring(t,2+2*r):"0x"+e.substring(t)}function qn(e,t){for(typeof e!="string"?e=hi(e):Ki(e)||Mr.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Mr.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}function Xm(e){const t={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(S7(e)){let r=br(e);r.length===64?(t.v=27+(r[32]>>7),r[32]&=127,t.r=hi(r.slice(0,32)),t.s=hi(r.slice(32,64))):r.length===65?(t.r=hi(r.slice(0,32)),t.s=hi(r.slice(32,64)),t.v=r[64]):Mr.throwArgumentError("invalid signature string","signature",e),t.v<27&&(t.v===0||t.v===1?t.v+=27:Mr.throwArgumentError("signature invalid v byte","signature",e)),t.recoveryParam=1-t.v%2,t.recoveryParam&&(r[32]|=128),t._vs=hi(r.slice(32,64))}else{if(t.r=e.r,t.s=e.s,t.v=e.v,t.recoveryParam=e.recoveryParam,t._vs=e._vs,t._vs!=null){const n=x7(br(t._vs),32);t._vs=hi(n);const s=n[0]>=128?1:0;t.recoveryParam==null?t.recoveryParam=s:t.recoveryParam!==s&&Mr.throwArgumentError("signature recoveryParam mismatch _vs","signature",e),n[0]&=127;const h=hi(n);t.s==null?t.s=h:t.s!==h&&Mr.throwArgumentError("signature v mismatch _vs","signature",e)}if(t.recoveryParam==null)t.v==null?Mr.throwArgumentError("signature missing v and recoveryParam","signature",e):t.v===0||t.v===1?t.recoveryParam=t.v:t.recoveryParam=1-t.v%2;else if(t.v==null)t.v=27+t.recoveryParam;else{const n=t.v===0||t.v===1?t.v:1-t.v%2;t.recoveryParam!==n&&Mr.throwArgumentError("signature recoveryParam mismatch v","signature",e)}t.r==null||!Ki(t.r)?Mr.throwArgumentError("signature missing or invalid r","signature",e):t.r=qn(t.r,32),t.s==null||!Ki(t.s)?Mr.throwArgumentError("signature missing or invalid s","signature",e):t.s=qn(t.s,32);const r=br(t.s);r[0]>=128&&Mr.throwArgumentError("signature s out of range","signature",e),t.recoveryParam&&(r[0]|=128);const i=hi(r);t._vs&&(Ki(t._vs)||Mr.throwArgumentError("signature invalid _vs","signature",e),t._vs=qn(t._vs,32)),t._vs==null?t._vs=i:t._vs!==i&&Mr.throwArgumentError("signature _vs mismatch v and s","signature",e)}return t.yParityAndS=t._vs,t.compact=t.r+t.yParityAndS.substring(2),t}function x0(e){return"0x"+A7.keccak_256(br(e))}var t2={exports:{}},D7={},O7=Object.freeze({__proto__:null,default:D7}),e2=b7(O7);(function(e){(function(t,r){function i(o,u){if(!o)throw new Error(u||"Assertion failed")}function n(o,u){o.super_=u;var f=function(){};f.prototype=u.prototype,o.prototype=new f,o.prototype.constructor=o}function s(o,u,f){if(s.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((u==="le"||u==="be")&&(f=u,u=10),this._init(o||0,u||10,f||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=e2.Buffer}catch{}s.isBN=function(o){return o instanceof s?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===s.wordSize&&Array.isArray(o.words)},s.max=function(o,u){return o.cmp(u)>0?o:u},s.min=function(o,u){return o.cmp(u)<0?o:u},s.prototype._init=function(o,u,f){if(typeof o=="number")return this._initNumber(o,u,f);if(typeof o=="object")return this._initArray(o,u,f);u==="hex"&&(u=16),i(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var v=0;o[0]==="-"&&(v++,this.negative=1),v<o.length&&(u===16?this._parseHex(o,v,f):(this._parseBase(o,u,v),f==="le"&&this._initArray(this.toArray(),u,f)))},s.prototype._initNumber=function(o,u,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),u,f)},s.prototype._initArray=function(o,u,f){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A,E,x=0;if(f==="be")for(v=o.length-1,A=0;v>=0;v-=3)E=o[v]|o[v-1]<<8|o[v-2]<<16,this.words[A]|=E<<x&67108863,this.words[A+1]=E>>>26-x&67108863,x+=24,x>=26&&(x-=26,A++);else if(f==="le")for(v=0,A=0;v<o.length;v+=3)E=o[v]|o[v+1]<<8|o[v+2]<<16,this.words[A]|=E<<x&67108863,this.words[A+1]=E>>>26-x&67108863,x+=24,x>=26&&(x-=26,A++);return this._strip()};function d(o,u){var f=o.charCodeAt(u);if(f>=48&&f<=57)return f-48;if(f>=65&&f<=70)return f-55;if(f>=97&&f<=102)return f-87;i(!1,"Invalid character in "+o)}function g(o,u,f){var v=d(o,f);return f-1>=u&&(v|=d(o,f-1)<<4),v}s.prototype._parseHex=function(o,u,f){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A=0,E=0,x;if(f==="be")for(v=o.length-1;v>=u;v-=2)x=g(o,u,v)<<A,this.words[E]|=x&67108863,A>=18?(A-=18,E+=1,this.words[E]|=x>>>26):A+=8;else{var y=o.length-u;for(v=y%2===0?u+1:u;v<o.length;v+=2)x=g(o,u,v)<<A,this.words[E]|=x&67108863,A>=18?(A-=18,E+=1,this.words[E]|=x>>>26):A+=8}this._strip()};function p(o,u,f,v){for(var A=0,E=0,x=Math.min(o.length,f),y=u;y<x;y++){var c=o.charCodeAt(y)-48;A*=v,c>=49?E=c-49+10:c>=17?E=c-17+10:E=c,i(c>=0&&E<v,"Invalid character"),A+=E}return A}s.prototype._parseBase=function(o,u,f){this.words=[0],this.length=1;for(var v=0,A=1;A<=67108863;A*=u)v++;v--,A=A/u|0;for(var E=o.length-f,x=E%v,y=Math.min(E,E-x)+f,c=0,b=f;b<y;b+=v)c=p(o,b,b+v,u),this.imuln(A),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(x!==0){var J=1;for(c=p(o,b,o.length,u),b=0;b<x;b++)J*=u;this.imuln(J),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red};function _(o,u){o.words=u.words,o.length=u.length,o.negative=u.negative,o.red=u.red}if(s.prototype._move=function(o){_(o,this)},s.prototype.clone=function(){var o=new s(null);return this.copy(o),o},s.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{s.prototype.inspect=S}else s.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var D=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],O=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(o,u){o=o||10,u=u|0||1;var f;if(o===16||o==="hex"){f="";for(var v=0,A=0,E=0;E<this.length;E++){var x=this.words[E],y=((x<<v|A)&16777215).toString(16);A=x>>>24-v&16777215,v+=2,v>=26&&(v-=26,E--),A!==0||E!==this.length-1?f=D[6-y.length]+y+f:f=y+f}for(A!==0&&(f=A.toString(16)+f);f.length%u!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var c=O[o],b=N[o];f="";var J=this.clone();for(J.negative=0;!J.isZero();){var X=J.modrn(b).toString(o);J=J.idivn(b),J.isZero()?f=X+f:f=D[c-X.length]+X+f}for(this.isZero()&&(f="0"+f);f.length%u!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},s.prototype.toJSON=function(){return this.toString(16,2)},h&&(s.prototype.toBuffer=function(o,u){return this.toArrayLike(h,o,u)}),s.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)};var L=function(o,u){return o.allocUnsafe?o.allocUnsafe(u):new o(u)};s.prototype.toArrayLike=function(o,u,f){this._strip();var v=this.byteLength(),A=f||Math.max(1,v);i(v<=A,"byte array longer than desired length"),i(A>0,"Requested array length <= 0");var E=L(o,A),x=u==="le"?"LE":"BE";return this["_toArrayLike"+x](E,v),E},s.prototype._toArrayLikeLE=function(o,u){for(var f=0,v=0,A=0,E=0;A<this.length;A++){var x=this.words[A]<<E|v;o[f++]=x&255,f<o.length&&(o[f++]=x>>8&255),f<o.length&&(o[f++]=x>>16&255),E===6?(f<o.length&&(o[f++]=x>>24&255),v=0,E=0):(v=x>>>24,E+=2)}if(f<o.length)for(o[f++]=v;f<o.length;)o[f++]=0},s.prototype._toArrayLikeBE=function(o,u){for(var f=o.length-1,v=0,A=0,E=0;A<this.length;A++){var x=this.words[A]<<E|v;o[f--]=x&255,f>=0&&(o[f--]=x>>8&255),f>=0&&(o[f--]=x>>16&255),E===6?(f>=0&&(o[f--]=x>>24&255),v=0,E=0):(v=x>>>24,E+=2)}if(f>=0)for(o[f--]=v;f>=0;)o[f--]=0},Math.clz32?s.prototype._countBits=function(o){return 32-Math.clz32(o)}:s.prototype._countBits=function(o){var u=o,f=0;return u>=4096&&(f+=13,u>>>=13),u>=64&&(f+=7,u>>>=7),u>=8&&(f+=4,u>>>=4),u>=2&&(f+=2,u>>>=2),f+u},s.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,f=0;return u&8191||(f+=13,u>>>=13),u&127||(f+=7,u>>>=7),u&15||(f+=4,u>>>=4),u&3||(f+=2,u>>>=2),u&1||f++,f},s.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function z(o){for(var u=new Array(o.bitLength()),f=0;f<u.length;f++){var v=f/26|0,A=f%26;u[f]=o.words[v]>>>A&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var f=this._zeroBits(this.words[u]);if(o+=f,f!==26)break}return o},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},s.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this._strip()},s.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},s.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},s.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},s.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var f=0;f<u.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=u.length,this._strip()},s.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},s.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},s.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},s.prototype.iuxor=function(o){var u,f;this.length>o.length?(u=this,f=o):(u=o,f=this);for(var v=0;v<f.length;v++)this.words[v]=u.words[v]^f.words[v];if(this!==u)for(;v<u.length;v++)this.words[v]=u.words[v];return this.length=u.length,this._strip()},s.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},s.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},s.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},s.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,f=o%26;this._expand(u),f>0&&u--;for(var v=0;v<u;v++)this.words[v]=~this.words[v]&67108863;return f>0&&(this.words[v]=~this.words[v]&67108863>>26-f),this._strip()},s.prototype.notn=function(o){return this.clone().inotn(o)},s.prototype.setn=function(o,u){i(typeof o=="number"&&o>=0);var f=o/26|0,v=o%26;return this._expand(f+1),u?this.words[f]=this.words[f]|1<<v:this.words[f]=this.words[f]&~(1<<v),this._strip()},s.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var f,v;this.length>o.length?(f=this,v=o):(f=o,v=this);for(var A=0,E=0;E<v.length;E++)u=(f.words[E]|0)+(v.words[E]|0)+A,this.words[E]=u&67108863,A=u>>>26;for(;A!==0&&E<f.length;E++)u=(f.words[E]|0)+A,this.words[E]=u&67108863,A=u>>>26;if(this.length=f.length,A!==0)this.words[this.length]=A,this.length++;else if(f!==this)for(;E<f.length;E++)this.words[E]=f.words[E];return this},s.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},s.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,A;f>0?(v=this,A=o):(v=o,A=this);for(var E=0,x=0;x<A.length;x++)u=(v.words[x]|0)-(A.words[x]|0)+E,E=u>>26,this.words[x]=u&67108863;for(;E!==0&&x<v.length;x++)u=(v.words[x]|0)+E,E=u>>26,this.words[x]=u&67108863;if(E===0&&x<v.length&&v!==this)for(;x<v.length;x++)this.words[x]=v.words[x];return this.length=Math.max(this.length,x),v!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(o){return this.clone().isub(o)};function G(o,u,f){f.negative=u.negative^o.negative;var v=o.length+u.length|0;f.length=v,v=v-1|0;var A=o.words[0]|0,E=u.words[0]|0,x=A*E,y=x&67108863,c=x/67108864|0;f.words[0]=y;for(var b=1;b<v;b++){for(var J=c>>>26,X=c&67108863,w=Math.min(b,u.length-1),V=Math.max(0,b-o.length+1);V<=w;V++){var P=b-V|0;A=o.words[P]|0,E=u.words[V]|0,x=A*E+X,J+=x/67108864|0,X=x&67108863}f.words[b]=X|0,c=J|0}return c!==0?f.words[b]=c|0:f.length--,f._strip()}var q=function(o,u,f){var v=o.words,A=u.words,E=f.words,x=0,y,c,b,J=v[0]|0,X=J&8191,w=J>>>13,V=v[1]|0,P=V&8191,T=V>>>13,K=v[2]|0,M=K&8191,$=K>>>13,it=v[3]|0,ot=it&8191,rt=it>>>13,Ut=v[4]|0,_t=Ut&8191,wt=Ut>>>13,pe=v[5]|0,Ot=pe&8191,bt=pe>>>13,ee=v[6]|0,pt=ee&8191,gt=ee>>>13,ne=v[7]|0,ft=ne&8191,mt=ne>>>13,Zt=v[8]|0,dt=Zt&8191,At=Zt>>>13,re=v[9]|0,Et=re&8191,Mt=re>>>13,oe=A[0]|0,xt=oe&8191,St=oe>>>13,qe=A[1]|0,qt=qe&8191,Ht=qe>>>13,ze=A[2]|0,Kt=ze&8191,Wt=ze>>>13,ar=A[3]|0,Rt=ar&8191,Nt=ar>>>13,Ee=A[4]|0,Tt=Ee&8191,Pt=Ee>>>13,ge=A[5]|0,Lt=ge&8191,Ft=ge>>>13,Me=A[6]|0,kt=Me&8191,$t=Me>>>13,Ie=A[7]|0,Bt=Ie&8191,Dt=Ie>>>13,Ce=A[8]|0,jt=Ce&8191,Qt=Ce>>>13,_r=A[9]|0,Yt=_r&8191,zt=_r>>>13;f.negative=o.negative^u.negative,f.length=19,y=Math.imul(X,xt),c=Math.imul(X,St),c=c+Math.imul(w,xt)|0,b=Math.imul(w,St);var cr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(cr>>>26)|0,cr&=67108863,y=Math.imul(P,xt),c=Math.imul(P,St),c=c+Math.imul(T,xt)|0,b=Math.imul(T,St),y=y+Math.imul(X,qt)|0,c=c+Math.imul(X,Ht)|0,c=c+Math.imul(w,qt)|0,b=b+Math.imul(w,Ht)|0;var hr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(hr>>>26)|0,hr&=67108863,y=Math.imul(M,xt),c=Math.imul(M,St),c=c+Math.imul($,xt)|0,b=Math.imul($,St),y=y+Math.imul(P,qt)|0,c=c+Math.imul(P,Ht)|0,c=c+Math.imul(T,qt)|0,b=b+Math.imul(T,Ht)|0,y=y+Math.imul(X,Kt)|0,c=c+Math.imul(X,Wt)|0,c=c+Math.imul(w,Kt)|0,b=b+Math.imul(w,Wt)|0;var ur=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(ur>>>26)|0,ur&=67108863,y=Math.imul(ot,xt),c=Math.imul(ot,St),c=c+Math.imul(rt,xt)|0,b=Math.imul(rt,St),y=y+Math.imul(M,qt)|0,c=c+Math.imul(M,Ht)|0,c=c+Math.imul($,qt)|0,b=b+Math.imul($,Ht)|0,y=y+Math.imul(P,Kt)|0,c=c+Math.imul(P,Wt)|0,c=c+Math.imul(T,Kt)|0,b=b+Math.imul(T,Wt)|0,y=y+Math.imul(X,Rt)|0,c=c+Math.imul(X,Nt)|0,c=c+Math.imul(w,Rt)|0,b=b+Math.imul(w,Nt)|0;var lr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(lr>>>26)|0,lr&=67108863,y=Math.imul(_t,xt),c=Math.imul(_t,St),c=c+Math.imul(wt,xt)|0,b=Math.imul(wt,St),y=y+Math.imul(ot,qt)|0,c=c+Math.imul(ot,Ht)|0,c=c+Math.imul(rt,qt)|0,b=b+Math.imul(rt,Ht)|0,y=y+Math.imul(M,Kt)|0,c=c+Math.imul(M,Wt)|0,c=c+Math.imul($,Kt)|0,b=b+Math.imul($,Wt)|0,y=y+Math.imul(P,Rt)|0,c=c+Math.imul(P,Nt)|0,c=c+Math.imul(T,Rt)|0,b=b+Math.imul(T,Nt)|0,y=y+Math.imul(X,Tt)|0,c=c+Math.imul(X,Pt)|0,c=c+Math.imul(w,Tt)|0,b=b+Math.imul(w,Pt)|0;var fr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(fr>>>26)|0,fr&=67108863,y=Math.imul(Ot,xt),c=Math.imul(Ot,St),c=c+Math.imul(bt,xt)|0,b=Math.imul(bt,St),y=y+Math.imul(_t,qt)|0,c=c+Math.imul(_t,Ht)|0,c=c+Math.imul(wt,qt)|0,b=b+Math.imul(wt,Ht)|0,y=y+Math.imul(ot,Kt)|0,c=c+Math.imul(ot,Wt)|0,c=c+Math.imul(rt,Kt)|0,b=b+Math.imul(rt,Wt)|0,y=y+Math.imul(M,Rt)|0,c=c+Math.imul(M,Nt)|0,c=c+Math.imul($,Rt)|0,b=b+Math.imul($,Nt)|0,y=y+Math.imul(P,Tt)|0,c=c+Math.imul(P,Pt)|0,c=c+Math.imul(T,Tt)|0,b=b+Math.imul(T,Pt)|0,y=y+Math.imul(X,Lt)|0,c=c+Math.imul(X,Ft)|0,c=c+Math.imul(w,Lt)|0,b=b+Math.imul(w,Ft)|0;var Ke=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,y=Math.imul(pt,xt),c=Math.imul(pt,St),c=c+Math.imul(gt,xt)|0,b=Math.imul(gt,St),y=y+Math.imul(Ot,qt)|0,c=c+Math.imul(Ot,Ht)|0,c=c+Math.imul(bt,qt)|0,b=b+Math.imul(bt,Ht)|0,y=y+Math.imul(_t,Kt)|0,c=c+Math.imul(_t,Wt)|0,c=c+Math.imul(wt,Kt)|0,b=b+Math.imul(wt,Wt)|0,y=y+Math.imul(ot,Rt)|0,c=c+Math.imul(ot,Nt)|0,c=c+Math.imul(rt,Rt)|0,b=b+Math.imul(rt,Nt)|0,y=y+Math.imul(M,Tt)|0,c=c+Math.imul(M,Pt)|0,c=c+Math.imul($,Tt)|0,b=b+Math.imul($,Pt)|0,y=y+Math.imul(P,Lt)|0,c=c+Math.imul(P,Ft)|0,c=c+Math.imul(T,Lt)|0,b=b+Math.imul(T,Ft)|0,y=y+Math.imul(X,kt)|0,c=c+Math.imul(X,$t)|0,c=c+Math.imul(w,kt)|0,b=b+Math.imul(w,$t)|0;var kr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(kr>>>26)|0,kr&=67108863,y=Math.imul(ft,xt),c=Math.imul(ft,St),c=c+Math.imul(mt,xt)|0,b=Math.imul(mt,St),y=y+Math.imul(pt,qt)|0,c=c+Math.imul(pt,Ht)|0,c=c+Math.imul(gt,qt)|0,b=b+Math.imul(gt,Ht)|0,y=y+Math.imul(Ot,Kt)|0,c=c+Math.imul(Ot,Wt)|0,c=c+Math.imul(bt,Kt)|0,b=b+Math.imul(bt,Wt)|0,y=y+Math.imul(_t,Rt)|0,c=c+Math.imul(_t,Nt)|0,c=c+Math.imul(wt,Rt)|0,b=b+Math.imul(wt,Nt)|0,y=y+Math.imul(ot,Tt)|0,c=c+Math.imul(ot,Pt)|0,c=c+Math.imul(rt,Tt)|0,b=b+Math.imul(rt,Pt)|0,y=y+Math.imul(M,Lt)|0,c=c+Math.imul(M,Ft)|0,c=c+Math.imul($,Lt)|0,b=b+Math.imul($,Ft)|0,y=y+Math.imul(P,kt)|0,c=c+Math.imul(P,$t)|0,c=c+Math.imul(T,kt)|0,b=b+Math.imul(T,$t)|0,y=y+Math.imul(X,Bt)|0,c=c+Math.imul(X,Dt)|0,c=c+Math.imul(w,Bt)|0,b=b+Math.imul(w,Dt)|0;var gi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(gi>>>26)|0,gi&=67108863,y=Math.imul(dt,xt),c=Math.imul(dt,St),c=c+Math.imul(At,xt)|0,b=Math.imul(At,St),y=y+Math.imul(ft,qt)|0,c=c+Math.imul(ft,Ht)|0,c=c+Math.imul(mt,qt)|0,b=b+Math.imul(mt,Ht)|0,y=y+Math.imul(pt,Kt)|0,c=c+Math.imul(pt,Wt)|0,c=c+Math.imul(gt,Kt)|0,b=b+Math.imul(gt,Wt)|0,y=y+Math.imul(Ot,Rt)|0,c=c+Math.imul(Ot,Nt)|0,c=c+Math.imul(bt,Rt)|0,b=b+Math.imul(bt,Nt)|0,y=y+Math.imul(_t,Tt)|0,c=c+Math.imul(_t,Pt)|0,c=c+Math.imul(wt,Tt)|0,b=b+Math.imul(wt,Pt)|0,y=y+Math.imul(ot,Lt)|0,c=c+Math.imul(ot,Ft)|0,c=c+Math.imul(rt,Lt)|0,b=b+Math.imul(rt,Ft)|0,y=y+Math.imul(M,kt)|0,c=c+Math.imul(M,$t)|0,c=c+Math.imul($,kt)|0,b=b+Math.imul($,$t)|0,y=y+Math.imul(P,Bt)|0,c=c+Math.imul(P,Dt)|0,c=c+Math.imul(T,Bt)|0,b=b+Math.imul(T,Dt)|0,y=y+Math.imul(X,jt)|0,c=c+Math.imul(X,Qt)|0,c=c+Math.imul(w,jt)|0,b=b+Math.imul(w,Qt)|0;var jr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(jr>>>26)|0,jr&=67108863,y=Math.imul(Et,xt),c=Math.imul(Et,St),c=c+Math.imul(Mt,xt)|0,b=Math.imul(Mt,St),y=y+Math.imul(dt,qt)|0,c=c+Math.imul(dt,Ht)|0,c=c+Math.imul(At,qt)|0,b=b+Math.imul(At,Ht)|0,y=y+Math.imul(ft,Kt)|0,c=c+Math.imul(ft,Wt)|0,c=c+Math.imul(mt,Kt)|0,b=b+Math.imul(mt,Wt)|0,y=y+Math.imul(pt,Rt)|0,c=c+Math.imul(pt,Nt)|0,c=c+Math.imul(gt,Rt)|0,b=b+Math.imul(gt,Nt)|0,y=y+Math.imul(Ot,Tt)|0,c=c+Math.imul(Ot,Pt)|0,c=c+Math.imul(bt,Tt)|0,b=b+Math.imul(bt,Pt)|0,y=y+Math.imul(_t,Lt)|0,c=c+Math.imul(_t,Ft)|0,c=c+Math.imul(wt,Lt)|0,b=b+Math.imul(wt,Ft)|0,y=y+Math.imul(ot,kt)|0,c=c+Math.imul(ot,$t)|0,c=c+Math.imul(rt,kt)|0,b=b+Math.imul(rt,$t)|0,y=y+Math.imul(M,Bt)|0,c=c+Math.imul(M,Dt)|0,c=c+Math.imul($,Bt)|0,b=b+Math.imul($,Dt)|0,y=y+Math.imul(P,jt)|0,c=c+Math.imul(P,Qt)|0,c=c+Math.imul(T,jt)|0,b=b+Math.imul(T,Qt)|0,y=y+Math.imul(X,Yt)|0,c=c+Math.imul(X,zt)|0,c=c+Math.imul(w,Yt)|0,b=b+Math.imul(w,zt)|0;var mi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(mi>>>26)|0,mi&=67108863,y=Math.imul(Et,qt),c=Math.imul(Et,Ht),c=c+Math.imul(Mt,qt)|0,b=Math.imul(Mt,Ht),y=y+Math.imul(dt,Kt)|0,c=c+Math.imul(dt,Wt)|0,c=c+Math.imul(At,Kt)|0,b=b+Math.imul(At,Wt)|0,y=y+Math.imul(ft,Rt)|0,c=c+Math.imul(ft,Nt)|0,c=c+Math.imul(mt,Rt)|0,b=b+Math.imul(mt,Nt)|0,y=y+Math.imul(pt,Tt)|0,c=c+Math.imul(pt,Pt)|0,c=c+Math.imul(gt,Tt)|0,b=b+Math.imul(gt,Pt)|0,y=y+Math.imul(Ot,Lt)|0,c=c+Math.imul(Ot,Ft)|0,c=c+Math.imul(bt,Lt)|0,b=b+Math.imul(bt,Ft)|0,y=y+Math.imul(_t,kt)|0,c=c+Math.imul(_t,$t)|0,c=c+Math.imul(wt,kt)|0,b=b+Math.imul(wt,$t)|0,y=y+Math.imul(ot,Bt)|0,c=c+Math.imul(ot,Dt)|0,c=c+Math.imul(rt,Bt)|0,b=b+Math.imul(rt,Dt)|0,y=y+Math.imul(M,jt)|0,c=c+Math.imul(M,Qt)|0,c=c+Math.imul($,jt)|0,b=b+Math.imul($,Qt)|0,y=y+Math.imul(P,Yt)|0,c=c+Math.imul(P,zt)|0,c=c+Math.imul(T,Yt)|0,b=b+Math.imul(T,zt)|0;var vi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(vi>>>26)|0,vi&=67108863,y=Math.imul(Et,Kt),c=Math.imul(Et,Wt),c=c+Math.imul(Mt,Kt)|0,b=Math.imul(Mt,Wt),y=y+Math.imul(dt,Rt)|0,c=c+Math.imul(dt,Nt)|0,c=c+Math.imul(At,Rt)|0,b=b+Math.imul(At,Nt)|0,y=y+Math.imul(ft,Tt)|0,c=c+Math.imul(ft,Pt)|0,c=c+Math.imul(mt,Tt)|0,b=b+Math.imul(mt,Pt)|0,y=y+Math.imul(pt,Lt)|0,c=c+Math.imul(pt,Ft)|0,c=c+Math.imul(gt,Lt)|0,b=b+Math.imul(gt,Ft)|0,y=y+Math.imul(Ot,kt)|0,c=c+Math.imul(Ot,$t)|0,c=c+Math.imul(bt,kt)|0,b=b+Math.imul(bt,$t)|0,y=y+Math.imul(_t,Bt)|0,c=c+Math.imul(_t,Dt)|0,c=c+Math.imul(wt,Bt)|0,b=b+Math.imul(wt,Dt)|0,y=y+Math.imul(ot,jt)|0,c=c+Math.imul(ot,Qt)|0,c=c+Math.imul(rt,jt)|0,b=b+Math.imul(rt,Qt)|0,y=y+Math.imul(M,Yt)|0,c=c+Math.imul(M,zt)|0,c=c+Math.imul($,Yt)|0,b=b+Math.imul($,zt)|0;var qr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(qr>>>26)|0,qr&=67108863,y=Math.imul(Et,Rt),c=Math.imul(Et,Nt),c=c+Math.imul(Mt,Rt)|0,b=Math.imul(Mt,Nt),y=y+Math.imul(dt,Tt)|0,c=c+Math.imul(dt,Pt)|0,c=c+Math.imul(At,Tt)|0,b=b+Math.imul(At,Pt)|0,y=y+Math.imul(ft,Lt)|0,c=c+Math.imul(ft,Ft)|0,c=c+Math.imul(mt,Lt)|0,b=b+Math.imul(mt,Ft)|0,y=y+Math.imul(pt,kt)|0,c=c+Math.imul(pt,$t)|0,c=c+Math.imul(gt,kt)|0,b=b+Math.imul(gt,$t)|0,y=y+Math.imul(Ot,Bt)|0,c=c+Math.imul(Ot,Dt)|0,c=c+Math.imul(bt,Bt)|0,b=b+Math.imul(bt,Dt)|0,y=y+Math.imul(_t,jt)|0,c=c+Math.imul(_t,Qt)|0,c=c+Math.imul(wt,jt)|0,b=b+Math.imul(wt,Qt)|0,y=y+Math.imul(ot,Yt)|0,c=c+Math.imul(ot,zt)|0,c=c+Math.imul(rt,Yt)|0,b=b+Math.imul(rt,zt)|0;var ni=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(ni>>>26)|0,ni&=67108863,y=Math.imul(Et,Tt),c=Math.imul(Et,Pt),c=c+Math.imul(Mt,Tt)|0,b=Math.imul(Mt,Pt),y=y+Math.imul(dt,Lt)|0,c=c+Math.imul(dt,Ft)|0,c=c+Math.imul(At,Lt)|0,b=b+Math.imul(At,Ft)|0,y=y+Math.imul(ft,kt)|0,c=c+Math.imul(ft,$t)|0,c=c+Math.imul(mt,kt)|0,b=b+Math.imul(mt,$t)|0,y=y+Math.imul(pt,Bt)|0,c=c+Math.imul(pt,Dt)|0,c=c+Math.imul(gt,Bt)|0,b=b+Math.imul(gt,Dt)|0,y=y+Math.imul(Ot,jt)|0,c=c+Math.imul(Ot,Qt)|0,c=c+Math.imul(bt,jt)|0,b=b+Math.imul(bt,Qt)|0,y=y+Math.imul(_t,Yt)|0,c=c+Math.imul(_t,zt)|0,c=c+Math.imul(wt,Yt)|0,b=b+Math.imul(wt,zt)|0;var si=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(si>>>26)|0,si&=67108863,y=Math.imul(Et,Lt),c=Math.imul(Et,Ft),c=c+Math.imul(Mt,Lt)|0,b=Math.imul(Mt,Ft),y=y+Math.imul(dt,kt)|0,c=c+Math.imul(dt,$t)|0,c=c+Math.imul(At,kt)|0,b=b+Math.imul(At,$t)|0,y=y+Math.imul(ft,Bt)|0,c=c+Math.imul(ft,Dt)|0,c=c+Math.imul(mt,Bt)|0,b=b+Math.imul(mt,Dt)|0,y=y+Math.imul(pt,jt)|0,c=c+Math.imul(pt,Qt)|0,c=c+Math.imul(gt,jt)|0,b=b+Math.imul(gt,Qt)|0,y=y+Math.imul(Ot,Yt)|0,c=c+Math.imul(Ot,zt)|0,c=c+Math.imul(bt,Yt)|0,b=b+Math.imul(bt,zt)|0;var wr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(wr>>>26)|0,wr&=67108863,y=Math.imul(Et,kt),c=Math.imul(Et,$t),c=c+Math.imul(Mt,kt)|0,b=Math.imul(Mt,$t),y=y+Math.imul(dt,Bt)|0,c=c+Math.imul(dt,Dt)|0,c=c+Math.imul(At,Bt)|0,b=b+Math.imul(At,Dt)|0,y=y+Math.imul(ft,jt)|0,c=c+Math.imul(ft,Qt)|0,c=c+Math.imul(mt,jt)|0,b=b+Math.imul(mt,Qt)|0,y=y+Math.imul(pt,Yt)|0,c=c+Math.imul(pt,zt)|0,c=c+Math.imul(gt,Yt)|0,b=b+Math.imul(gt,zt)|0;var wi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(wi>>>26)|0,wi&=67108863,y=Math.imul(Et,Bt),c=Math.imul(Et,Dt),c=c+Math.imul(Mt,Bt)|0,b=Math.imul(Mt,Dt),y=y+Math.imul(dt,jt)|0,c=c+Math.imul(dt,Qt)|0,c=c+Math.imul(At,jt)|0,b=b+Math.imul(At,Qt)|0,y=y+Math.imul(ft,Yt)|0,c=c+Math.imul(ft,zt)|0,c=c+Math.imul(mt,Yt)|0,b=b+Math.imul(mt,zt)|0;var yi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(yi>>>26)|0,yi&=67108863,y=Math.imul(Et,jt),c=Math.imul(Et,Qt),c=c+Math.imul(Mt,jt)|0,b=Math.imul(Mt,Qt),y=y+Math.imul(dt,Yt)|0,c=c+Math.imul(dt,zt)|0,c=c+Math.imul(At,Yt)|0,b=b+Math.imul(At,zt)|0;var bi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(bi>>>26)|0,bi&=67108863,y=Math.imul(Et,Yt),c=Math.imul(Et,zt),c=c+Math.imul(Mt,Yt)|0,b=Math.imul(Mt,zt);var Ai=(x+y|0)+((c&8191)<<13)|0;return x=(b+(c>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,E[0]=cr,E[1]=hr,E[2]=ur,E[3]=lr,E[4]=fr,E[5]=Ke,E[6]=kr,E[7]=gi,E[8]=jr,E[9]=mi,E[10]=vi,E[11]=qr,E[12]=ni,E[13]=si,E[14]=wr,E[15]=wi,E[16]=yi,E[17]=bi,E[18]=Ai,x!==0&&(E[19]=x,f.length++),f};Math.imul||(q=G);function W(o,u,f){f.negative=u.negative^o.negative,f.length=o.length+u.length;for(var v=0,A=0,E=0;E<f.length-1;E++){var x=A;A=0;for(var y=v&67108863,c=Math.min(E,u.length-1),b=Math.max(0,E-o.length+1);b<=c;b++){var J=E-b,X=o.words[J]|0,w=u.words[b]|0,V=X*w,P=V&67108863;x=x+(V/67108864|0)|0,P=P+y|0,y=P&67108863,x=x+(P>>>26)|0,A+=x>>>26,x&=67108863}f.words[E]=y,v=x,x=A}return v!==0?f.words[E]=v:f.length--,f._strip()}function B(o,u,f){return W(o,u,f)}s.prototype.mulTo=function(o,u){var f,v=this.length+o.length;return this.length===10&&o.length===10?f=q(this,o,u):v<63?f=G(this,o,u):v<1024?f=W(this,o,u):f=B(this,o,u),f},s.prototype.mul=function(o){var u=new s(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},s.prototype.mulf=function(o){var u=new s(null);return u.words=new Array(this.length+o.length),B(this,o,u)},s.prototype.imul=function(o){return this.clone().mulTo(o,this)},s.prototype.imuln=function(o){var u=o<0;u&&(o=-o),i(typeof o=="number"),i(o<67108864);for(var f=0,v=0;v<this.length;v++){var A=(this.words[v]|0)*o,E=(A&67108863)+(f&67108863);f>>=26,f+=A/67108864|0,f+=E>>>26,this.words[v]=E&67108863}return f!==0&&(this.words[v]=f,this.length++),u?this.ineg():this},s.prototype.muln=function(o){return this.clone().imuln(o)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(o){var u=z(o);if(u.length===0)return new s(1);for(var f=this,v=0;v<u.length&&u[v]===0;v++,f=f.sqr());if(++v<u.length)for(var A=f.sqr();v<u.length;v++,A=A.sqr())u[v]!==0&&(f=f.mul(A));return f},s.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var u=o%26,f=(o-u)/26,v=67108863>>>26-u<<26-u,A;if(u!==0){var E=0;for(A=0;A<this.length;A++){var x=this.words[A]&v,y=(this.words[A]|0)-x<<u;this.words[A]=y|E,E=x>>>26-u}E&&(this.words[A]=E,this.length++)}if(f!==0){for(A=this.length-1;A>=0;A--)this.words[A+f]=this.words[A];for(A=0;A<f;A++)this.words[A]=0;this.length+=f}return this._strip()},s.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},s.prototype.iushrn=function(o,u,f){i(typeof o=="number"&&o>=0);var v;u?v=(u-u%26)/26:v=0;var A=o%26,E=Math.min((o-A)/26,this.length),x=67108863^67108863>>>A<<A,y=f;if(v-=E,v=Math.max(0,v),y){for(var c=0;c<E;c++)y.words[c]=this.words[c];y.length=E}if(E!==0)if(this.length>E)for(this.length-=E,c=0;c<this.length;c++)this.words[c]=this.words[c+E];else this.words[0]=0,this.length=1;var b=0;for(c=this.length-1;c>=0&&(b!==0||c>=v);c--){var J=this.words[c]|0;this.words[c]=b<<26-A|J>>>A,b=J&x}return y&&b!==0&&(y.words[y.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(o,u,f){return i(this.negative===0),this.iushrn(o,u,f)},s.prototype.shln=function(o){return this.clone().ishln(o)},s.prototype.ushln=function(o){return this.clone().iushln(o)},s.prototype.shrn=function(o){return this.clone().ishrn(o)},s.prototype.ushrn=function(o){return this.clone().iushrn(o)},s.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,f=(o-u)/26,v=1<<u;if(this.length<=f)return!1;var A=this.words[f];return!!(A&v)},s.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,f=(o-u)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(u!==0&&f++,this.length=Math.min(f,this.length),u!==0){var v=67108863^67108863>>>u<<u;this.words[this.length-1]&=v}return this._strip()},s.prototype.maskn=function(o){return this.clone().imaskn(o)},s.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},s.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},s.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},s.prototype.addn=function(o){return this.clone().iaddn(o)},s.prototype.subn=function(o){return this.clone().isubn(o)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(o,u,f){var v=o.length+f,A;this._expand(v);var E,x=0;for(A=0;A<o.length;A++){E=(this.words[A+f]|0)+x;var y=(o.words[A]|0)*u;E-=y&67108863,x=(E>>26)-(y/67108864|0),this.words[A+f]=E&67108863}for(;A<this.length-f;A++)E=(this.words[A+f]|0)+x,x=E>>26,this.words[A+f]=E&67108863;if(x===0)return this._strip();for(i(x===-1),x=0,A=0;A<this.length;A++)E=-(this.words[A]|0)+x,x=E>>26,this.words[A]=E&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(o,u){var f=this.length-o.length,v=this.clone(),A=o,E=A.words[A.length-1]|0,x=this._countBits(E);f=26-x,f!==0&&(A=A.ushln(f),v.iushln(f),E=A.words[A.length-1]|0);var y=v.length-A.length,c;if(u!=="mod"){c=new s(null),c.length=y+1,c.words=new Array(c.length);for(var b=0;b<c.length;b++)c.words[b]=0}var J=v.clone()._ishlnsubmul(A,1,y);J.negative===0&&(v=J,c&&(c.words[y]=1));for(var X=y-1;X>=0;X--){var w=(v.words[A.length+X]|0)*67108864+(v.words[A.length+X-1]|0);for(w=Math.min(w/E|0,67108863),v._ishlnsubmul(A,w,X);v.negative!==0;)w--,v.negative=0,v._ishlnsubmul(A,1,X),v.isZero()||(v.negative^=1);c&&(c.words[X]=w)}return c&&c._strip(),v._strip(),u!=="div"&&f!==0&&v.iushrn(f),{div:c||null,mod:v}},s.prototype.divmod=function(o,u,f){if(i(!o.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var v,A,E;return this.negative!==0&&o.negative===0?(E=this.neg().divmod(o,u),u!=="mod"&&(v=E.div.neg()),u!=="div"&&(A=E.mod.neg(),f&&A.negative!==0&&A.iadd(o)),{div:v,mod:A}):this.negative===0&&o.negative!==0?(E=this.divmod(o.neg(),u),u!=="mod"&&(v=E.div.neg()),{div:v,mod:E.mod}):this.negative&o.negative?(E=this.neg().divmod(o.neg(),u),u!=="div"&&(A=E.mod.neg(),f&&A.negative!==0&&A.isub(o)),{div:E.div,mod:A}):o.length>this.length||this.cmp(o)<0?{div:new s(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new s(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new s(this.modrn(o.words[0]))}:this._wordDiv(o,u)},s.prototype.div=function(o){return this.divmod(o,"div",!1).div},s.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},s.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},s.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var f=u.div.negative!==0?u.mod.isub(o):u.mod,v=o.ushrn(1),A=o.andln(1),E=f.cmp(v);return E<0||A===1&&E===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},s.prototype.modrn=function(o){var u=o<0;u&&(o=-o),i(o<=67108863);for(var f=(1<<26)%o,v=0,A=this.length-1;A>=0;A--)v=(f*v+(this.words[A]|0))%o;return u?-v:v},s.prototype.modn=function(o){return this.modrn(o)},s.prototype.idivn=function(o){var u=o<0;u&&(o=-o),i(o<=67108863);for(var f=0,v=this.length-1;v>=0;v--){var A=(this.words[v]|0)+f*67108864;this.words[v]=A/o|0,f=A%o}return this._strip(),u?this.ineg():this},s.prototype.divn=function(o){return this.clone().idivn(o)},s.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var u=this,f=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var v=new s(1),A=new s(0),E=new s(0),x=new s(1),y=0;u.isEven()&&f.isEven();)u.iushrn(1),f.iushrn(1),++y;for(var c=f.clone(),b=u.clone();!u.isZero();){for(var J=0,X=1;!(u.words[0]&X)&&J<26;++J,X<<=1);if(J>0)for(u.iushrn(J);J-- >0;)(v.isOdd()||A.isOdd())&&(v.iadd(c),A.isub(b)),v.iushrn(1),A.iushrn(1);for(var w=0,V=1;!(f.words[0]&V)&&w<26;++w,V<<=1);if(w>0)for(f.iushrn(w);w-- >0;)(E.isOdd()||x.isOdd())&&(E.iadd(c),x.isub(b)),E.iushrn(1),x.iushrn(1);u.cmp(f)>=0?(u.isub(f),v.isub(E),A.isub(x)):(f.isub(u),E.isub(v),x.isub(A))}return{a:E,b:x,gcd:f.iushln(y)}},s.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var u=this,f=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var v=new s(1),A=new s(0),E=f.clone();u.cmpn(1)>0&&f.cmpn(1)>0;){for(var x=0,y=1;!(u.words[0]&y)&&x<26;++x,y<<=1);if(x>0)for(u.iushrn(x);x-- >0;)v.isOdd()&&v.iadd(E),v.iushrn(1);for(var c=0,b=1;!(f.words[0]&b)&&c<26;++c,b<<=1);if(c>0)for(f.iushrn(c);c-- >0;)A.isOdd()&&A.iadd(E),A.iushrn(1);u.cmp(f)>=0?(u.isub(f),v.isub(A)):(f.isub(u),A.isub(v))}var J;return u.cmpn(1)===0?J=v:J=A,J.cmpn(0)<0&&J.iadd(o),J},s.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),f=o.clone();u.negative=0,f.negative=0;for(var v=0;u.isEven()&&f.isEven();v++)u.iushrn(1),f.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;f.isEven();)f.iushrn(1);var A=u.cmp(f);if(A<0){var E=u;u=f,f=E}else if(A===0||f.cmpn(1)===0)break;u.isub(f)}while(!0);return f.iushln(v)},s.prototype.invm=function(o){return this.egcd(o).a.umod(o)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(o){return this.words[0]&o},s.prototype.bincn=function(o){i(typeof o=="number");var u=o%26,f=(o-u)/26,v=1<<u;if(this.length<=f)return this._expand(f+1),this.words[f]|=v,this;for(var A=v,E=f;A!==0&&E<this.length;E++){var x=this.words[E]|0;x+=A,A=x>>>26,x&=67108863,this.words[E]=x}return A!==0&&(this.words[E]=A,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var f;if(this.length>1)f=1;else{u&&(o=-o),i(o<=67108863,"Number is too big");var v=this.words[0]|0;f=v===o?0:v<o?-1:1}return this.negative!==0?-f|0:f},s.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},s.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,f=this.length-1;f>=0;f--){var v=this.words[f]|0,A=o.words[f]|0;if(v!==A){v<A?u=-1:v>A&&(u=1);break}}return u},s.prototype.gtn=function(o){return this.cmpn(o)===1},s.prototype.gt=function(o){return this.cmp(o)===1},s.prototype.gten=function(o){return this.cmpn(o)>=0},s.prototype.gte=function(o){return this.cmp(o)>=0},s.prototype.ltn=function(o){return this.cmpn(o)===-1},s.prototype.lt=function(o){return this.cmp(o)===-1},s.prototype.lten=function(o){return this.cmpn(o)<=0},s.prototype.lte=function(o){return this.cmp(o)<=0},s.prototype.eqn=function(o){return this.cmpn(o)===0},s.prototype.eq=function(o){return this.cmp(o)===0},s.red=function(o){return new Z(o)},s.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(o){return this.red=o,this},s.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},s.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},s.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},s.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},s.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},s.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},s.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},s.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var k={k256:null,p224:null,p192:null,p25519:null};function j(o,u){this.name=o,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var o=new s(null);return o.words=new Array(Math.ceil(this.n/13)),o},j.prototype.ireduce=function(o){var u=o,f;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),f=u.bitLength();while(f>this.n);var v=f<this.n?-1:u.ucmp(this.p);return v===0?(u.words[0]=0,u.length=1):v>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},j.prototype.split=function(o,u){o.iushrn(this.n,0,u)},j.prototype.imulK=function(o){return o.imul(this.k)};function I(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(I,j),I.prototype.split=function(o,u){for(var f=4194303,v=Math.min(o.length,9),A=0;A<v;A++)u.words[A]=o.words[A];if(u.length=v,o.length<=9){o.words[0]=0,o.length=1;return}var E=o.words[9];for(u.words[u.length++]=E&f,A=10;A<o.length;A++){var x=o.words[A]|0;o.words[A-10]=(x&f)<<4|E>>>22,E=x}E>>>=22,o.words[A-10]=E,E===0&&o.length>10?o.length-=10:o.length-=9},I.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,f=0;f<o.length;f++){var v=o.words[f]|0;u+=v*977,o.words[f]=u&67108863,u=v*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function U(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(U,j);function et(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(et,j);function ct(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(ct,j),ct.prototype.imulK=function(o){for(var u=0,f=0;f<o.length;f++){var v=(o.words[f]|0)*19+u,A=v&67108863;v>>>=26,o.words[f]=A,u=v}return u!==0&&(o.words[o.length++]=u),o},s._prime=function(o){if(k[o])return k[o];var u;if(o==="k256")u=new I;else if(o==="p224")u=new U;else if(o==="p192")u=new et;else if(o==="p25519")u=new ct;else throw new Error("Unknown prime "+o);return k[o]=u,u};function Z(o){if(typeof o=="string"){var u=s._prime(o);this.m=u.p,this.prime=u}else i(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}Z.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},Z.prototype._verify2=function(o,u){i((o.negative|u.negative)===0,"red works only with positives"),i(o.red&&o.red===u.red,"red works only with red numbers")},Z.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(_(o,o.umod(this.m)._forceRed(this)),o)},Z.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},Z.prototype.add=function(o,u){this._verify2(o,u);var f=o.add(u);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},Z.prototype.iadd=function(o,u){this._verify2(o,u);var f=o.iadd(u);return f.cmp(this.m)>=0&&f.isub(this.m),f},Z.prototype.sub=function(o,u){this._verify2(o,u);var f=o.sub(u);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},Z.prototype.isub=function(o,u){this._verify2(o,u);var f=o.isub(u);return f.cmpn(0)<0&&f.iadd(this.m),f},Z.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},Z.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},Z.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},Z.prototype.isqr=function(o){return this.imul(o,o.clone())},Z.prototype.sqr=function(o){return this.mul(o,o)},Z.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(i(u%2===1),u===3){var f=this.m.add(new s(1)).iushrn(2);return this.pow(o,f)}for(var v=this.m.subn(1),A=0;!v.isZero()&&v.andln(1)===0;)A++,v.iushrn(1);i(!v.isZero());var E=new s(1).toRed(this),x=E.redNeg(),y=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);this.pow(c,y).cmp(x)!==0;)c.redIAdd(x);for(var b=this.pow(c,v),J=this.pow(o,v.addn(1).iushrn(1)),X=this.pow(o,v),w=A;X.cmp(E)!==0;){for(var V=X,P=0;V.cmp(E)!==0;P++)V=V.redSqr();i(P<w);var T=this.pow(b,new s(1).iushln(w-P-1));J=J.redMul(T),b=T.redSqr(),X=X.redMul(b),w=P}return J},Z.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},Z.prototype.pow=function(o,u){if(u.isZero())return new s(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var f=4,v=new Array(1<<f);v[0]=new s(1).toRed(this),v[1]=o;for(var A=2;A<v.length;A++)v[A]=this.mul(v[A-1],o);var E=v[0],x=0,y=0,c=u.bitLength()%26;for(c===0&&(c=26),A=u.length-1;A>=0;A--){for(var b=u.words[A],J=c-1;J>=0;J--){var X=b>>J&1;if(E!==v[0]&&(E=this.sqr(E)),X===0&&x===0){y=0;continue}x<<=1,x|=X,y++,!(y!==f&&(A!==0||J!==0))&&(E=this.mul(E,v[x]),y=0,x=0)}c=26}return E},Z.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},Z.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},s.mont=function(o){return new ut(o)};function ut(o){Z.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ut,Z),ut.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},ut.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},ut.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(u),v=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=f.isub(v).iushrn(this.shift),E=A;return A.cmp(this.m)>=0?E=A.isub(this.m):A.cmpn(0)<0&&(E=A.iadd(this.m)),E._forceRed(this)},ut.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new s(0)._forceRed(this);var f=o.mul(u),v=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=f.isub(v).iushrn(this.shift),E=A;return A.cmp(this.m)>=0?E=A.isub(this.m):A.cmpn(0)<0&&(E=A.iadd(this.m)),E._forceRed(this)},ut.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(e,E0)})(t2);var N7=t2.exports;const r2="bignumber/5.7.0";var Mu=N7.BN;const _s=new be(r2),C0={},i2=9007199254740991;function P7(e){return e!=null&&(sr.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||Ki(e)||typeof e=="bigint"||Ma(e))}let n2=!1;class sr{constructor(t,r){t!==C0&&_s.throwError("cannot call constructor directly; use BigNumber.from",be.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return xi(Pe(this).fromTwos(t))}toTwos(t){return xi(Pe(this).toTwos(t))}abs(){return this._hex[0]==="-"?sr.from(this._hex.substring(1)):this}add(t){return xi(Pe(this).add(Pe(t)))}sub(t){return xi(Pe(this).sub(Pe(t)))}div(t){return sr.from(t).isZero()&&rn("division-by-zero","div"),xi(Pe(this).div(Pe(t)))}mul(t){return xi(Pe(this).mul(Pe(t)))}mod(t){const r=Pe(t);return r.isNeg()&&rn("division-by-zero","mod"),xi(Pe(this).umod(r))}pow(t){const r=Pe(t);return r.isNeg()&&rn("negative-power","pow"),xi(Pe(this).pow(r))}and(t){const r=Pe(t);return(this.isNegative()||r.isNeg())&&rn("unbound-bitwise-result","and"),xi(Pe(this).and(r))}or(t){const r=Pe(t);return(this.isNegative()||r.isNeg())&&rn("unbound-bitwise-result","or"),xi(Pe(this).or(r))}xor(t){const r=Pe(t);return(this.isNegative()||r.isNeg())&&rn("unbound-bitwise-result","xor"),xi(Pe(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&rn("negative-width","mask"),xi(Pe(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&rn("negative-width","shl"),xi(Pe(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&rn("negative-width","shr"),xi(Pe(this).shrn(t))}eq(t){return Pe(this).eq(Pe(t))}lt(t){return Pe(this).lt(Pe(t))}lte(t){return Pe(this).lte(Pe(t))}gt(t){return Pe(this).gt(Pe(t))}gte(t){return Pe(this).gte(Pe(t))}isNegative(){return this._hex[0]==="-"}isZero(){return Pe(this).isZero()}toNumber(){try{return Pe(this).toNumber()}catch{rn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return _s.throwError("this platform does not support BigInt",be.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?n2||(n2=!0,_s.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?_s.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",be.errors.UNEXPECTED_ARGUMENT,{}):_s.throwError("BigNumber.toString does not accept parameters",be.errors.UNEXPECTED_ARGUMENT,{})),Pe(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof sr)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new sr(C0,Hc(t)):t.match(/^-?[0-9]+$/)?new sr(C0,Hc(new Mu(t))):_s.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&rn("underflow","BigNumber.from",t),(t>=i2||t<=-i2)&&rn("overflow","BigNumber.from",t),sr.from(String(t));const r=t;if(typeof r=="bigint")return sr.from(r.toString());if(Ma(r))return sr.from(hi(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return sr.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(Ki(i)||i[0]==="-"&&Ki(i.substring(1))))return sr.from(i)}return _s.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function Hc(e){if(typeof e!="string")return Hc(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&_s.throwArgumentError("invalid hex","value",e),e=Hc(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function xi(e){return sr.from(Hc(e))}function Pe(e){const t=sr.from(e).toHexString();return t[0]==="-"?new Mu("-"+t.substring(3),16):new Mu(t.substring(2),16)}function rn(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),_s.throwError(e,be.errors.NUMERIC_FAULT,i)}function R7(e){return new Mu(e,36).toString(16)}const ui=new be(r2),Kc={},s2=sr.from(0),o2=sr.from(-1);function a2(e,t,r,i){const n={fault:t,operation:r};return i!==void 0&&(n.value=i),ui.throwError(e,be.errors.NUMERIC_FAULT,n)}let Wc="0";for(;Wc.length<256;)Wc+=Wc;function D0(e){if(typeof e!="number")try{e=sr.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+Wc.substring(0,e):ui.throwArgumentError("invalid decimal size","decimals",e)}function O0(e,t){t==null&&(t=0);const r=D0(t);e=sr.from(e);const i=e.lt(s2);i&&(e=e.mul(o2));let n=e.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=e.div(r).toString();return r.length===1?e=s:e=s+"."+n,i&&(e="-"+e),e}function Es(e,t){t==null&&(t=0);const r=D0(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&ui.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&ui.throwArgumentError("missing value","value",e);const n=e.split(".");n.length>2&&ui.throwArgumentError("too many decimal points","value",e);let s=n[0],h=n[1];for(s||(s="0"),h||(h="0");h[h.length-1]==="0";)h=h.substring(0,h.length-1);for(h.length>r.length-1&&a2("fractional component exceeds decimals","underflow","parseFixed"),h===""&&(h="0");h.length<r.length-1;)h+="0";const d=sr.from(s),g=sr.from(h);let p=d.mul(r).add(g);return i&&(p=p.mul(o2)),p}class Sa{constructor(t,r,i,n){t!==Kc&&ui.throwError("cannot use FixedFormat constructor; use FixedFormat.from",be.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=n,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=D0(n),Object.freeze(this)}static from(t){if(t instanceof Sa)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||ui.throwArgumentError("invalid fixed format","format",t),r=s[1]!=="u",i=parseInt(s[2]),n=parseInt(s[3])}}else if(t){const s=(h,d,g)=>t[h]==null?g:(typeof t[h]!==d&&ui.throwArgumentError("invalid fixed format ("+h+" not "+d+")","format."+h,t[h]),t[h]);r=s("signed","boolean",r),i=s("width","number",i),n=s("decimals","number",n)}return i%8&&ui.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),n>80&&ui.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new Sa(Kc,r,i,n)}}class Vr{constructor(t,r,i,n){t!==Kc&&ui.throwError("cannot use FixedNumber constructor; use FixedNumber.from",be.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&ui.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=Es(this._value,this.format.decimals),i=Es(t._value,t.format.decimals);return Vr.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=Es(this._value,this.format.decimals),i=Es(t._value,t.format.decimals);return Vr.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=Es(this._value,this.format.decimals),i=Es(t._value,t.format.decimals);return Vr.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=Es(this._value,this.format.decimals),i=Es(t._value,t.format.decimals);return Vr.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Vr.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe(c2.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Vr.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe(c2.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&ui.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=Vr.from("1"+Wc.substring(0,t),this.format),n=T7.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&ui.throwArgumentError("invalid byte width","width",t);const r=sr.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return qn(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Vr.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!P7(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),Vr.fromString(O0(t,r),Sa.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=Sa.from(r),n=Es(t,i.decimals);!i.signed&&n.lt(s2)&&a2("unsigned value cannot be negative","overflow","value",t);let s=null;i.signed?s=n.toTwos(i.width).toHexString():(s=n.toHexString(),s=qn(s,i.width/8));const h=O0(n,i.decimals);return new Vr(Kc,s,h,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=Sa.from(r);if(br(t).length>i.width/8)throw new Error("overflow");let n=sr.from(t);i.signed&&(n=n.fromTwos(i.width));const s=n.toTwos((i.signed?0:1)+i.width).toHexString(),h=O0(n,i.decimals);return new Vr(Kc,s,h,i)}static from(t,r){if(typeof t=="string")return Vr.fromString(t,r);if(Ma(t))return Vr.fromBytes(t,r);try{return Vr.fromValue(t,0,r)}catch(i){if(i.code!==be.errors.INVALID_ARGUMENT)throw i}return ui.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const c2=Vr.from(1),T7=Vr.from("0.5"),$7="strings/5.7.0",h2=new be($7);var Su;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(Su||(Su={}));var Ia;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(Ia||(Ia={}));function B7(e,t,r,i,n){return h2.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function u2(e,t,r,i,n){if(e===Ia.BAD_PREFIX||e===Ia.UNEXPECTED_CONTINUE){let s=0;for(let h=t+1;h<r.length&&r[h]>>6===2;h++)s++;return s}return e===Ia.OVERRUN?r.length-t-1:0}function U7(e,t,r,i,n){return e===Ia.OVERLONG?(i.push(n),0):(i.push(65533),u2(e,t,r))}Object.freeze({error:B7,ignore:u2,replace:U7});function N0(e,t=Su.current){t!=Su.current&&(h2.checkNormalize(),e=e.normalize(t));let r=[];for(let i=0;i<e.length;i++){const n=e.charCodeAt(i);if(n<128)r.push(n);else if(n<2048)r.push(n>>6|192),r.push(n&63|128);else if((n&64512)==55296){i++;const s=e.charCodeAt(i);if(i>=e.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const h=65536+((n&1023)<<10)+(s&1023);r.push(h>>18|240),r.push(h>>12&63|128),r.push(h>>6&63|128),r.push(h&63|128)}else r.push(n>>12|224),r.push(n>>6&63|128),r.push(n&63|128)}return br(r)}function L7(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function P0(e,t){t||(t=function(n){return[parseInt(n,16)]});let r=0,i={};return e.split(",").forEach(n=>{let s=n.split(":");r+=parseInt(s[0],16),i[r]=t(s[1])}),i}function l2(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:n,h:t}})}l2("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),P0("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),P0("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),P0("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",L7),l2("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const f2="hash/5.7.0";function F7(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return br(t)}function d2(e,t){t==null&&(t=1);const r=[],i=r.forEach,n=function(s,h){i.call(s,function(d){h>0&&Array.isArray(d)?n(d,h-1):r.push(d)})};return n(e,t),r}function k7(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function j7(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,s=[0,1];for(let k=1;k<i;k++)s.push(n+=r());let h=r(),d=t;t+=h;let g=0,p=0;function _(){return g==0&&(p=p<<8|e[t++],g=8),p>>--g&1}const S=31,D=Math.pow(2,S),O=D>>>1,N=O>>1,L=D-1;let z=0;for(let k=0;k<S;k++)z=z<<1|_();let G=[],q=0,W=D;for(;;){let k=Math.floor(((z-q+1)*n-1)/W),j=0,I=i;for(;I-j>1;){let ct=j+I>>>1;k<s[ct]?I=ct:j=ct}if(j==0)break;G.push(j);let U=q+Math.floor(W*s[j]/n),et=q+Math.floor(W*s[j+1]/n)-1;for(;!((U^et)&O);)z=z<<1&L|_(),U=U<<1&L,et=et<<1&L|1;for(;U&~et&N;)z=z&O|z<<1&L>>>1|_(),U=U<<1^O,et=(et^O)<<1|O|1;q=U,W=1+et-U}let B=i-4;return G.map(k=>{switch(k-B){case 3:return B+65792+(e[d++]<<16|e[d++]<<8|e[d++]);case 2:return B+256+(e[d++]<<8|e[d++]);case 1:return B+e[d++];default:return k-1}})}function q7(e){let t=0;return()=>e[t++]}function z7(e){return q7(j7(e))}function H7(e){return e&1?~e>>1:e>>1}function K7(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function p2(e,t){let r=Array(e);for(let i=0,n=-1;i<e;i++)r[i]=n+=1+t();return r}function W7(e,t){let r=Array(e);for(let i=0,n=0;i<e;i++)r[i]=n+=H7(t());return r}function Iu(e,t){let r=p2(e(),e),i=e(),n=p2(i,e),s=K7(i,e);for(let h=0;h<i;h++)for(let d=0;d<s[h];d++)r.push(n[h]+d);return t?r.map(h=>t[h]):r}function V7(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(Q7(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(Y7(r,e))}return k7(d2(t))}function G7(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function g2(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let n=0;n<t;n++)W7(e,r).forEach((s,h)=>i[h].push(s));return i}function Q7(e,t){let r=1+t(),i=t(),n=G7(t),s=g2(n.length,1+e,t);return d2(s.map((h,d)=>{const g=h[0],p=h.slice(1);return Array(n[d]).fill(void 0).map((_,S)=>{let D=S*i;return[g+S*r,p.map(O=>O+D)]})}))}function Y7(e,t){let r=1+t();return g2(r,1+e,t).map(i=>[i[0],i.slice(1)])}function J7(e){let t=Iu(e).sort((i,n)=>i-n);return r();function r(){let i=[];for(;;){let p=Iu(e,t);if(p.length==0)break;i.push({set:new Set(p),node:r()})}i.sort((p,_)=>_.set.size-p.set.size);let n=e(),s=n%3;n=n/3|0;let h=!!(n&1);n>>=1;let d=n==1,g=n==2;return{branches:i,valid:s,fe0f:h,save:d,check:g}}}function Z7(){return z7(F7("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const xu=Z7();new Set(Iu(xu)),new Set(Iu(xu)),V7(xu),J7(xu),new be(f2),new Uint8Array(32).fill(0);const X7=`Ethereum Signed Message:
`;function m2(e){return typeof e=="string"&&(e=N0(e)),x0(I7([N0(X7),N0(String(e.length)),e]))}const t_="rlp/5.7.0";new be(t_);const e_="address/5.7.0",Vc=new be(e_);function v2(e){Ki(e,20)||Vc.throwArgumentError("invalid address","address",e),e=e.toLowerCase();const t=e.substring(2).split(""),r=new Uint8Array(40);for(let n=0;n<40;n++)r[n]=t[n].charCodeAt(0);const i=br(x0(r));for(let n=0;n<40;n+=2)i[n>>1]>>4>=8&&(t[n]=t[n].toUpperCase()),(i[n>>1]&15)>=8&&(t[n+1]=t[n+1].toUpperCase());return"0x"+t.join("")}const r_=9007199254740991;function i_(e){return Math.log10?Math.log10(e):Math.log(e)/Math.LN10}const R0={};for(let e=0;e<10;e++)R0[String(e)]=String(e);for(let e=0;e<26;e++)R0[String.fromCharCode(65+e)]=String(10+e);const w2=Math.floor(i_(r_));function n_(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(i=>R0[i]).join("");for(;t.length>=w2;){let i=t.substring(0,w2);t=parseInt(i,10)%97+t.substring(i.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}function s_(e){let t=null;if(typeof e!="string"&&Vc.throwArgumentError("invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/))e.substring(0,2)!=="0x"&&(e="0x"+e),t=v2(e),e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&t!==e&&Vc.throwArgumentError("bad address checksum","address",e);else if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(e.substring(2,4)!==n_(e)&&Vc.throwArgumentError("bad icap checksum","address",e),t=R7(e.substring(4));t.length<40;)t="0"+t;t=v2("0x"+t)}else Vc.throwArgumentError("invalid address","address",e);return t}const o_="properties/5.7.0";new be(o_);function Gc(e,t,r){Object.defineProperty(e,t,{enumerable:!0,value:r,writable:!1})}new be(f2),new Uint8Array(32).fill(0),sr.from(-1);const a_=sr.from(0),c_=sr.from(1);sr.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),qn(c_.toHexString(),32),qn(a_.toHexString(),32);var y2={exports:{}};(function(e){(function(t,r){function i(o,u){if(!o)throw new Error(u||"Assertion failed")}function n(o,u){o.super_=u;var f=function(){};f.prototype=u.prototype,o.prototype=new f,o.prototype.constructor=o}function s(o,u,f){if(s.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((u==="le"||u==="be")&&(f=u,u=10),this._init(o||0,u||10,f||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=e2.Buffer}catch{}s.isBN=function(o){return o instanceof s?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===s.wordSize&&Array.isArray(o.words)},s.max=function(o,u){return o.cmp(u)>0?o:u},s.min=function(o,u){return o.cmp(u)<0?o:u},s.prototype._init=function(o,u,f){if(typeof o=="number")return this._initNumber(o,u,f);if(typeof o=="object")return this._initArray(o,u,f);u==="hex"&&(u=16),i(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var v=0;o[0]==="-"&&(v++,this.negative=1),v<o.length&&(u===16?this._parseHex(o,v,f):(this._parseBase(o,u,v),f==="le"&&this._initArray(this.toArray(),u,f)))},s.prototype._initNumber=function(o,u,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),u,f)},s.prototype._initArray=function(o,u,f){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A,E,x=0;if(f==="be")for(v=o.length-1,A=0;v>=0;v-=3)E=o[v]|o[v-1]<<8|o[v-2]<<16,this.words[A]|=E<<x&67108863,this.words[A+1]=E>>>26-x&67108863,x+=24,x>=26&&(x-=26,A++);else if(f==="le")for(v=0,A=0;v<o.length;v+=3)E=o[v]|o[v+1]<<8|o[v+2]<<16,this.words[A]|=E<<x&67108863,this.words[A+1]=E>>>26-x&67108863,x+=24,x>=26&&(x-=26,A++);return this._strip()};function d(o,u){var f=o.charCodeAt(u);if(f>=48&&f<=57)return f-48;if(f>=65&&f<=70)return f-55;if(f>=97&&f<=102)return f-87;i(!1,"Invalid character in "+o)}function g(o,u,f){var v=d(o,f);return f-1>=u&&(v|=d(o,f-1)<<4),v}s.prototype._parseHex=function(o,u,f){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A=0,E=0,x;if(f==="be")for(v=o.length-1;v>=u;v-=2)x=g(o,u,v)<<A,this.words[E]|=x&67108863,A>=18?(A-=18,E+=1,this.words[E]|=x>>>26):A+=8;else{var y=o.length-u;for(v=y%2===0?u+1:u;v<o.length;v+=2)x=g(o,u,v)<<A,this.words[E]|=x&67108863,A>=18?(A-=18,E+=1,this.words[E]|=x>>>26):A+=8}this._strip()};function p(o,u,f,v){for(var A=0,E=0,x=Math.min(o.length,f),y=u;y<x;y++){var c=o.charCodeAt(y)-48;A*=v,c>=49?E=c-49+10:c>=17?E=c-17+10:E=c,i(c>=0&&E<v,"Invalid character"),A+=E}return A}s.prototype._parseBase=function(o,u,f){this.words=[0],this.length=1;for(var v=0,A=1;A<=67108863;A*=u)v++;v--,A=A/u|0;for(var E=o.length-f,x=E%v,y=Math.min(E,E-x)+f,c=0,b=f;b<y;b+=v)c=p(o,b,b+v,u),this.imuln(A),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(x!==0){var J=1;for(c=p(o,b,o.length,u),b=0;b<x;b++)J*=u;this.imuln(J),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red};function _(o,u){o.words=u.words,o.length=u.length,o.negative=u.negative,o.red=u.red}if(s.prototype._move=function(o){_(o,this)},s.prototype.clone=function(){var o=new s(null);return this.copy(o),o},s.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{s.prototype.inspect=S}else s.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var D=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],O=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(o,u){o=o||10,u=u|0||1;var f;if(o===16||o==="hex"){f="";for(var v=0,A=0,E=0;E<this.length;E++){var x=this.words[E],y=((x<<v|A)&16777215).toString(16);A=x>>>24-v&16777215,v+=2,v>=26&&(v-=26,E--),A!==0||E!==this.length-1?f=D[6-y.length]+y+f:f=y+f}for(A!==0&&(f=A.toString(16)+f);f.length%u!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var c=O[o],b=N[o];f="";var J=this.clone();for(J.negative=0;!J.isZero();){var X=J.modrn(b).toString(o);J=J.idivn(b),J.isZero()?f=X+f:f=D[c-X.length]+X+f}for(this.isZero()&&(f="0"+f);f.length%u!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},s.prototype.toJSON=function(){return this.toString(16,2)},h&&(s.prototype.toBuffer=function(o,u){return this.toArrayLike(h,o,u)}),s.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)};var L=function(o,u){return o.allocUnsafe?o.allocUnsafe(u):new o(u)};s.prototype.toArrayLike=function(o,u,f){this._strip();var v=this.byteLength(),A=f||Math.max(1,v);i(v<=A,"byte array longer than desired length"),i(A>0,"Requested array length <= 0");var E=L(o,A),x=u==="le"?"LE":"BE";return this["_toArrayLike"+x](E,v),E},s.prototype._toArrayLikeLE=function(o,u){for(var f=0,v=0,A=0,E=0;A<this.length;A++){var x=this.words[A]<<E|v;o[f++]=x&255,f<o.length&&(o[f++]=x>>8&255),f<o.length&&(o[f++]=x>>16&255),E===6?(f<o.length&&(o[f++]=x>>24&255),v=0,E=0):(v=x>>>24,E+=2)}if(f<o.length)for(o[f++]=v;f<o.length;)o[f++]=0},s.prototype._toArrayLikeBE=function(o,u){for(var f=o.length-1,v=0,A=0,E=0;A<this.length;A++){var x=this.words[A]<<E|v;o[f--]=x&255,f>=0&&(o[f--]=x>>8&255),f>=0&&(o[f--]=x>>16&255),E===6?(f>=0&&(o[f--]=x>>24&255),v=0,E=0):(v=x>>>24,E+=2)}if(f>=0)for(o[f--]=v;f>=0;)o[f--]=0},Math.clz32?s.prototype._countBits=function(o){return 32-Math.clz32(o)}:s.prototype._countBits=function(o){var u=o,f=0;return u>=4096&&(f+=13,u>>>=13),u>=64&&(f+=7,u>>>=7),u>=8&&(f+=4,u>>>=4),u>=2&&(f+=2,u>>>=2),f+u},s.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,f=0;return u&8191||(f+=13,u>>>=13),u&127||(f+=7,u>>>=7),u&15||(f+=4,u>>>=4),u&3||(f+=2,u>>>=2),u&1||f++,f},s.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function z(o){for(var u=new Array(o.bitLength()),f=0;f<u.length;f++){var v=f/26|0,A=f%26;u[f]=o.words[v]>>>A&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var f=this._zeroBits(this.words[u]);if(o+=f,f!==26)break}return o},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},s.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this._strip()},s.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},s.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},s.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},s.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var f=0;f<u.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=u.length,this._strip()},s.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},s.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},s.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},s.prototype.iuxor=function(o){var u,f;this.length>o.length?(u=this,f=o):(u=o,f=this);for(var v=0;v<f.length;v++)this.words[v]=u.words[v]^f.words[v];if(this!==u)for(;v<u.length;v++)this.words[v]=u.words[v];return this.length=u.length,this._strip()},s.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},s.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},s.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},s.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,f=o%26;this._expand(u),f>0&&u--;for(var v=0;v<u;v++)this.words[v]=~this.words[v]&67108863;return f>0&&(this.words[v]=~this.words[v]&67108863>>26-f),this._strip()},s.prototype.notn=function(o){return this.clone().inotn(o)},s.prototype.setn=function(o,u){i(typeof o=="number"&&o>=0);var f=o/26|0,v=o%26;return this._expand(f+1),u?this.words[f]=this.words[f]|1<<v:this.words[f]=this.words[f]&~(1<<v),this._strip()},s.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var f,v;this.length>o.length?(f=this,v=o):(f=o,v=this);for(var A=0,E=0;E<v.length;E++)u=(f.words[E]|0)+(v.words[E]|0)+A,this.words[E]=u&67108863,A=u>>>26;for(;A!==0&&E<f.length;E++)u=(f.words[E]|0)+A,this.words[E]=u&67108863,A=u>>>26;if(this.length=f.length,A!==0)this.words[this.length]=A,this.length++;else if(f!==this)for(;E<f.length;E++)this.words[E]=f.words[E];return this},s.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},s.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,A;f>0?(v=this,A=o):(v=o,A=this);for(var E=0,x=0;x<A.length;x++)u=(v.words[x]|0)-(A.words[x]|0)+E,E=u>>26,this.words[x]=u&67108863;for(;E!==0&&x<v.length;x++)u=(v.words[x]|0)+E,E=u>>26,this.words[x]=u&67108863;if(E===0&&x<v.length&&v!==this)for(;x<v.length;x++)this.words[x]=v.words[x];return this.length=Math.max(this.length,x),v!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(o){return this.clone().isub(o)};function G(o,u,f){f.negative=u.negative^o.negative;var v=o.length+u.length|0;f.length=v,v=v-1|0;var A=o.words[0]|0,E=u.words[0]|0,x=A*E,y=x&67108863,c=x/67108864|0;f.words[0]=y;for(var b=1;b<v;b++){for(var J=c>>>26,X=c&67108863,w=Math.min(b,u.length-1),V=Math.max(0,b-o.length+1);V<=w;V++){var P=b-V|0;A=o.words[P]|0,E=u.words[V]|0,x=A*E+X,J+=x/67108864|0,X=x&67108863}f.words[b]=X|0,c=J|0}return c!==0?f.words[b]=c|0:f.length--,f._strip()}var q=function(o,u,f){var v=o.words,A=u.words,E=f.words,x=0,y,c,b,J=v[0]|0,X=J&8191,w=J>>>13,V=v[1]|0,P=V&8191,T=V>>>13,K=v[2]|0,M=K&8191,$=K>>>13,it=v[3]|0,ot=it&8191,rt=it>>>13,Ut=v[4]|0,_t=Ut&8191,wt=Ut>>>13,pe=v[5]|0,Ot=pe&8191,bt=pe>>>13,ee=v[6]|0,pt=ee&8191,gt=ee>>>13,ne=v[7]|0,ft=ne&8191,mt=ne>>>13,Zt=v[8]|0,dt=Zt&8191,At=Zt>>>13,re=v[9]|0,Et=re&8191,Mt=re>>>13,oe=A[0]|0,xt=oe&8191,St=oe>>>13,qe=A[1]|0,qt=qe&8191,Ht=qe>>>13,ze=A[2]|0,Kt=ze&8191,Wt=ze>>>13,ar=A[3]|0,Rt=ar&8191,Nt=ar>>>13,Ee=A[4]|0,Tt=Ee&8191,Pt=Ee>>>13,ge=A[5]|0,Lt=ge&8191,Ft=ge>>>13,Me=A[6]|0,kt=Me&8191,$t=Me>>>13,Ie=A[7]|0,Bt=Ie&8191,Dt=Ie>>>13,Ce=A[8]|0,jt=Ce&8191,Qt=Ce>>>13,_r=A[9]|0,Yt=_r&8191,zt=_r>>>13;f.negative=o.negative^u.negative,f.length=19,y=Math.imul(X,xt),c=Math.imul(X,St),c=c+Math.imul(w,xt)|0,b=Math.imul(w,St);var cr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(cr>>>26)|0,cr&=67108863,y=Math.imul(P,xt),c=Math.imul(P,St),c=c+Math.imul(T,xt)|0,b=Math.imul(T,St),y=y+Math.imul(X,qt)|0,c=c+Math.imul(X,Ht)|0,c=c+Math.imul(w,qt)|0,b=b+Math.imul(w,Ht)|0;var hr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(hr>>>26)|0,hr&=67108863,y=Math.imul(M,xt),c=Math.imul(M,St),c=c+Math.imul($,xt)|0,b=Math.imul($,St),y=y+Math.imul(P,qt)|0,c=c+Math.imul(P,Ht)|0,c=c+Math.imul(T,qt)|0,b=b+Math.imul(T,Ht)|0,y=y+Math.imul(X,Kt)|0,c=c+Math.imul(X,Wt)|0,c=c+Math.imul(w,Kt)|0,b=b+Math.imul(w,Wt)|0;var ur=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(ur>>>26)|0,ur&=67108863,y=Math.imul(ot,xt),c=Math.imul(ot,St),c=c+Math.imul(rt,xt)|0,b=Math.imul(rt,St),y=y+Math.imul(M,qt)|0,c=c+Math.imul(M,Ht)|0,c=c+Math.imul($,qt)|0,b=b+Math.imul($,Ht)|0,y=y+Math.imul(P,Kt)|0,c=c+Math.imul(P,Wt)|0,c=c+Math.imul(T,Kt)|0,b=b+Math.imul(T,Wt)|0,y=y+Math.imul(X,Rt)|0,c=c+Math.imul(X,Nt)|0,c=c+Math.imul(w,Rt)|0,b=b+Math.imul(w,Nt)|0;var lr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(lr>>>26)|0,lr&=67108863,y=Math.imul(_t,xt),c=Math.imul(_t,St),c=c+Math.imul(wt,xt)|0,b=Math.imul(wt,St),y=y+Math.imul(ot,qt)|0,c=c+Math.imul(ot,Ht)|0,c=c+Math.imul(rt,qt)|0,b=b+Math.imul(rt,Ht)|0,y=y+Math.imul(M,Kt)|0,c=c+Math.imul(M,Wt)|0,c=c+Math.imul($,Kt)|0,b=b+Math.imul($,Wt)|0,y=y+Math.imul(P,Rt)|0,c=c+Math.imul(P,Nt)|0,c=c+Math.imul(T,Rt)|0,b=b+Math.imul(T,Nt)|0,y=y+Math.imul(X,Tt)|0,c=c+Math.imul(X,Pt)|0,c=c+Math.imul(w,Tt)|0,b=b+Math.imul(w,Pt)|0;var fr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(fr>>>26)|0,fr&=67108863,y=Math.imul(Ot,xt),c=Math.imul(Ot,St),c=c+Math.imul(bt,xt)|0,b=Math.imul(bt,St),y=y+Math.imul(_t,qt)|0,c=c+Math.imul(_t,Ht)|0,c=c+Math.imul(wt,qt)|0,b=b+Math.imul(wt,Ht)|0,y=y+Math.imul(ot,Kt)|0,c=c+Math.imul(ot,Wt)|0,c=c+Math.imul(rt,Kt)|0,b=b+Math.imul(rt,Wt)|0,y=y+Math.imul(M,Rt)|0,c=c+Math.imul(M,Nt)|0,c=c+Math.imul($,Rt)|0,b=b+Math.imul($,Nt)|0,y=y+Math.imul(P,Tt)|0,c=c+Math.imul(P,Pt)|0,c=c+Math.imul(T,Tt)|0,b=b+Math.imul(T,Pt)|0,y=y+Math.imul(X,Lt)|0,c=c+Math.imul(X,Ft)|0,c=c+Math.imul(w,Lt)|0,b=b+Math.imul(w,Ft)|0;var Ke=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,y=Math.imul(pt,xt),c=Math.imul(pt,St),c=c+Math.imul(gt,xt)|0,b=Math.imul(gt,St),y=y+Math.imul(Ot,qt)|0,c=c+Math.imul(Ot,Ht)|0,c=c+Math.imul(bt,qt)|0,b=b+Math.imul(bt,Ht)|0,y=y+Math.imul(_t,Kt)|0,c=c+Math.imul(_t,Wt)|0,c=c+Math.imul(wt,Kt)|0,b=b+Math.imul(wt,Wt)|0,y=y+Math.imul(ot,Rt)|0,c=c+Math.imul(ot,Nt)|0,c=c+Math.imul(rt,Rt)|0,b=b+Math.imul(rt,Nt)|0,y=y+Math.imul(M,Tt)|0,c=c+Math.imul(M,Pt)|0,c=c+Math.imul($,Tt)|0,b=b+Math.imul($,Pt)|0,y=y+Math.imul(P,Lt)|0,c=c+Math.imul(P,Ft)|0,c=c+Math.imul(T,Lt)|0,b=b+Math.imul(T,Ft)|0,y=y+Math.imul(X,kt)|0,c=c+Math.imul(X,$t)|0,c=c+Math.imul(w,kt)|0,b=b+Math.imul(w,$t)|0;var kr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(kr>>>26)|0,kr&=67108863,y=Math.imul(ft,xt),c=Math.imul(ft,St),c=c+Math.imul(mt,xt)|0,b=Math.imul(mt,St),y=y+Math.imul(pt,qt)|0,c=c+Math.imul(pt,Ht)|0,c=c+Math.imul(gt,qt)|0,b=b+Math.imul(gt,Ht)|0,y=y+Math.imul(Ot,Kt)|0,c=c+Math.imul(Ot,Wt)|0,c=c+Math.imul(bt,Kt)|0,b=b+Math.imul(bt,Wt)|0,y=y+Math.imul(_t,Rt)|0,c=c+Math.imul(_t,Nt)|0,c=c+Math.imul(wt,Rt)|0,b=b+Math.imul(wt,Nt)|0,y=y+Math.imul(ot,Tt)|0,c=c+Math.imul(ot,Pt)|0,c=c+Math.imul(rt,Tt)|0,b=b+Math.imul(rt,Pt)|0,y=y+Math.imul(M,Lt)|0,c=c+Math.imul(M,Ft)|0,c=c+Math.imul($,Lt)|0,b=b+Math.imul($,Ft)|0,y=y+Math.imul(P,kt)|0,c=c+Math.imul(P,$t)|0,c=c+Math.imul(T,kt)|0,b=b+Math.imul(T,$t)|0,y=y+Math.imul(X,Bt)|0,c=c+Math.imul(X,Dt)|0,c=c+Math.imul(w,Bt)|0,b=b+Math.imul(w,Dt)|0;var gi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(gi>>>26)|0,gi&=67108863,y=Math.imul(dt,xt),c=Math.imul(dt,St),c=c+Math.imul(At,xt)|0,b=Math.imul(At,St),y=y+Math.imul(ft,qt)|0,c=c+Math.imul(ft,Ht)|0,c=c+Math.imul(mt,qt)|0,b=b+Math.imul(mt,Ht)|0,y=y+Math.imul(pt,Kt)|0,c=c+Math.imul(pt,Wt)|0,c=c+Math.imul(gt,Kt)|0,b=b+Math.imul(gt,Wt)|0,y=y+Math.imul(Ot,Rt)|0,c=c+Math.imul(Ot,Nt)|0,c=c+Math.imul(bt,Rt)|0,b=b+Math.imul(bt,Nt)|0,y=y+Math.imul(_t,Tt)|0,c=c+Math.imul(_t,Pt)|0,c=c+Math.imul(wt,Tt)|0,b=b+Math.imul(wt,Pt)|0,y=y+Math.imul(ot,Lt)|0,c=c+Math.imul(ot,Ft)|0,c=c+Math.imul(rt,Lt)|0,b=b+Math.imul(rt,Ft)|0,y=y+Math.imul(M,kt)|0,c=c+Math.imul(M,$t)|0,c=c+Math.imul($,kt)|0,b=b+Math.imul($,$t)|0,y=y+Math.imul(P,Bt)|0,c=c+Math.imul(P,Dt)|0,c=c+Math.imul(T,Bt)|0,b=b+Math.imul(T,Dt)|0,y=y+Math.imul(X,jt)|0,c=c+Math.imul(X,Qt)|0,c=c+Math.imul(w,jt)|0,b=b+Math.imul(w,Qt)|0;var jr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(jr>>>26)|0,jr&=67108863,y=Math.imul(Et,xt),c=Math.imul(Et,St),c=c+Math.imul(Mt,xt)|0,b=Math.imul(Mt,St),y=y+Math.imul(dt,qt)|0,c=c+Math.imul(dt,Ht)|0,c=c+Math.imul(At,qt)|0,b=b+Math.imul(At,Ht)|0,y=y+Math.imul(ft,Kt)|0,c=c+Math.imul(ft,Wt)|0,c=c+Math.imul(mt,Kt)|0,b=b+Math.imul(mt,Wt)|0,y=y+Math.imul(pt,Rt)|0,c=c+Math.imul(pt,Nt)|0,c=c+Math.imul(gt,Rt)|0,b=b+Math.imul(gt,Nt)|0,y=y+Math.imul(Ot,Tt)|0,c=c+Math.imul(Ot,Pt)|0,c=c+Math.imul(bt,Tt)|0,b=b+Math.imul(bt,Pt)|0,y=y+Math.imul(_t,Lt)|0,c=c+Math.imul(_t,Ft)|0,c=c+Math.imul(wt,Lt)|0,b=b+Math.imul(wt,Ft)|0,y=y+Math.imul(ot,kt)|0,c=c+Math.imul(ot,$t)|0,c=c+Math.imul(rt,kt)|0,b=b+Math.imul(rt,$t)|0,y=y+Math.imul(M,Bt)|0,c=c+Math.imul(M,Dt)|0,c=c+Math.imul($,Bt)|0,b=b+Math.imul($,Dt)|0,y=y+Math.imul(P,jt)|0,c=c+Math.imul(P,Qt)|0,c=c+Math.imul(T,jt)|0,b=b+Math.imul(T,Qt)|0,y=y+Math.imul(X,Yt)|0,c=c+Math.imul(X,zt)|0,c=c+Math.imul(w,Yt)|0,b=b+Math.imul(w,zt)|0;var mi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(mi>>>26)|0,mi&=67108863,y=Math.imul(Et,qt),c=Math.imul(Et,Ht),c=c+Math.imul(Mt,qt)|0,b=Math.imul(Mt,Ht),y=y+Math.imul(dt,Kt)|0,c=c+Math.imul(dt,Wt)|0,c=c+Math.imul(At,Kt)|0,b=b+Math.imul(At,Wt)|0,y=y+Math.imul(ft,Rt)|0,c=c+Math.imul(ft,Nt)|0,c=c+Math.imul(mt,Rt)|0,b=b+Math.imul(mt,Nt)|0,y=y+Math.imul(pt,Tt)|0,c=c+Math.imul(pt,Pt)|0,c=c+Math.imul(gt,Tt)|0,b=b+Math.imul(gt,Pt)|0,y=y+Math.imul(Ot,Lt)|0,c=c+Math.imul(Ot,Ft)|0,c=c+Math.imul(bt,Lt)|0,b=b+Math.imul(bt,Ft)|0,y=y+Math.imul(_t,kt)|0,c=c+Math.imul(_t,$t)|0,c=c+Math.imul(wt,kt)|0,b=b+Math.imul(wt,$t)|0,y=y+Math.imul(ot,Bt)|0,c=c+Math.imul(ot,Dt)|0,c=c+Math.imul(rt,Bt)|0,b=b+Math.imul(rt,Dt)|0,y=y+Math.imul(M,jt)|0,c=c+Math.imul(M,Qt)|0,c=c+Math.imul($,jt)|0,b=b+Math.imul($,Qt)|0,y=y+Math.imul(P,Yt)|0,c=c+Math.imul(P,zt)|0,c=c+Math.imul(T,Yt)|0,b=b+Math.imul(T,zt)|0;var vi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(vi>>>26)|0,vi&=67108863,y=Math.imul(Et,Kt),c=Math.imul(Et,Wt),c=c+Math.imul(Mt,Kt)|0,b=Math.imul(Mt,Wt),y=y+Math.imul(dt,Rt)|0,c=c+Math.imul(dt,Nt)|0,c=c+Math.imul(At,Rt)|0,b=b+Math.imul(At,Nt)|0,y=y+Math.imul(ft,Tt)|0,c=c+Math.imul(ft,Pt)|0,c=c+Math.imul(mt,Tt)|0,b=b+Math.imul(mt,Pt)|0,y=y+Math.imul(pt,Lt)|0,c=c+Math.imul(pt,Ft)|0,c=c+Math.imul(gt,Lt)|0,b=b+Math.imul(gt,Ft)|0,y=y+Math.imul(Ot,kt)|0,c=c+Math.imul(Ot,$t)|0,c=c+Math.imul(bt,kt)|0,b=b+Math.imul(bt,$t)|0,y=y+Math.imul(_t,Bt)|0,c=c+Math.imul(_t,Dt)|0,c=c+Math.imul(wt,Bt)|0,b=b+Math.imul(wt,Dt)|0,y=y+Math.imul(ot,jt)|0,c=c+Math.imul(ot,Qt)|0,c=c+Math.imul(rt,jt)|0,b=b+Math.imul(rt,Qt)|0,y=y+Math.imul(M,Yt)|0,c=c+Math.imul(M,zt)|0,c=c+Math.imul($,Yt)|0,b=b+Math.imul($,zt)|0;var qr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(qr>>>26)|0,qr&=67108863,y=Math.imul(Et,Rt),c=Math.imul(Et,Nt),c=c+Math.imul(Mt,Rt)|0,b=Math.imul(Mt,Nt),y=y+Math.imul(dt,Tt)|0,c=c+Math.imul(dt,Pt)|0,c=c+Math.imul(At,Tt)|0,b=b+Math.imul(At,Pt)|0,y=y+Math.imul(ft,Lt)|0,c=c+Math.imul(ft,Ft)|0,c=c+Math.imul(mt,Lt)|0,b=b+Math.imul(mt,Ft)|0,y=y+Math.imul(pt,kt)|0,c=c+Math.imul(pt,$t)|0,c=c+Math.imul(gt,kt)|0,b=b+Math.imul(gt,$t)|0,y=y+Math.imul(Ot,Bt)|0,c=c+Math.imul(Ot,Dt)|0,c=c+Math.imul(bt,Bt)|0,b=b+Math.imul(bt,Dt)|0,y=y+Math.imul(_t,jt)|0,c=c+Math.imul(_t,Qt)|0,c=c+Math.imul(wt,jt)|0,b=b+Math.imul(wt,Qt)|0,y=y+Math.imul(ot,Yt)|0,c=c+Math.imul(ot,zt)|0,c=c+Math.imul(rt,Yt)|0,b=b+Math.imul(rt,zt)|0;var ni=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(ni>>>26)|0,ni&=67108863,y=Math.imul(Et,Tt),c=Math.imul(Et,Pt),c=c+Math.imul(Mt,Tt)|0,b=Math.imul(Mt,Pt),y=y+Math.imul(dt,Lt)|0,c=c+Math.imul(dt,Ft)|0,c=c+Math.imul(At,Lt)|0,b=b+Math.imul(At,Ft)|0,y=y+Math.imul(ft,kt)|0,c=c+Math.imul(ft,$t)|0,c=c+Math.imul(mt,kt)|0,b=b+Math.imul(mt,$t)|0,y=y+Math.imul(pt,Bt)|0,c=c+Math.imul(pt,Dt)|0,c=c+Math.imul(gt,Bt)|0,b=b+Math.imul(gt,Dt)|0,y=y+Math.imul(Ot,jt)|0,c=c+Math.imul(Ot,Qt)|0,c=c+Math.imul(bt,jt)|0,b=b+Math.imul(bt,Qt)|0,y=y+Math.imul(_t,Yt)|0,c=c+Math.imul(_t,zt)|0,c=c+Math.imul(wt,Yt)|0,b=b+Math.imul(wt,zt)|0;var si=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(si>>>26)|0,si&=67108863,y=Math.imul(Et,Lt),c=Math.imul(Et,Ft),c=c+Math.imul(Mt,Lt)|0,b=Math.imul(Mt,Ft),y=y+Math.imul(dt,kt)|0,c=c+Math.imul(dt,$t)|0,c=c+Math.imul(At,kt)|0,b=b+Math.imul(At,$t)|0,y=y+Math.imul(ft,Bt)|0,c=c+Math.imul(ft,Dt)|0,c=c+Math.imul(mt,Bt)|0,b=b+Math.imul(mt,Dt)|0,y=y+Math.imul(pt,jt)|0,c=c+Math.imul(pt,Qt)|0,c=c+Math.imul(gt,jt)|0,b=b+Math.imul(gt,Qt)|0,y=y+Math.imul(Ot,Yt)|0,c=c+Math.imul(Ot,zt)|0,c=c+Math.imul(bt,Yt)|0,b=b+Math.imul(bt,zt)|0;var wr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(wr>>>26)|0,wr&=67108863,y=Math.imul(Et,kt),c=Math.imul(Et,$t),c=c+Math.imul(Mt,kt)|0,b=Math.imul(Mt,$t),y=y+Math.imul(dt,Bt)|0,c=c+Math.imul(dt,Dt)|0,c=c+Math.imul(At,Bt)|0,b=b+Math.imul(At,Dt)|0,y=y+Math.imul(ft,jt)|0,c=c+Math.imul(ft,Qt)|0,c=c+Math.imul(mt,jt)|0,b=b+Math.imul(mt,Qt)|0,y=y+Math.imul(pt,Yt)|0,c=c+Math.imul(pt,zt)|0,c=c+Math.imul(gt,Yt)|0,b=b+Math.imul(gt,zt)|0;var wi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(wi>>>26)|0,wi&=67108863,y=Math.imul(Et,Bt),c=Math.imul(Et,Dt),c=c+Math.imul(Mt,Bt)|0,b=Math.imul(Mt,Dt),y=y+Math.imul(dt,jt)|0,c=c+Math.imul(dt,Qt)|0,c=c+Math.imul(At,jt)|0,b=b+Math.imul(At,Qt)|0,y=y+Math.imul(ft,Yt)|0,c=c+Math.imul(ft,zt)|0,c=c+Math.imul(mt,Yt)|0,b=b+Math.imul(mt,zt)|0;var yi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(yi>>>26)|0,yi&=67108863,y=Math.imul(Et,jt),c=Math.imul(Et,Qt),c=c+Math.imul(Mt,jt)|0,b=Math.imul(Mt,Qt),y=y+Math.imul(dt,Yt)|0,c=c+Math.imul(dt,zt)|0,c=c+Math.imul(At,Yt)|0,b=b+Math.imul(At,zt)|0;var bi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(bi>>>26)|0,bi&=67108863,y=Math.imul(Et,Yt),c=Math.imul(Et,zt),c=c+Math.imul(Mt,Yt)|0,b=Math.imul(Mt,zt);var Ai=(x+y|0)+((c&8191)<<13)|0;return x=(b+(c>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,E[0]=cr,E[1]=hr,E[2]=ur,E[3]=lr,E[4]=fr,E[5]=Ke,E[6]=kr,E[7]=gi,E[8]=jr,E[9]=mi,E[10]=vi,E[11]=qr,E[12]=ni,E[13]=si,E[14]=wr,E[15]=wi,E[16]=yi,E[17]=bi,E[18]=Ai,x!==0&&(E[19]=x,f.length++),f};Math.imul||(q=G);function W(o,u,f){f.negative=u.negative^o.negative,f.length=o.length+u.length;for(var v=0,A=0,E=0;E<f.length-1;E++){var x=A;A=0;for(var y=v&67108863,c=Math.min(E,u.length-1),b=Math.max(0,E-o.length+1);b<=c;b++){var J=E-b,X=o.words[J]|0,w=u.words[b]|0,V=X*w,P=V&67108863;x=x+(V/67108864|0)|0,P=P+y|0,y=P&67108863,x=x+(P>>>26)|0,A+=x>>>26,x&=67108863}f.words[E]=y,v=x,x=A}return v!==0?f.words[E]=v:f.length--,f._strip()}function B(o,u,f){return W(o,u,f)}s.prototype.mulTo=function(o,u){var f,v=this.length+o.length;return this.length===10&&o.length===10?f=q(this,o,u):v<63?f=G(this,o,u):v<1024?f=W(this,o,u):f=B(this,o,u),f},s.prototype.mul=function(o){var u=new s(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},s.prototype.mulf=function(o){var u=new s(null);return u.words=new Array(this.length+o.length),B(this,o,u)},s.prototype.imul=function(o){return this.clone().mulTo(o,this)},s.prototype.imuln=function(o){var u=o<0;u&&(o=-o),i(typeof o=="number"),i(o<67108864);for(var f=0,v=0;v<this.length;v++){var A=(this.words[v]|0)*o,E=(A&67108863)+(f&67108863);f>>=26,f+=A/67108864|0,f+=E>>>26,this.words[v]=E&67108863}return f!==0&&(this.words[v]=f,this.length++),u?this.ineg():this},s.prototype.muln=function(o){return this.clone().imuln(o)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(o){var u=z(o);if(u.length===0)return new s(1);for(var f=this,v=0;v<u.length&&u[v]===0;v++,f=f.sqr());if(++v<u.length)for(var A=f.sqr();v<u.length;v++,A=A.sqr())u[v]!==0&&(f=f.mul(A));return f},s.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var u=o%26,f=(o-u)/26,v=67108863>>>26-u<<26-u,A;if(u!==0){var E=0;for(A=0;A<this.length;A++){var x=this.words[A]&v,y=(this.words[A]|0)-x<<u;this.words[A]=y|E,E=x>>>26-u}E&&(this.words[A]=E,this.length++)}if(f!==0){for(A=this.length-1;A>=0;A--)this.words[A+f]=this.words[A];for(A=0;A<f;A++)this.words[A]=0;this.length+=f}return this._strip()},s.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},s.prototype.iushrn=function(o,u,f){i(typeof o=="number"&&o>=0);var v;u?v=(u-u%26)/26:v=0;var A=o%26,E=Math.min((o-A)/26,this.length),x=67108863^67108863>>>A<<A,y=f;if(v-=E,v=Math.max(0,v),y){for(var c=0;c<E;c++)y.words[c]=this.words[c];y.length=E}if(E!==0)if(this.length>E)for(this.length-=E,c=0;c<this.length;c++)this.words[c]=this.words[c+E];else this.words[0]=0,this.length=1;var b=0;for(c=this.length-1;c>=0&&(b!==0||c>=v);c--){var J=this.words[c]|0;this.words[c]=b<<26-A|J>>>A,b=J&x}return y&&b!==0&&(y.words[y.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(o,u,f){return i(this.negative===0),this.iushrn(o,u,f)},s.prototype.shln=function(o){return this.clone().ishln(o)},s.prototype.ushln=function(o){return this.clone().iushln(o)},s.prototype.shrn=function(o){return this.clone().ishrn(o)},s.prototype.ushrn=function(o){return this.clone().iushrn(o)},s.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,f=(o-u)/26,v=1<<u;if(this.length<=f)return!1;var A=this.words[f];return!!(A&v)},s.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,f=(o-u)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(u!==0&&f++,this.length=Math.min(f,this.length),u!==0){var v=67108863^67108863>>>u<<u;this.words[this.length-1]&=v}return this._strip()},s.prototype.maskn=function(o){return this.clone().imaskn(o)},s.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},s.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},s.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},s.prototype.addn=function(o){return this.clone().iaddn(o)},s.prototype.subn=function(o){return this.clone().isubn(o)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(o,u,f){var v=o.length+f,A;this._expand(v);var E,x=0;for(A=0;A<o.length;A++){E=(this.words[A+f]|0)+x;var y=(o.words[A]|0)*u;E-=y&67108863,x=(E>>26)-(y/67108864|0),this.words[A+f]=E&67108863}for(;A<this.length-f;A++)E=(this.words[A+f]|0)+x,x=E>>26,this.words[A+f]=E&67108863;if(x===0)return this._strip();for(i(x===-1),x=0,A=0;A<this.length;A++)E=-(this.words[A]|0)+x,x=E>>26,this.words[A]=E&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(o,u){var f=this.length-o.length,v=this.clone(),A=o,E=A.words[A.length-1]|0,x=this._countBits(E);f=26-x,f!==0&&(A=A.ushln(f),v.iushln(f),E=A.words[A.length-1]|0);var y=v.length-A.length,c;if(u!=="mod"){c=new s(null),c.length=y+1,c.words=new Array(c.length);for(var b=0;b<c.length;b++)c.words[b]=0}var J=v.clone()._ishlnsubmul(A,1,y);J.negative===0&&(v=J,c&&(c.words[y]=1));for(var X=y-1;X>=0;X--){var w=(v.words[A.length+X]|0)*67108864+(v.words[A.length+X-1]|0);for(w=Math.min(w/E|0,67108863),v._ishlnsubmul(A,w,X);v.negative!==0;)w--,v.negative=0,v._ishlnsubmul(A,1,X),v.isZero()||(v.negative^=1);c&&(c.words[X]=w)}return c&&c._strip(),v._strip(),u!=="div"&&f!==0&&v.iushrn(f),{div:c||null,mod:v}},s.prototype.divmod=function(o,u,f){if(i(!o.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var v,A,E;return this.negative!==0&&o.negative===0?(E=this.neg().divmod(o,u),u!=="mod"&&(v=E.div.neg()),u!=="div"&&(A=E.mod.neg(),f&&A.negative!==0&&A.iadd(o)),{div:v,mod:A}):this.negative===0&&o.negative!==0?(E=this.divmod(o.neg(),u),u!=="mod"&&(v=E.div.neg()),{div:v,mod:E.mod}):this.negative&o.negative?(E=this.neg().divmod(o.neg(),u),u!=="div"&&(A=E.mod.neg(),f&&A.negative!==0&&A.isub(o)),{div:E.div,mod:A}):o.length>this.length||this.cmp(o)<0?{div:new s(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new s(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new s(this.modrn(o.words[0]))}:this._wordDiv(o,u)},s.prototype.div=function(o){return this.divmod(o,"div",!1).div},s.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},s.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},s.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var f=u.div.negative!==0?u.mod.isub(o):u.mod,v=o.ushrn(1),A=o.andln(1),E=f.cmp(v);return E<0||A===1&&E===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},s.prototype.modrn=function(o){var u=o<0;u&&(o=-o),i(o<=67108863);for(var f=(1<<26)%o,v=0,A=this.length-1;A>=0;A--)v=(f*v+(this.words[A]|0))%o;return u?-v:v},s.prototype.modn=function(o){return this.modrn(o)},s.prototype.idivn=function(o){var u=o<0;u&&(o=-o),i(o<=67108863);for(var f=0,v=this.length-1;v>=0;v--){var A=(this.words[v]|0)+f*67108864;this.words[v]=A/o|0,f=A%o}return this._strip(),u?this.ineg():this},s.prototype.divn=function(o){return this.clone().idivn(o)},s.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var u=this,f=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var v=new s(1),A=new s(0),E=new s(0),x=new s(1),y=0;u.isEven()&&f.isEven();)u.iushrn(1),f.iushrn(1),++y;for(var c=f.clone(),b=u.clone();!u.isZero();){for(var J=0,X=1;!(u.words[0]&X)&&J<26;++J,X<<=1);if(J>0)for(u.iushrn(J);J-- >0;)(v.isOdd()||A.isOdd())&&(v.iadd(c),A.isub(b)),v.iushrn(1),A.iushrn(1);for(var w=0,V=1;!(f.words[0]&V)&&w<26;++w,V<<=1);if(w>0)for(f.iushrn(w);w-- >0;)(E.isOdd()||x.isOdd())&&(E.iadd(c),x.isub(b)),E.iushrn(1),x.iushrn(1);u.cmp(f)>=0?(u.isub(f),v.isub(E),A.isub(x)):(f.isub(u),E.isub(v),x.isub(A))}return{a:E,b:x,gcd:f.iushln(y)}},s.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var u=this,f=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var v=new s(1),A=new s(0),E=f.clone();u.cmpn(1)>0&&f.cmpn(1)>0;){for(var x=0,y=1;!(u.words[0]&y)&&x<26;++x,y<<=1);if(x>0)for(u.iushrn(x);x-- >0;)v.isOdd()&&v.iadd(E),v.iushrn(1);for(var c=0,b=1;!(f.words[0]&b)&&c<26;++c,b<<=1);if(c>0)for(f.iushrn(c);c-- >0;)A.isOdd()&&A.iadd(E),A.iushrn(1);u.cmp(f)>=0?(u.isub(f),v.isub(A)):(f.isub(u),A.isub(v))}var J;return u.cmpn(1)===0?J=v:J=A,J.cmpn(0)<0&&J.iadd(o),J},s.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),f=o.clone();u.negative=0,f.negative=0;for(var v=0;u.isEven()&&f.isEven();v++)u.iushrn(1),f.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;f.isEven();)f.iushrn(1);var A=u.cmp(f);if(A<0){var E=u;u=f,f=E}else if(A===0||f.cmpn(1)===0)break;u.isub(f)}while(!0);return f.iushln(v)},s.prototype.invm=function(o){return this.egcd(o).a.umod(o)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(o){return this.words[0]&o},s.prototype.bincn=function(o){i(typeof o=="number");var u=o%26,f=(o-u)/26,v=1<<u;if(this.length<=f)return this._expand(f+1),this.words[f]|=v,this;for(var A=v,E=f;A!==0&&E<this.length;E++){var x=this.words[E]|0;x+=A,A=x>>>26,x&=67108863,this.words[E]=x}return A!==0&&(this.words[E]=A,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var f;if(this.length>1)f=1;else{u&&(o=-o),i(o<=67108863,"Number is too big");var v=this.words[0]|0;f=v===o?0:v<o?-1:1}return this.negative!==0?-f|0:f},s.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},s.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,f=this.length-1;f>=0;f--){var v=this.words[f]|0,A=o.words[f]|0;if(v!==A){v<A?u=-1:v>A&&(u=1);break}}return u},s.prototype.gtn=function(o){return this.cmpn(o)===1},s.prototype.gt=function(o){return this.cmp(o)===1},s.prototype.gten=function(o){return this.cmpn(o)>=0},s.prototype.gte=function(o){return this.cmp(o)>=0},s.prototype.ltn=function(o){return this.cmpn(o)===-1},s.prototype.lt=function(o){return this.cmp(o)===-1},s.prototype.lten=function(o){return this.cmpn(o)<=0},s.prototype.lte=function(o){return this.cmp(o)<=0},s.prototype.eqn=function(o){return this.cmpn(o)===0},s.prototype.eq=function(o){return this.cmp(o)===0},s.red=function(o){return new Z(o)},s.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(o){return this.red=o,this},s.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},s.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},s.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},s.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},s.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},s.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},s.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},s.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var k={k256:null,p224:null,p192:null,p25519:null};function j(o,u){this.name=o,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var o=new s(null);return o.words=new Array(Math.ceil(this.n/13)),o},j.prototype.ireduce=function(o){var u=o,f;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),f=u.bitLength();while(f>this.n);var v=f<this.n?-1:u.ucmp(this.p);return v===0?(u.words[0]=0,u.length=1):v>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},j.prototype.split=function(o,u){o.iushrn(this.n,0,u)},j.prototype.imulK=function(o){return o.imul(this.k)};function I(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(I,j),I.prototype.split=function(o,u){for(var f=4194303,v=Math.min(o.length,9),A=0;A<v;A++)u.words[A]=o.words[A];if(u.length=v,o.length<=9){o.words[0]=0,o.length=1;return}var E=o.words[9];for(u.words[u.length++]=E&f,A=10;A<o.length;A++){var x=o.words[A]|0;o.words[A-10]=(x&f)<<4|E>>>22,E=x}E>>>=22,o.words[A-10]=E,E===0&&o.length>10?o.length-=10:o.length-=9},I.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,f=0;f<o.length;f++){var v=o.words[f]|0;u+=v*977,o.words[f]=u&67108863,u=v*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function U(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(U,j);function et(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(et,j);function ct(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(ct,j),ct.prototype.imulK=function(o){for(var u=0,f=0;f<o.length;f++){var v=(o.words[f]|0)*19+u,A=v&67108863;v>>>=26,o.words[f]=A,u=v}return u!==0&&(o.words[o.length++]=u),o},s._prime=function(o){if(k[o])return k[o];var u;if(o==="k256")u=new I;else if(o==="p224")u=new U;else if(o==="p192")u=new et;else if(o==="p25519")u=new ct;else throw new Error("Unknown prime "+o);return k[o]=u,u};function Z(o){if(typeof o=="string"){var u=s._prime(o);this.m=u.p,this.prime=u}else i(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}Z.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},Z.prototype._verify2=function(o,u){i((o.negative|u.negative)===0,"red works only with positives"),i(o.red&&o.red===u.red,"red works only with red numbers")},Z.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(_(o,o.umod(this.m)._forceRed(this)),o)},Z.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},Z.prototype.add=function(o,u){this._verify2(o,u);var f=o.add(u);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},Z.prototype.iadd=function(o,u){this._verify2(o,u);var f=o.iadd(u);return f.cmp(this.m)>=0&&f.isub(this.m),f},Z.prototype.sub=function(o,u){this._verify2(o,u);var f=o.sub(u);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},Z.prototype.isub=function(o,u){this._verify2(o,u);var f=o.isub(u);return f.cmpn(0)<0&&f.iadd(this.m),f},Z.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},Z.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},Z.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},Z.prototype.isqr=function(o){return this.imul(o,o.clone())},Z.prototype.sqr=function(o){return this.mul(o,o)},Z.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(i(u%2===1),u===3){var f=this.m.add(new s(1)).iushrn(2);return this.pow(o,f)}for(var v=this.m.subn(1),A=0;!v.isZero()&&v.andln(1)===0;)A++,v.iushrn(1);i(!v.isZero());var E=new s(1).toRed(this),x=E.redNeg(),y=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);this.pow(c,y).cmp(x)!==0;)c.redIAdd(x);for(var b=this.pow(c,v),J=this.pow(o,v.addn(1).iushrn(1)),X=this.pow(o,v),w=A;X.cmp(E)!==0;){for(var V=X,P=0;V.cmp(E)!==0;P++)V=V.redSqr();i(P<w);var T=this.pow(b,new s(1).iushln(w-P-1));J=J.redMul(T),b=T.redSqr(),X=X.redMul(b),w=P}return J},Z.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},Z.prototype.pow=function(o,u){if(u.isZero())return new s(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var f=4,v=new Array(1<<f);v[0]=new s(1).toRed(this),v[1]=o;for(var A=2;A<v.length;A++)v[A]=this.mul(v[A-1],o);var E=v[0],x=0,y=0,c=u.bitLength()%26;for(c===0&&(c=26),A=u.length-1;A>=0;A--){for(var b=u.words[A],J=c-1;J>=0;J--){var X=b>>J&1;if(E!==v[0]&&(E=this.sqr(E)),X===0&&x===0){y=0;continue}x<<=1,x|=X,y++,!(y!==f&&(A!==0||J!==0))&&(E=this.mul(E,v[x]),y=0,x=0)}c=26}return E},Z.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},Z.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},s.mont=function(o){return new ut(o)};function ut(o){Z.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ut,Z),ut.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},ut.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},ut.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(u),v=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=f.isub(v).iushrn(this.shift),E=A;return A.cmp(this.m)>=0?E=A.isub(this.m):A.cmpn(0)<0&&(E=A.iadd(this.m)),E._forceRed(this)},ut.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new s(0)._forceRed(this);var f=o.mul(u),v=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=f.isub(v).iushrn(this.shift),E=A;return A.cmp(this.m)>=0?E=A.isub(this.m):A.cmpn(0)<0&&(E=A.iadd(this.m)),E._forceRed(this)},ut.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(e,E0)})(y2);var ye=y2.exports,zn={},Re={},Qc=b2;function b2(e,t){if(!e)throw new Error(t||"Assertion failed")}b2.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var T0={exports:{}};typeof Object.create=="function"?T0.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:T0.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var h_=Qc,u_=T0.exports;Re.inherits=u_;function l_(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function f_(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var s=e.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):l_(e,n)?(s=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128)}else for(n=0;n<e.length;n++)r[n]=e[n]|0;return r}Re.toArray=f_;function d_(e){for(var t="",r=0;r<e.length;r++)t+=_2(e[r].toString(16));return t}Re.toHex=d_;function A2(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}Re.htonl=A2;function p_(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];t==="little"&&(n=A2(n)),r+=E2(n.toString(16))}return r}Re.toHex32=p_;function _2(e){return e.length===1?"0"+e:e}Re.zero2=_2;function E2(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}Re.zero8=E2;function g_(e,t,r,i){var n=r-t;h_(n%4===0);for(var s=new Array(n/4),h=0,d=t;h<s.length;h++,d+=4){var g;i==="big"?g=e[d]<<24|e[d+1]<<16|e[d+2]<<8|e[d+3]:g=e[d+3]<<24|e[d+2]<<16|e[d+1]<<8|e[d],s[h]=g>>>0}return s}Re.join32=g_;function m_(e,t){for(var r=new Array(e.length*4),i=0,n=0;i<e.length;i++,n+=4){var s=e[i];t==="big"?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=s&255):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=s&255)}return r}Re.split32=m_;function v_(e,t){return e>>>t|e<<32-t}Re.rotr32=v_;function w_(e,t){return e<<t|e>>>32-t}Re.rotl32=w_;function y_(e,t){return e+t>>>0}Re.sum32=y_;function b_(e,t,r){return e+t+r>>>0}Re.sum32_3=b_;function A_(e,t,r,i){return e+t+r+i>>>0}Re.sum32_4=A_;function __(e,t,r,i,n){return e+t+r+i+n>>>0}Re.sum32_5=__;function E_(e,t,r,i){var n=e[t],s=e[t+1],h=i+s>>>0,d=(h<i?1:0)+r+n;e[t]=d>>>0,e[t+1]=h}Re.sum64=E_;function M_(e,t,r,i){var n=t+i>>>0,s=(n<t?1:0)+e+r;return s>>>0}Re.sum64_hi=M_;function S_(e,t,r,i){var n=t+i;return n>>>0}Re.sum64_lo=S_;function I_(e,t,r,i,n,s,h,d){var g=0,p=t;p=p+i>>>0,g+=p<t?1:0,p=p+s>>>0,g+=p<s?1:0,p=p+d>>>0,g+=p<d?1:0;var _=e+r+n+h+g;return _>>>0}Re.sum64_4_hi=I_;function x_(e,t,r,i,n,s,h,d){var g=t+i+s+d;return g>>>0}Re.sum64_4_lo=x_;function C_(e,t,r,i,n,s,h,d,g,p){var _=0,S=t;S=S+i>>>0,_+=S<t?1:0,S=S+s>>>0,_+=S<s?1:0,S=S+d>>>0,_+=S<d?1:0,S=S+p>>>0,_+=S<p?1:0;var D=e+r+n+h+g+_;return D>>>0}Re.sum64_5_hi=C_;function D_(e,t,r,i,n,s,h,d,g,p){var _=t+i+s+d+p;return _>>>0}Re.sum64_5_lo=D_;function O_(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}Re.rotr64_hi=O_;function N_(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}Re.rotr64_lo=N_;function P_(e,t,r){return e>>>r}Re.shr64_hi=P_;function R_(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}Re.shr64_lo=R_;var xa={},M2=Re,T_=Qc;function Cu(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}xa.BlockHash=Cu,Cu.prototype.update=function(e,t){if(e=M2.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=M2.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},Cu.prototype.digest=function(e){return this.update(this._pad()),T_(this.pending===null),this._digest(e)},Cu.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=e&255}else for(i[n++]=e&255,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,s=8;s<this.padLength;s++)i[n++]=0;return i};var Ca={},Hn={},$_=Re,Kn=$_.rotr32;function B_(e,t,r,i){if(e===0)return S2(t,r,i);if(e===1||e===3)return x2(t,r,i);if(e===2)return I2(t,r,i)}Hn.ft_1=B_;function S2(e,t,r){return e&t^~e&r}Hn.ch32=S2;function I2(e,t,r){return e&t^e&r^t&r}Hn.maj32=I2;function x2(e,t,r){return e^t^r}Hn.p32=x2;function U_(e){return Kn(e,2)^Kn(e,13)^Kn(e,22)}Hn.s0_256=U_;function L_(e){return Kn(e,6)^Kn(e,11)^Kn(e,25)}Hn.s1_256=L_;function F_(e){return Kn(e,7)^Kn(e,18)^e>>>3}Hn.g0_256=F_;function k_(e){return Kn(e,17)^Kn(e,19)^e>>>10}Hn.g1_256=k_;var Da=Re,j_=xa,q_=Hn,$0=Da.rotl32,Yc=Da.sum32,z_=Da.sum32_5,H_=q_.ft_1,C2=j_.BlockHash,K_=[1518500249,1859775393,2400959708,3395469782];function Wn(){if(!(this instanceof Wn))return new Wn;C2.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Da.inherits(Wn,C2);var W_=Wn;Wn.blockSize=512,Wn.outSize=160,Wn.hmacStrength=80,Wn.padLength=64,Wn.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=$0(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],s=this.h[1],h=this.h[2],d=this.h[3],g=this.h[4];for(i=0;i<r.length;i++){var p=~~(i/20),_=z_($0(n,5),H_(p,s,h,d),g,r[i],K_[p]);g=d,d=h,h=$0(s,30),s=n,n=_}this.h[0]=Yc(this.h[0],n),this.h[1]=Yc(this.h[1],s),this.h[2]=Yc(this.h[2],h),this.h[3]=Yc(this.h[3],d),this.h[4]=Yc(this.h[4],g)},Wn.prototype._digest=function(e){return e==="hex"?Da.toHex32(this.h,"big"):Da.split32(this.h,"big")};var Oa=Re,V_=xa,Na=Hn,G_=Qc,In=Oa.sum32,Q_=Oa.sum32_4,Y_=Oa.sum32_5,J_=Na.ch32,Z_=Na.maj32,X_=Na.s0_256,tE=Na.s1_256,eE=Na.g0_256,rE=Na.g1_256,D2=V_.BlockHash,iE=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Vn(){if(!(this instanceof Vn))return new Vn;D2.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=iE,this.W=new Array(64)}Oa.inherits(Vn,D2);var O2=Vn;Vn.blockSize=512,Vn.outSize=256,Vn.hmacStrength=192,Vn.padLength=64,Vn.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=Q_(rE(r[i-2]),r[i-7],eE(r[i-15]),r[i-16]);var n=this.h[0],s=this.h[1],h=this.h[2],d=this.h[3],g=this.h[4],p=this.h[5],_=this.h[6],S=this.h[7];for(G_(this.k.length===r.length),i=0;i<r.length;i++){var D=Y_(S,tE(g),J_(g,p,_),this.k[i],r[i]),O=In(X_(n),Z_(n,s,h));S=_,_=p,p=g,g=In(d,D),d=h,h=s,s=n,n=In(D,O)}this.h[0]=In(this.h[0],n),this.h[1]=In(this.h[1],s),this.h[2]=In(this.h[2],h),this.h[3]=In(this.h[3],d),this.h[4]=In(this.h[4],g),this.h[5]=In(this.h[5],p),this.h[6]=In(this.h[6],_),this.h[7]=In(this.h[7],S)},Vn.prototype._digest=function(e){return e==="hex"?Oa.toHex32(this.h,"big"):Oa.split32(this.h,"big")};var B0=Re,N2=O2;function Ms(){if(!(this instanceof Ms))return new Ms;N2.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}B0.inherits(Ms,N2);var nE=Ms;Ms.blockSize=512,Ms.outSize=224,Ms.hmacStrength=192,Ms.padLength=64,Ms.prototype._digest=function(e){return e==="hex"?B0.toHex32(this.h.slice(0,7),"big"):B0.split32(this.h.slice(0,7),"big")};var Ci=Re,sE=xa,oE=Qc,Gn=Ci.rotr64_hi,Qn=Ci.rotr64_lo,P2=Ci.shr64_hi,R2=Ci.shr64_lo,Ys=Ci.sum64,U0=Ci.sum64_hi,L0=Ci.sum64_lo,aE=Ci.sum64_4_hi,cE=Ci.sum64_4_lo,hE=Ci.sum64_5_hi,uE=Ci.sum64_5_lo,T2=sE.BlockHash,lE=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function xn(){if(!(this instanceof xn))return new xn;T2.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=lE,this.W=new Array(160)}Ci.inherits(xn,T2);var $2=xn;xn.blockSize=1024,xn.outSize=512,xn.hmacStrength=192,xn.padLength=128,xn.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=_E(r[i-4],r[i-3]),s=EE(r[i-4],r[i-3]),h=r[i-14],d=r[i-13],g=bE(r[i-30],r[i-29]),p=AE(r[i-30],r[i-29]),_=r[i-32],S=r[i-31];r[i]=aE(n,s,h,d,g,p,_,S),r[i+1]=cE(n,s,h,d,g,p,_,S)}},xn.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],s=this.h[2],h=this.h[3],d=this.h[4],g=this.h[5],p=this.h[6],_=this.h[7],S=this.h[8],D=this.h[9],O=this.h[10],N=this.h[11],L=this.h[12],z=this.h[13],G=this.h[14],q=this.h[15];oE(this.k.length===r.length);for(var W=0;W<r.length;W+=2){var B=G,k=q,j=wE(S,D),I=yE(S,D),U=fE(S,D,O,N,L),et=dE(S,D,O,N,L,z),ct=this.k[W],Z=this.k[W+1],ut=r[W],o=r[W+1],u=hE(B,k,j,I,U,et,ct,Z,ut,o),f=uE(B,k,j,I,U,et,ct,Z,ut,o);B=mE(i,n),k=vE(i,n),j=pE(i,n,s,h,d),I=gE(i,n,s,h,d,g);var v=U0(B,k,j,I),A=L0(B,k,j,I);G=L,q=z,L=O,z=N,O=S,N=D,S=U0(p,_,u,f),D=L0(_,_,u,f),p=d,_=g,d=s,g=h,s=i,h=n,i=U0(u,f,v,A),n=L0(u,f,v,A)}Ys(this.h,0,i,n),Ys(this.h,2,s,h),Ys(this.h,4,d,g),Ys(this.h,6,p,_),Ys(this.h,8,S,D),Ys(this.h,10,O,N),Ys(this.h,12,L,z),Ys(this.h,14,G,q)},xn.prototype._digest=function(e){return e==="hex"?Ci.toHex32(this.h,"big"):Ci.split32(this.h,"big")};function fE(e,t,r,i,n){var s=e&r^~e&n;return s<0&&(s+=4294967296),s}function dE(e,t,r,i,n,s){var h=t&i^~t&s;return h<0&&(h+=4294967296),h}function pE(e,t,r,i,n){var s=e&r^e&n^r&n;return s<0&&(s+=4294967296),s}function gE(e,t,r,i,n,s){var h=t&i^t&s^i&s;return h<0&&(h+=4294967296),h}function mE(e,t){var r=Gn(e,t,28),i=Gn(t,e,2),n=Gn(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function vE(e,t){var r=Qn(e,t,28),i=Qn(t,e,2),n=Qn(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function wE(e,t){var r=Gn(e,t,14),i=Gn(e,t,18),n=Gn(t,e,9),s=r^i^n;return s<0&&(s+=4294967296),s}function yE(e,t){var r=Qn(e,t,14),i=Qn(e,t,18),n=Qn(t,e,9),s=r^i^n;return s<0&&(s+=4294967296),s}function bE(e,t){var r=Gn(e,t,1),i=Gn(e,t,8),n=P2(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function AE(e,t){var r=Qn(e,t,1),i=Qn(e,t,8),n=R2(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function _E(e,t){var r=Gn(e,t,19),i=Gn(t,e,29),n=P2(e,t,6),s=r^i^n;return s<0&&(s+=4294967296),s}function EE(e,t){var r=Qn(e,t,19),i=Qn(t,e,29),n=R2(e,t,6),s=r^i^n;return s<0&&(s+=4294967296),s}var F0=Re,B2=$2;function Ss(){if(!(this instanceof Ss))return new Ss;B2.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}F0.inherits(Ss,B2);var ME=Ss;Ss.blockSize=1024,Ss.outSize=384,Ss.hmacStrength=192,Ss.padLength=128,Ss.prototype._digest=function(e){return e==="hex"?F0.toHex32(this.h.slice(0,12),"big"):F0.split32(this.h.slice(0,12),"big")},Ca.sha1=W_,Ca.sha224=nE,Ca.sha256=O2,Ca.sha384=ME,Ca.sha512=$2;var U2={},Po=Re,SE=xa,Du=Po.rotl32,L2=Po.sum32,Jc=Po.sum32_3,F2=Po.sum32_4,k2=SE.BlockHash;function Yn(){if(!(this instanceof Yn))return new Yn;k2.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Po.inherits(Yn,k2),U2.ripemd160=Yn,Yn.blockSize=512,Yn.outSize=160,Yn.hmacStrength=192,Yn.padLength=64,Yn.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],s=this.h[3],h=this.h[4],d=r,g=i,p=n,_=s,S=h,D=0;D<80;D++){var O=L2(Du(F2(r,j2(D,i,n,s),e[CE[D]+t],IE(D)),OE[D]),h);r=h,h=s,s=Du(n,10),n=i,i=O,O=L2(Du(F2(d,j2(79-D,g,p,_),e[DE[D]+t],xE(D)),NE[D]),S),d=S,S=_,_=Du(p,10),p=g,g=O}O=Jc(this.h[1],n,_),this.h[1]=Jc(this.h[2],s,S),this.h[2]=Jc(this.h[3],h,d),this.h[3]=Jc(this.h[4],r,g),this.h[4]=Jc(this.h[0],i,p),this.h[0]=O},Yn.prototype._digest=function(e){return e==="hex"?Po.toHex32(this.h,"little"):Po.split32(this.h,"little")};function j2(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function IE(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function xE(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var CE=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],DE=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],OE=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],NE=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],PE=Re,RE=Qc;function Pa(e,t,r){if(!(this instanceof Pa))return new Pa(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(PE.toArray(t,r))}var TE=Pa;Pa.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),RE(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},Pa.prototype.update=function(e,t){return this.inner.update(e,t),this},Pa.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=Re,t.common=xa,t.sha=Ca,t.ripemd=U2,t.hmac=TE,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(zn);function Ra(e,t,r){return r={path:t,exports:{},require:function(i,n){return $E(i,n??r.path)}},e(r,r.exports),r.exports}function $E(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var k0=q2;function q2(e,t){if(!e)throw new Error(t||"Assertion failed")}q2.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var Cn=Ra(function(e,t){var r=t;function i(h,d){if(Array.isArray(h))return h.slice();if(!h)return[];var g=[];if(typeof h!="string"){for(var p=0;p<h.length;p++)g[p]=h[p]|0;return g}if(d==="hex"){h=h.replace(/[^a-z0-9]+/ig,""),h.length%2!==0&&(h="0"+h);for(var p=0;p<h.length;p+=2)g.push(parseInt(h[p]+h[p+1],16))}else for(var p=0;p<h.length;p++){var _=h.charCodeAt(p),S=_>>8,D=_&255;S?g.push(S,D):g.push(D)}return g}r.toArray=i;function n(h){return h.length===1?"0"+h:h}r.zero2=n;function s(h){for(var d="",g=0;g<h.length;g++)d+=n(h[g].toString(16));return d}r.toHex=s,r.encode=function(h,d){return d==="hex"?s(h):h}}),Wi=Ra(function(e,t){var r=t;r.assert=k0,r.toArray=Cn.toArray,r.zero2=Cn.zero2,r.toHex=Cn.toHex,r.encode=Cn.encode;function i(g,p,_){var S=new Array(Math.max(g.bitLength(),_)+1);S.fill(0);for(var D=1<<p+1,O=g.clone(),N=0;N<S.length;N++){var L,z=O.andln(D-1);O.isOdd()?(z>(D>>1)-1?L=(D>>1)-z:L=z,O.isubn(L)):L=0,S[N]=L,O.iushrn(1)}return S}r.getNAF=i;function n(g,p){var _=[[],[]];g=g.clone(),p=p.clone();for(var S=0,D=0,O;g.cmpn(-S)>0||p.cmpn(-D)>0;){var N=g.andln(3)+S&3,L=p.andln(3)+D&3;N===3&&(N=-1),L===3&&(L=-1);var z;N&1?(O=g.andln(7)+S&7,(O===3||O===5)&&L===2?z=-N:z=N):z=0,_[0].push(z);var G;L&1?(O=p.andln(7)+D&7,(O===3||O===5)&&N===2?G=-L:G=L):G=0,_[1].push(G),2*S===z+1&&(S=1-S),2*D===G+1&&(D=1-D),g.iushrn(1),p.iushrn(1)}return _}r.getJSF=n;function s(g,p,_){var S="_"+p;g.prototype[p]=function(){return this[S]!==void 0?this[S]:this[S]=_.call(this)}}r.cachedProperty=s;function h(g){return typeof g=="string"?r.toArray(g,"hex"):g}r.parseBytes=h;function d(g){return new ye(g,"hex","le")}r.intFromLE=d}),Ou=Wi.getNAF,BE=Wi.getJSF,Nu=Wi.assert;function Js(e,t){this.type=e,this.p=new ye(t.p,16),this.red=t.prime?ye.red(t.prime):ye.mont(this.p),this.zero=new ye(0).toRed(this.red),this.one=new ye(1).toRed(this.red),this.two=new ye(2).toRed(this.red),this.n=t.n&&new ye(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Ro=Js;Js.prototype.point=function(){throw new Error("Not implemented")},Js.prototype.validate=function(){throw new Error("Not implemented")},Js.prototype._fixedNafMul=function(e,t){Nu(e.precomputed);var r=e._getDoubles(),i=Ou(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var s=[],h,d;for(h=0;h<i.length;h+=r.step){d=0;for(var g=h+r.step-1;g>=h;g--)d=(d<<1)+i[g];s.push(d)}for(var p=this.jpoint(null,null,null),_=this.jpoint(null,null,null),S=n;S>0;S--){for(h=0;h<s.length;h++)d=s[h],d===S?_=_.mixedAdd(r.points[h]):d===-S&&(_=_.mixedAdd(r.points[h].neg()));p=p.add(_)}return p.toP()},Js.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,s=Ou(t,r,this._bitLength),h=this.jpoint(null,null,null),d=s.length-1;d>=0;d--){for(var g=0;d>=0&&s[d]===0;d--)g++;if(d>=0&&g++,h=h.dblp(g),d<0)break;var p=s[d];Nu(p!==0),e.type==="affine"?p>0?h=h.mixedAdd(n[p-1>>1]):h=h.mixedAdd(n[-p-1>>1].neg()):p>0?h=h.add(n[p-1>>1]):h=h.add(n[-p-1>>1].neg())}return e.type==="affine"?h.toP():h},Js.prototype._wnafMulAdd=function(e,t,r,i,n){var s=this._wnafT1,h=this._wnafT2,d=this._wnafT3,g=0,p,_,S;for(p=0;p<i;p++){S=t[p];var D=S._getNAFPoints(e);s[p]=D.wnd,h[p]=D.points}for(p=i-1;p>=1;p-=2){var O=p-1,N=p;if(s[O]!==1||s[N]!==1){d[O]=Ou(r[O],s[O],this._bitLength),d[N]=Ou(r[N],s[N],this._bitLength),g=Math.max(d[O].length,g),g=Math.max(d[N].length,g);continue}var L=[t[O],null,null,t[N]];t[O].y.cmp(t[N].y)===0?(L[1]=t[O].add(t[N]),L[2]=t[O].toJ().mixedAdd(t[N].neg())):t[O].y.cmp(t[N].y.redNeg())===0?(L[1]=t[O].toJ().mixedAdd(t[N]),L[2]=t[O].add(t[N].neg())):(L[1]=t[O].toJ().mixedAdd(t[N]),L[2]=t[O].toJ().mixedAdd(t[N].neg()));var z=[-3,-1,-5,-7,0,7,5,1,3],G=BE(r[O],r[N]);for(g=Math.max(G[0].length,g),d[O]=new Array(g),d[N]=new Array(g),_=0;_<g;_++){var q=G[0][_]|0,W=G[1][_]|0;d[O][_]=z[(q+1)*3+(W+1)],d[N][_]=0,h[O]=L}}var B=this.jpoint(null,null,null),k=this._wnafT4;for(p=g;p>=0;p--){for(var j=0;p>=0;){var I=!0;for(_=0;_<i;_++)k[_]=d[_][p]|0,k[_]!==0&&(I=!1);if(!I)break;j++,p--}if(p>=0&&j++,B=B.dblp(j),p<0)break;for(_=0;_<i;_++){var U=k[_];U!==0&&(U>0?S=h[_][U-1>>1]:U<0&&(S=h[_][-U-1>>1].neg()),S.type==="affine"?B=B.mixedAdd(S):B=B.add(S))}}for(p=0;p<i;p++)h[p]=null;return n?B:B.toP()};function nn(e,t){this.curve=e,this.type=t,this.precomputed=null}Js.BasePoint=nn,nn.prototype.eq=function(){throw new Error("Not implemented")},nn.prototype.validate=function(){return this.curve.validate(this)},Js.prototype.decodePoint=function(e,t){e=Wi.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?Nu(e[e.length-1]%2===0):e[0]===7&&Nu(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},nn.prototype.encodeCompressed=function(e){return this.encode(e,!0)},nn.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},nn.prototype.encode=function(e,t){return Wi.encode(this._encode(t),e)},nn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},nn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},nn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var s=0;s<e;s++)i=i.dbl();r.push(i)}return{step:e,points:r}},nn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},nn.prototype._getBeta=function(){return null},nn.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var j0=Ra(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),UE=Wi.assert;function sn(e){Ro.call(this,"short",e),this.a=new ye(e.a,16).toRed(this.red),this.b=new ye(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}j0(sn,Ro);var LE=sn;sn.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new ye(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new ye(e.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))===0?r=n[0]:(r=n[1],UE(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var s;return e.basis?s=e.basis.map(function(h){return{a:new ye(h.a,16),b:new ye(h.b,16)}}):s=this._getEndoBasis(r),{beta:t,lambda:r,basis:s}}},sn.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:ye.mont(e),r=new ye(2).toRed(t).redInvm(),i=r.redNeg(),n=new ye(3).toRed(t).redNeg().redSqrt().redMul(r),s=i.redAdd(n).fromRed(),h=i.redSub(n).fromRed();return[s,h]},sn.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),n=new ye(1),s=new ye(0),h=new ye(0),d=new ye(1),g,p,_,S,D,O,N,L=0,z,G;r.cmpn(0)!==0;){var q=i.div(r);z=i.sub(q.mul(r)),G=h.sub(q.mul(n));var W=d.sub(q.mul(s));if(!_&&z.cmp(t)<0)g=N.neg(),p=n,_=z.neg(),S=G;else if(_&&++L===2)break;N=z,i=r,r=z,h=n,n=G,d=s,s=W}D=z.neg(),O=G;var B=_.sqr().add(S.sqr()),k=D.sqr().add(O.sqr());return k.cmp(B)>=0&&(D=g,O=p),_.negative&&(_=_.neg(),S=S.neg()),D.negative&&(D=D.neg(),O=O.neg()),[{a:_,b:S},{a:D,b:O}]},sn.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),h=n.mul(r.a),d=s.mul(i.a),g=n.mul(r.b),p=s.mul(i.b),_=e.sub(h).sub(d),S=g.add(p).neg();return{k1:_,k2:S}},sn.prototype.pointFromX=function(e,t){e=new ye(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},sn.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(n).cmpn(0)===0},sn.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<e.length;s++){var h=this._endoSplit(t[s]),d=e[s],g=d._getBeta();h.k1.negative&&(h.k1.ineg(),d=d.neg(!0)),h.k2.negative&&(h.k2.ineg(),g=g.neg(!0)),i[s*2]=d,i[s*2+1]=g,n[s*2]=h.k1,n[s*2+1]=h.k2}for(var p=this._wnafMulAdd(1,i,n,s*2,r),_=0;_<s*2;_++)i[_]=null,n[_]=null;return p};function Br(e,t,r,i){Ro.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ye(t,16),this.y=new ye(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}j0(Br,Ro.BasePoint),sn.prototype.point=function(e,t,r){return new Br(this,e,t,r)},sn.prototype.pointFromJSON=function(e,t){return Br.fromJSON(this,e,t)},Br.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(n){return r.point(n.x.redMul(r.endo.beta),n.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},Br.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Br.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(h){return e.point(h[0],h[1],r)}var s=t[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(n))}},i},Br.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Br.prototype.isInfinity=function(){return this.inf},Br.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},Br.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),h=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,h)},Br.prototype.getX=function(){return this.x.fromRed()},Br.prototype.getY=function(){return this.y.fromRed()},Br.prototype.mul=function(e){return e=new ye(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Br.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},Br.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},Br.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},Br.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(n){return n.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},Br.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Gr(e,t,r,i){Ro.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ye(0)):(this.x=new ye(t,16),this.y=new ye(r,16),this.z=new ye(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}j0(Gr,Ro.BasePoint),sn.prototype.jpoint=function(e,t,r){return new Gr(this,e,t,r)},Gr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},Gr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Gr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),h=e.y.redMul(r.redMul(this.z)),d=i.redSub(n),g=s.redSub(h);if(d.cmpn(0)===0)return g.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=d.redSqr(),_=p.redMul(d),S=i.redMul(p),D=g.redSqr().redIAdd(_).redISub(S).redISub(S),O=g.redMul(S.redISub(D)).redISub(s.redMul(_)),N=this.z.redMul(e.z).redMul(d);return this.curve.jpoint(D,O,N)},Gr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,s=e.y.redMul(t).redMul(this.z),h=r.redSub(i),d=n.redSub(s);if(h.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=h.redSqr(),p=g.redMul(h),_=r.redMul(g),S=d.redSqr().redIAdd(p).redISub(_).redISub(_),D=d.redMul(_.redISub(S)).redISub(n.redMul(p)),O=this.z.redMul(h);return this.curve.jpoint(S,D,O)},Gr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,s=this.x,h=this.y,d=this.z,g=d.redSqr().redSqr(),p=h.redAdd(h);for(t=0;t<e;t++){var _=s.redSqr(),S=p.redSqr(),D=S.redSqr(),O=_.redAdd(_).redIAdd(_).redIAdd(i.redMul(g)),N=s.redMul(S),L=O.redSqr().redISub(N.redAdd(N)),z=N.redISub(L),G=O.redMul(z);G=G.redIAdd(G).redISub(D);var q=p.redMul(d);t+1<e&&(g=g.redMul(D)),s=L,d=q,p=G}return this.curve.jpoint(s,p.redMul(n),d)},Gr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Gr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),h=this.x.redAdd(n).redSqr().redISub(i).redISub(s);h=h.redIAdd(h);var d=i.redAdd(i).redIAdd(i),g=d.redSqr().redISub(h).redISub(h),p=s.redIAdd(s);p=p.redIAdd(p),p=p.redIAdd(p),e=g,t=d.redMul(h.redISub(g)).redISub(p),r=this.y.redAdd(this.y)}else{var _=this.x.redSqr(),S=this.y.redSqr(),D=S.redSqr(),O=this.x.redAdd(S).redSqr().redISub(_).redISub(D);O=O.redIAdd(O);var N=_.redAdd(_).redIAdd(_),L=N.redSqr(),z=D.redIAdd(D);z=z.redIAdd(z),z=z.redIAdd(z),e=L.redISub(O).redISub(O),t=N.redMul(O.redISub(e)).redISub(z),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},Gr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),h=this.x.redAdd(n).redSqr().redISub(i).redISub(s);h=h.redIAdd(h);var d=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),g=d.redSqr().redISub(h).redISub(h);e=g;var p=s.redIAdd(s);p=p.redIAdd(p),p=p.redIAdd(p),t=d.redMul(h.redISub(g)).redISub(p),r=this.y.redAdd(this.y)}else{var _=this.z.redSqr(),S=this.y.redSqr(),D=this.x.redMul(S),O=this.x.redSub(_).redMul(this.x.redAdd(_));O=O.redAdd(O).redIAdd(O);var N=D.redIAdd(D);N=N.redIAdd(N);var L=N.redAdd(N);e=O.redSqr().redISub(L),r=this.y.redAdd(this.z).redSqr().redISub(S).redISub(_);var z=S.redSqr();z=z.redIAdd(z),z=z.redIAdd(z),z=z.redIAdd(z),t=O.redMul(N.redISub(e)).redISub(z)}return this.curve.jpoint(e,t,r)},Gr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=t.redSqr(),h=r.redSqr(),d=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(n)),g=t.redAdd(t);g=g.redIAdd(g);var p=g.redMul(h),_=d.redSqr().redISub(p.redAdd(p)),S=p.redISub(_),D=h.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D);var O=d.redMul(S).redISub(D),N=r.redAdd(r).redMul(i);return this.curve.jpoint(_,O,N)},Gr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),s=n.redSqr(),h=this.x.redAdd(t).redSqr().redISub(e).redISub(i);h=h.redIAdd(h),h=h.redAdd(h).redIAdd(h),h=h.redISub(s);var d=h.redSqr(),g=i.redIAdd(i);g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var p=n.redIAdd(h).redSqr().redISub(s).redISub(d).redISub(g),_=t.redMul(p);_=_.redIAdd(_),_=_.redIAdd(_);var S=this.x.redMul(d).redISub(_);S=S.redIAdd(S),S=S.redIAdd(S);var D=this.y.redMul(p.redMul(g.redISub(p)).redISub(h.redMul(d)));D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D);var O=this.z.redAdd(h).redSqr().redISub(r).redISub(d);return this.curve.jpoint(S,D,O)},Gr.prototype.mul=function(e,t){return e=new ye(e,t),this.curve._wnafMul(this,e)},Gr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)===0},Gr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}},Gr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Gr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Pu=Ra(function(e,t){var r=t;r.base=Ro,r.short=LE,r.mont=null,r.edwards=null}),Ru=Ra(function(e,t){var r=t,i=Wi.assert;function n(d){d.type==="short"?this.curve=new Pu.short(d):d.type==="edwards"?this.curve=new Pu.edwards(d):this.curve=new Pu.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=n;function s(d,g){Object.defineProperty(r,d,{configurable:!0,enumerable:!0,get:function(){var p=new n(g);return Object.defineProperty(r,d,{configurable:!0,enumerable:!0,value:p}),p}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:zn.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:zn.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:zn.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:zn.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:zn.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:zn.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:zn.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var h;try{h=null.crash()}catch{h=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:zn.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",h]})});function Zs(e){if(!(this instanceof Zs))return new Zs(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Cn.toArray(e.entropy,e.entropyEnc||"hex"),r=Cn.toArray(e.nonce,e.nonceEnc||"hex"),i=Cn.toArray(e.pers,e.persEnc||"hex");k0(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var z2=Zs;Zs.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},Zs.prototype._hmac=function(){return new zn.hmac(this.hash,this.K)},Zs.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},Zs.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=Cn.toArray(e,t),r=Cn.toArray(r,i),k0(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},Zs.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=Cn.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var s=n.slice(0,e);return this._update(r),this._reseed++,Cn.encode(s,t)};var q0=Wi.assert;function ei(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var z0=ei;ei.fromPublic=function(e,t,r){return t instanceof ei?t:new ei(e,{pub:t,pubEnc:r})},ei.fromPrivate=function(e,t,r){return t instanceof ei?t:new ei(e,{priv:t,privEnc:r})},ei.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},ei.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},ei.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},ei.prototype._importPrivate=function(e,t){this.priv=new ye(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},ei.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?q0(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&q0(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},ei.prototype.derive=function(e){return e.validate()||q0(e.validate(),"public point not validated"),e.mul(this.priv).getX()},ei.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},ei.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},ei.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var FE=Wi.assert;function Tu(e,t){if(e instanceof Tu)return e;this._importDER(e,t)||(FE(e.r&&e.s,"Signature without r or s"),this.r=new ye(e.r,16),this.s=new ye(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var $u=Tu;function kE(){this.place=0}function H0(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,s=0,h=t.place;s<i;s++,h++)n<<=8,n|=e[h],n>>>=0;return n<=127?!1:(t.place=h,n)}function H2(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}Tu.prototype._importDER=function(e,t){e=Wi.toArray(e,t);var r=new kE;if(e[r.place++]!==48)return!1;var i=H0(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var n=H0(e,r);if(n===!1)return!1;var s=e.slice(r.place,n+r.place);if(r.place+=n,e[r.place++]!==2)return!1;var h=H0(e,r);if(h===!1||e.length!==h+r.place)return!1;var d=e.slice(r.place,h+r.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(d[0]===0)if(d[1]&128)d=d.slice(1);else return!1;return this.r=new ye(s),this.s=new ye(d),this.recoveryParam=null,!0};function K0(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}Tu.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=H2(t),r=H2(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];K0(i,t.length),i=i.concat(t),i.push(2),K0(i,r.length);var n=i.concat(r),s=[48];return K0(s,n.length),s=s.concat(n),Wi.encode(s,e)};var jE=function(){throw new Error("unsupported")},K2=Wi.assert;function on(e){if(!(this instanceof on))return new on(e);typeof e=="string"&&(K2(Object.prototype.hasOwnProperty.call(Ru,e),"Unknown curve "+e),e=Ru[e]),e instanceof Ru.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var qE=on;on.prototype.keyPair=function(e){return new z0(this,e)},on.prototype.keyFromPrivate=function(e,t){return z0.fromPrivate(this,e,t)},on.prototype.keyFromPublic=function(e,t){return z0.fromPublic(this,e,t)},on.prototype.genKeyPair=function(e){e||(e={});for(var t=new z2({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||jE(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new ye(2));;){var n=new ye(t.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},on.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},on.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new ye(e,16));for(var n=this.n.byteLength(),s=t.getPrivate().toArray("be",n),h=e.toArray("be",n),d=new z2({hash:this.hash,entropy:s,nonce:h,pers:i.pers,persEnc:i.persEnc||"utf8"}),g=this.n.sub(new ye(1)),p=0;;p++){var _=i.k?i.k(p):new ye(d.generate(this.n.byteLength()));if(_=this._truncateToN(_,!0),!(_.cmpn(1)<=0||_.cmp(g)>=0)){var S=this.g.mul(_);if(!S.isInfinity()){var D=S.getX(),O=D.umod(this.n);if(O.cmpn(0)!==0){var N=_.invm(this.n).mul(O.mul(t.getPrivate()).iadd(e));if(N=N.umod(this.n),N.cmpn(0)!==0){var L=(S.getY().isOdd()?1:0)|(D.cmp(O)!==0?2:0);return i.canonical&&N.cmp(this.nh)>0&&(N=this.n.sub(N),L^=1),new $u({r:O,s:N,recoveryParam:L})}}}}}},on.prototype.verify=function(e,t,r,i){e=this._truncateToN(new ye(e,16)),r=this.keyFromPublic(r,i),t=new $u(t,"hex");var n=t.r,s=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var h=s.invm(this.n),d=h.mul(e).umod(this.n),g=h.mul(n).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(d,r.getPublic(),g),p.isInfinity()?!1:p.eqXToP(n)):(p=this.g.mulAdd(d,r.getPublic(),g),p.isInfinity()?!1:p.getX().umod(this.n).cmp(n)===0)},on.prototype.recoverPubKey=function(e,t,r,i){K2((3&r)===r,"The recovery param is more than two bits"),t=new $u(t,i);var n=this.n,s=new ye(e),h=t.r,d=t.s,g=r&1,p=r>>1;if(h.cmp(this.curve.p.umod(this.curve.n))>=0&&p)throw new Error("Unable to find sencond key candinate");p?h=this.curve.pointFromX(h.add(this.curve.n),g):h=this.curve.pointFromX(h,g);var _=t.r.invm(n),S=n.sub(s).mul(_).umod(n),D=d.mul(_).umod(n);return this.g.mulAdd(S,h,D)},on.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new $u(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(e,t,n)}catch{continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var zE=Ra(function(e,t){var r=t;r.version="6.5.4",r.utils=Wi,r.rand=function(){throw new Error("unsupported")},r.curve=Pu,r.curves=Ru,r.ec=qE,r.eddsa=null}),HE=zE.ec;const KE="signing-key/5.7.0",W0=new be(KE);let V0=null;function Jn(){return V0||(V0=new HE("secp256k1")),V0}class WE{constructor(t){Gc(this,"curve","secp256k1"),Gc(this,"privateKey",hi(t)),C7(this.privateKey)!==32&&W0.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Jn().keyFromPrivate(br(this.privateKey));Gc(this,"publicKey","0x"+r.getPublic(!1,"hex")),Gc(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Gc(this,"_isSigningKey",!0)}_addPoint(t){const r=Jn().keyFromPublic(br(this.publicKey)),i=Jn().keyFromPublic(br(t));return"0x"+r.pub.add(i.pub).encodeCompressed("hex")}signDigest(t){const r=Jn().keyFromPrivate(br(this.privateKey)),i=br(t);i.length!==32&&W0.throwArgumentError("bad digest length","digest",t);const n=r.sign(i,{canonical:!0});return Xm({recoveryParam:n.recoveryParam,r:qn("0x"+n.r.toString(16),32),s:qn("0x"+n.s.toString(16),32)})}computeSharedSecret(t){const r=Jn().keyFromPrivate(br(this.privateKey)),i=Jn().keyFromPublic(br(W2(t)));return qn("0x"+r.derive(i.getPublic()).toString(16),32)}static isSigningKey(t){return!!(t&&t._isSigningKey)}}function VE(e,t){const r=Xm(t),i={r:br(r.r),s:br(r.s)};return"0x"+Jn().recoverPubKey(br(e),i,r.recoveryParam).encode("hex",!1)}function W2(e,t){const r=br(e);if(r.length===32){const i=new WE(r);return t?"0x"+Jn().keyFromPrivate(r).getPublic(!0,"hex"):i.publicKey}else{if(r.length===33)return t?hi(r):"0x"+Jn().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return t?"0x"+Jn().keyFromPublic(r).getPublic(!0,"hex"):hi(r)}return W0.throwArgumentError("invalid public or private key","key","[REDACTED]")}const GE="transactions/5.7.0";new be(GE);var V2;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(V2||(V2={}));function QE(e){const t=W2(e);return s_(Zm(x0(Zm(t,1)),12))}function YE(e,t){return QE(VE(br(e),t))}const JE="https://rpc.walletconnect.com/v1";async function ZE(e,t,r,i,n,s){switch(r.t){case"eip191":return XE(e,t,r.s);case"eip1271":return await t9(e,t,r.s,i,n,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function XE(e,t,r){return YE(m2(t),r).toLowerCase()===e.toLowerCase()}async function t9(e,t,r,i,n,s){try{const h="0x1626ba7e",d="0000000000000000000000000000000000000000000000000000000000000040",g="0000000000000000000000000000000000000000000000000000000000000041",p=r.substring(2),_=m2(t).substring(2),S=h+_+d+g+p,D=await fetch(`${s||JE}/?chainId=${i}&projectId=${n}`,{method:"POST",body:JSON.stringify({id:e9(),jsonrpc:"2.0",method:"eth_call",params:[{to:e,data:S},"latest"]})}),{result:O}=await D.json();return O?O.slice(0,h.length).toLowerCase()===h.toLowerCase():!1}catch(h){return console.error("isValidEip1271Signature: ",h),!1}}function e9(){return Date.now()+Math.floor(Math.random()*1e3)}var r9=Object.defineProperty,i9=Object.defineProperties,n9=Object.getOwnPropertyDescriptors,G2=Object.getOwnPropertySymbols,s9=Object.prototype.hasOwnProperty,o9=Object.prototype.propertyIsEnumerable,Q2=(e,t,r)=>t in e?r9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,a9=(e,t)=>{for(var r in t||(t={}))s9.call(t,r)&&Q2(e,r,t[r]);if(G2)for(var r of G2(t))o9.call(t,r)&&Q2(e,r,t[r]);return e},c9=(e,t)=>i9(e,n9(t));const h9="did:pkh:",G0=e=>e?.split(":"),Y2=e=>{const t=e&&G0(e);if(t)return e.includes(h9)?t[3]:t[1]},J2=e=>{const t=e&&G0(e);if(t)return t[2]+":"+t[3]},Bu=e=>{const t=e&&G0(e);if(t)return t.pop()};async function Z2(e){const{cacao:t,projectId:r}=e,{s:i,p:n}=t,s=X2(n,n.iss),h=Bu(n.iss);return await ZE(h,s,i,Y2(n.iss),r)}const X2=(e,t)=>{const r=`${e.domain} wants you to sign in with your Ethereum account:`,i=Bu(t);if(!e.aud&&!e.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let n=e.statement||void 0;const s=`URI: ${e.aud||e.uri}`,h=`Version: ${e.version}`,d=`Chain ID: ${Y2(t)}`,g=`Nonce: ${e.nonce}`,p=`Issued At: ${e.iat}`,_=e.exp?`Expiration Time: ${e.exp}`:void 0,S=e.nbf?`Not Before: ${e.nbf}`:void 0,D=e.requestId?`Request ID: ${e.requestId}`:void 0,O=e.resources?`Resources:${e.resources.map(L=>`
- ${L}`).join("")}`:void 0,N=Uu(e.resources);if(N){const L=Zc(N);n=w9(n,L)}return[r,i,"",n,"",s,h,d,g,p,_,S,D,O].filter(L=>L!=null).join(`
`)};function u9(e){return Buffer.from(JSON.stringify(e)).toString("base64")}function l9(e){return JSON.parse(Buffer.from(e,"base64").toString("utf-8"))}function To(e){if(!e)throw new Error("No recap provided, value is undefined");if(!e.att)throw new Error("No `att` property found");const t=Object.keys(e.att);if(!(t!=null&&t.length))throw new Error("No resources found in `att` property");t.forEach(r=>{const i=e.att[r];if(Array.isArray(i))throw new Error(`Resource must be an object: ${r}`);if(typeof i!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(i).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(i).forEach(n=>{const s=i[n];if(!Array.isArray(s))throw new Error(`Ability limits ${n} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${n} is empty array, must be an array with objects`);s.forEach(h=>{if(typeof h!="object")throw new Error(`Ability limits (${n}) must be an array of objects, found: ${h}`)})})})}function f9(e,t,r,i={}){return r?.sort((n,s)=>n.localeCompare(s)),{att:{[e]:d9(t,r,i)}}}function d9(e,t,r={}){t=t?.sort((n,s)=>n.localeCompare(s));const i=t.map(n=>({[`${e}/${n}`]:[r]}));return Object.assign({},...i)}function tv(e){return To(e),`urn:recap:${u9(e).replace(/=/g,"")}`}function Zc(e){const t=l9(e.replace("urn:recap:",""));return To(t),t}function p9(e,t,r){const i=f9(e,t,r);return tv(i)}function g9(e){return e&&e.includes("urn:recap:")}function m9(e,t){const r=Zc(e),i=Zc(t),n=v9(r,i);return tv(n)}function v9(e,t){To(e),To(t);const r=Object.keys(e.att).concat(Object.keys(t.att)).sort((n,s)=>n.localeCompare(s)),i={att:{}};return r.forEach(n=>{var s,h;Object.keys(((s=e.att)==null?void 0:s[n])||{}).concat(Object.keys(((h=t.att)==null?void 0:h[n])||{})).sort((d,g)=>d.localeCompare(g)).forEach(d=>{var g,p;i.att[n]=c9(a9({},i.att[n]),{[d]:((g=e.att[n])==null?void 0:g[d])||((p=t.att[n])==null?void 0:p[d])})})}),i}function w9(e="",t){To(t);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(e.includes(r))return e;const i=[];let n=0;Object.keys(t.att).forEach(d=>{const g=Object.keys(t.att[d]).map(S=>({ability:S.split("/")[0],action:S.split("/")[1]}));g.sort((S,D)=>S.action.localeCompare(D.action));const p={};g.forEach(S=>{p[S.ability]||(p[S.ability]=[]),p[S.ability].push(S.action)});const _=Object.keys(p).map(S=>(n++,`(${n}) '${S}': '${p[S].join("', '")}' for '${d}'.`));i.push(_.join(", ").replace(".,","."))});const s=i.join(" "),h=`${r}${s}`;return`${e?e+" ":""}${h}`}function ev(e){var t;const r=Zc(e);To(r);const i=(t=r.att)==null?void 0:t.eip155;return i?Object.keys(i).map(n=>n.split("/")[1]):[]}function rv(e){const t=Zc(e);To(t);const r=[];return Object.values(t.att).forEach(i=>{Object.values(i).forEach(n=>{var s;(s=n?.[0])!=null&&s.chains&&r.push(n[0].chains)})}),[...new Set(r.flat())]}function Uu(e){if(!e)return;const t=e?.[e.length-1];return g9(t)?t:void 0}const Q0="base16",y9="utf8",Y0=1;function J0(e){const t=ya.hash(zi(e,Q0));return Ii(t,Q0)}function Lu(e){const t=ya.hash(zi(e,y9));return Ii(t,Q0)}function Ta(e){const t=[];return e.forEach(r=>{const[i,n]=r.split(":");t.push(`${i}:${n}`)}),t}function b9(e){const t=[];return Object.values(e).forEach(r=>{t.push(...Ta(r.accounts))}),t}function A9(e,t){const r=[];return Object.values(e).forEach(i=>{Ta(i.accounts).includes(t)&&r.push(...i.methods)}),r}function _9(e,t){const r=[];return Object.values(e).forEach(i=>{Ta(i.accounts).includes(t)&&r.push(...i.events)}),r}function Z0(e){return e.includes(":")}function Xc(e){return Z0(e)?e.split(":")[0]:e}function E9(e){const t={};return e?.forEach(r=>{const[i,n]=r.split(":");t[i]||(t[i]={accounts:[],chains:[],events:[]}),t[i].accounts.push(r),t[i].chains.push(`${i}:${n}`)}),t}function iv(e,t){t=t.map(i=>i.replace("did:pkh:",""));const r=E9(t);for(const[i,n]of Object.entries(r))n.methods?n.methods=_u(n.methods,e):n.methods=e,n.events=["chainChanged","accountsChanged"];return r}const M9={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},S9={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ae(e,t){const{message:r,code:i}=S9[e];return{message:t?`${r} ${t}`:r,code:i}}function gr(e,t){const{message:r,code:i}=M9[e];return{message:t?`${r} ${t}`:r,code:i}}function Is(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function th(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function an(e){return typeof e>"u"}function Nr(e,t){return t&&an(e)?!0:typeof e=="string"&&!!e.trim().length}function X0(e,t){return t&&an(e)?!0:typeof e=="number"&&!isNaN(e)}function I9(e,t){const{requiredNamespaces:r}=t,i=Object.keys(e.namespaces),n=Object.keys(r);let s=!0;return No(n,i)?(i.forEach(h=>{const{accounts:d,methods:g,events:p}=e.namespaces[h],_=Ta(d),S=r[h];(!No(qm(h,S),_)||!No(S.methods,g)||!No(S.events,p))&&(s=!1)}),s):!1}function Fu(e){return Nr(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function x9(e){if(Nr(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const r=t[0]+":"+t[1];return!!t[2]&&Fu(r)}}return!1}function C9(e,t){let r=null;return Nr(e?.publicKey,!1)||(r=ae("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function nv(e){let t=!0;return Is(e)?e.length&&(t=e.every(r=>Nr(r,!1))):t=!1,t}function D9(e,t,r){let i=null;return Is(t)&&t.length?t.forEach(n=>{i||Fu(n)||(i=gr("UNSUPPORTED_CHAINS",`${r}, chain ${n} should be a string and conform to "namespace:chainId" format`))}):Fu(e)||(i=gr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),i}function O9(e,t,r){let i=null;return Object.entries(e).forEach(([n,s])=>{if(i)return;const h=D9(n,qm(n,s),`${t} ${r}`);h&&(i=h)}),i}function N9(e,t){let r=null;return Is(e)?e.forEach(i=>{r||x9(i)||(r=gr("UNSUPPORTED_ACCOUNTS",`${t}, account ${i} should be a string and conform to "namespace:chainId:address" format`))}):r=gr("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function P9(e,t){let r=null;return Object.values(e).forEach(i=>{if(r)return;const n=N9(i?.accounts,`${t} namespace`);n&&(r=n)}),r}function R9(e,t){let r=null;return nv(e?.methods)?nv(e?.events)||(r=gr("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=gr("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function sv(e,t){let r=null;return Object.values(e).forEach(i=>{if(r)return;const n=R9(i,`${t}, namespace`);n&&(r=n)}),r}function T9(e,t,r){let i=null;if(e&&th(e)){const n=sv(e,t);n&&(i=n);const s=O9(e,t,r);s&&(i=s)}else i=ae("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return i}function td(e,t){let r=null;if(e&&th(e)){const i=sv(e,t);i&&(r=i);const n=P9(e,t);n&&(r=n)}else r=ae("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function ov(e){return Nr(e.protocol,!0)}function $9(e,t){let r=!1;return t&&!e?r=!0:e&&Is(e)&&e.length&&e.forEach(i=>{r=ov(i)}),r}function B9(e){return typeof e=="number"}function Dn(e){return typeof e<"u"&&typeof e!==null}function U9(e){return!(!e||typeof e!="object"||!e.code||!X0(e.code,!1)||!e.message||!Nr(e.message,!1))}function L9(e){return!(an(e)||!Nr(e.method,!1))}function F9(e){return!(an(e)||an(e.result)&&an(e.error)||!X0(e.id,!1)||!Nr(e.jsonrpc,!1))}function k9(e){return!(an(e)||!Nr(e.name,!1))}function av(e,t){return!(!Fu(t)||!b9(e).includes(t))}function j9(e,t,r){return Nr(r,!1)?A9(e,t).includes(r):!1}function q9(e,t,r){return Nr(r,!1)?_9(e,t).includes(r):!1}function cv(e,t,r){let i=null;const n=z9(e),s=H9(t),h=Object.keys(n),d=Object.keys(s),g=hv(Object.keys(e)),p=hv(Object.keys(t)),_=g.filter(S=>!p.includes(S));return _.length&&(i=ae("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${_.toString()}
      Received: ${Object.keys(t).toString()}`)),No(h,d)||(i=ae("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${h.toString()}
      Approved: ${d.toString()}`)),Object.keys(t).forEach(S=>{if(!S.includes(":")||i)return;const D=Ta(t[S].accounts);D.includes(S)||(i=ae("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${S}
        Required: ${S}
        Approved: ${D.toString()}`))}),h.forEach(S=>{i||(No(n[S].methods,s[S].methods)?No(n[S].events,s[S].events)||(i=ae("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${S}`)):i=ae("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${S}`))}),i}function z9(e){const t={};return Object.keys(e).forEach(r=>{var i;r.includes(":")?t[r]=e[r]:(i=e[r].chains)==null||i.forEach(n=>{t[n]={methods:e[r].methods,events:e[r].events}})}),t}function hv(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function H9(e){const t={};return Object.keys(e).forEach(r=>{if(r.includes(":"))t[r]=e[r];else{const i=Ta(e[r].accounts);i?.forEach(n=>{t[n]={accounts:e[r].accounts.filter(s=>s.includes(`${n}:`)),methods:e[r].methods,events:e[r].events}})}}),t}function K9(e,t){return X0(e,!1)&&e<=t.max&&e>=t.min}const ed={};class eh{static get(t){return ed[t]}static set(t,r){ed[t]=r}static delete(t){delete ed[t]}}const W9=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,V9=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,G9=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Q9(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){Y9(e);return}return t}function Y9(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function ku(e,t={}){if(typeof e!="string")return e;const r=e.trim();if(e[0]==='"'&&e.endsWith('"')&&!e.includes("\\"))return r.slice(1,-1);if(r.length<=9){const i=r.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;if(i==="undefined")return;if(i==="null")return null;if(i==="nan")return Number.NaN;if(i==="infinity")return Number.POSITIVE_INFINITY;if(i==="-infinity")return Number.NEGATIVE_INFINITY}if(!G9.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(W9.test(e)||V9.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Q9)}return JSON.parse(e)}catch(i){if(t.strict)throw i;return e}}function J9(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function Ur(e,...t){try{return J9(e(...t))}catch(r){return Promise.reject(r)}}function Z9(e){const t=typeof e;return e===null||t!=="object"&&t!=="function"}function X9(e){const t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function ju(e){if(Z9(e))return String(e);if(X9(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return ju(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function uv(){if(typeof Buffer===void 0)throw new TypeError("[unstorage] Buffer is not supported!")}const rd="base64:";function tM(e){if(typeof e=="string")return e;uv();const t=Buffer.from(e).toString("base64");return rd+t}function eM(e){return typeof e!="string"||!e.startsWith(rd)?e:(uv(),Buffer.from(e.slice(rd.length),"base64"))}function Di(e){return e?e.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function rM(...e){return Di(e.join(":"))}function qu(e){return e=Di(e),e?e+":":""}function UH(e){return e}const iM="memory",nM=()=>{const e=new Map;return{name:iM,options:{},hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return Array.from(e.keys())},clear(){e.clear()},dispose(){e.clear()}}};function sM(e={}){const t={mounts:{"":e.driver||nM()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=p=>{for(const _ of t.mountpoints)if(p.startsWith(_))return{base:_,relativeKey:p.slice(_.length),driver:t.mounts[_]};return{base:"",relativeKey:p,driver:t.mounts[""]}},i=(p,_)=>t.mountpoints.filter(S=>S.startsWith(p)||_&&p.startsWith(S)).map(S=>({relativeBase:p.length>S.length?p.slice(S.length):void 0,mountpoint:S,driver:t.mounts[S]})),n=(p,_)=>{if(t.watching){_=Di(_);for(const S of t.watchListeners)S(p,_)}},s=async()=>{if(!t.watching){t.watching=!0;for(const p in t.mounts)t.unwatch[p]=await lv(t.mounts[p],n,p)}},h=async()=>{if(t.watching){for(const p in t.unwatch)await t.unwatch[p]();t.unwatch={},t.watching=!1}},d=(p,_,S)=>{const D=new Map,O=N=>{let L=D.get(N.base);return L||(L={driver:N.driver,base:N.base,items:[]},D.set(N.base,L)),L};for(const N of p){const L=typeof N=="string",z=Di(L?N:N.key),G=L?void 0:N.value,q=L||!N.options?_:{..._,...N.options},W=r(z);O(W).items.push({key:z,value:G,relativeKey:W.relativeKey,options:q})}return Promise.all([...D.values()].map(N=>S(N))).then(N=>N.flat())},g={hasItem(p,_={}){p=Di(p);const{relativeKey:S,driver:D}=r(p);return Ur(D.hasItem,S,_)},getItem(p,_={}){p=Di(p);const{relativeKey:S,driver:D}=r(p);return Ur(D.getItem,S,_).then(O=>ku(O))},getItems(p,_){return d(p,_,S=>S.driver.getItems?Ur(S.driver.getItems,S.items.map(D=>({key:D.relativeKey,options:D.options})),_).then(D=>D.map(O=>({key:rM(S.base,O.key),value:ku(O.value)}))):Promise.all(S.items.map(D=>Ur(S.driver.getItem,D.relativeKey,D.options).then(O=>({key:D.key,value:ku(O)})))))},getItemRaw(p,_={}){p=Di(p);const{relativeKey:S,driver:D}=r(p);return D.getItemRaw?Ur(D.getItemRaw,S,_):Ur(D.getItem,S,_).then(O=>eM(O))},async setItem(p,_,S={}){if(_===void 0)return g.removeItem(p);p=Di(p);const{relativeKey:D,driver:O}=r(p);O.setItem&&(await Ur(O.setItem,D,ju(_),S),O.watch||n("update",p))},async setItems(p,_){await d(p,_,async S=>{if(S.driver.setItems)return Ur(S.driver.setItems,S.items.map(D=>({key:D.relativeKey,value:ju(D.value),options:D.options})),_);S.driver.setItem&&await Promise.all(S.items.map(D=>Ur(S.driver.setItem,D.relativeKey,ju(D.value),D.options)))})},async setItemRaw(p,_,S={}){if(_===void 0)return g.removeItem(p,S);p=Di(p);const{relativeKey:D,driver:O}=r(p);if(O.setItemRaw)await Ur(O.setItemRaw,D,_,S);else if(O.setItem)await Ur(O.setItem,D,tM(_),S);else return;O.watch||n("update",p)},async removeItem(p,_={}){typeof _=="boolean"&&(_={removeMeta:_}),p=Di(p);const{relativeKey:S,driver:D}=r(p);D.removeItem&&(await Ur(D.removeItem,S,_),(_.removeMeta||_.removeMata)&&await Ur(D.removeItem,S+"$",_),D.watch||n("remove",p))},async getMeta(p,_={}){typeof _=="boolean"&&(_={nativeOnly:_}),p=Di(p);const{relativeKey:S,driver:D}=r(p),O=Object.create(null);if(D.getMeta&&Object.assign(O,await Ur(D.getMeta,S,_)),!_.nativeOnly){const N=await Ur(D.getItem,S+"$",_).then(L=>ku(L));N&&typeof N=="object"&&(typeof N.atime=="string"&&(N.atime=new Date(N.atime)),typeof N.mtime=="string"&&(N.mtime=new Date(N.mtime)),Object.assign(O,N))}return O},setMeta(p,_,S={}){return this.setItem(p+"$",_,S)},removeMeta(p,_={}){return this.removeItem(p+"$",_)},async getKeys(p,_={}){p=qu(p);const S=i(p,!0);let D=[];const O=[];for(const N of S){const z=(await Ur(N.driver.getKeys,N.relativeBase,_)).map(G=>N.mountpoint+Di(G)).filter(G=>!D.some(q=>G.startsWith(q)));O.push(...z),D=[N.mountpoint,...D.filter(G=>!G.startsWith(N.mountpoint))]}return p?O.filter(N=>N.startsWith(p)&&!N.endsWith("$")):O.filter(N=>!N.endsWith("$"))},async clear(p,_={}){p=qu(p),await Promise.all(i(p,!1).map(async S=>{if(S.driver.clear)return Ur(S.driver.clear,S.relativeBase,_);if(S.driver.removeItem){const D=await S.driver.getKeys(S.relativeBase||"",_);return Promise.all(D.map(O=>S.driver.removeItem(O,_)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(p=>fv(p)))},async watch(p){return await s(),t.watchListeners.push(p),async()=>{t.watchListeners=t.watchListeners.filter(_=>_!==p),t.watchListeners.length===0&&await h()}},async unwatch(){t.watchListeners=[],await h()},mount(p,_){if(p=qu(p),p&&t.mounts[p])throw new Error(`already mounted at ${p}`);return p&&(t.mountpoints.push(p),t.mountpoints.sort((S,D)=>D.length-S.length)),t.mounts[p]=_,t.watching&&Promise.resolve(lv(_,n,p)).then(S=>{t.unwatch[p]=S}).catch(console.error),g},async unmount(p,_=!0){p=qu(p),!(!p||!t.mounts[p])&&(t.watching&&p in t.unwatch&&(t.unwatch[p](),delete t.unwatch[p]),_&&await fv(t.mounts[p]),t.mountpoints=t.mountpoints.filter(S=>S!==p),delete t.mounts[p])},getMount(p=""){p=Di(p)+":";const _=r(p);return{driver:_.driver,base:_.base}},getMounts(p="",_={}){return p=Di(p),i(p,_.parents).map(D=>({driver:D.driver,base:D.mountpoint}))}};return g}function lv(e,t,r){return e.watch?e.watch((i,n)=>t(i,r+n)):()=>{}}async function fv(e){typeof e.dispose=="function"&&await Ur(e.dispose)}function $o(e){return new Promise((t,r)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>r(e.error)})}function dv(e,t){const r=indexedDB.open(e);r.onupgradeneeded=()=>r.result.createObjectStore(t);const i=$o(r);return(n,s)=>i.then(h=>s(h.transaction(t,n).objectStore(t)))}let id;function rh(){return id||(id=dv("keyval-store","keyval")),id}function pv(e,t=rh()){return t("readonly",r=>$o(r.get(e)))}function oM(e,t,r=rh()){return r("readwrite",i=>(i.put(t,e),$o(i.transaction)))}function aM(e,t=rh()){return t("readwrite",r=>(r.delete(e),$o(r.transaction)))}function cM(e=rh()){return e("readwrite",t=>(t.clear(),$o(t.transaction)))}function hM(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},$o(e.transaction)}function uM(e=rh()){return e("readonly",t=>{if(t.getAllKeys)return $o(t.getAllKeys());const r=[];return hM(t,i=>r.push(i.key)).then(()=>r)})}const lM=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),fM=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(i,n)=>typeof n=="string"&&n.match(/^\d+n$/)?BigInt(n.substring(0,n.length-1)):n)};function ih(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return fM(e)}catch{return e}}function xs(e){return typeof e=="string"?e:lM(e)||""}const dM="idb-keyval";var pM=(e={})=>{const t=e.base&&e.base.length>0?`${e.base}:`:"",r=n=>t+n;let i;return e.dbName&&e.storeName&&(i=dv(e.dbName,e.storeName)),{name:dM,options:e,async hasItem(n){return!(typeof await pv(r(n),i)>"u")},async getItem(n){return await pv(r(n),i)??null},setItem(n,s){return oM(r(n),s,i)},removeItem(n){return aM(r(n),i)},getKeys(){return uM(i)},clear(){return cM(i)}}};const gM="WALLET_CONNECT_V2_INDEXED_DB",mM="keyvaluestorage";class vM{constructor(){this.indexedDb=sM({driver:pM({dbName:gM,storeName:mM})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){const r=await this.indexedDb.getItem(t);if(r!==null)return r}async setItem(t,r){await this.indexedDb.setItem(t,xs(r))}async removeItem(t){await this.indexedDb.removeItem(t)}}var nd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zu={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,i){this[r]=String(i)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(i){r[i]=void 0,delete r[i]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof nd<"u"&&nd.localStorage?zu.exports=nd.localStorage:typeof window<"u"&&window.localStorage?zu.exports=window.localStorage:zu.exports=new t})();function wM(e){var t;return[e[0],ih((t=e[1])!=null?t:"")]}class yM{constructor(){this.localStorage=zu.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(wM)}async getItem(t){const r=this.localStorage.getItem(t);if(r!==null)return ih(r)}async setItem(t,r){this.localStorage.setItem(t,xs(r))}async removeItem(t){this.localStorage.removeItem(t)}}const bM="wc_storage_version",gv=1,AM=async(e,t,r)=>{const i=bM,n=await t.getItem(i);if(n&&n>=gv){r(t);return}const s=await e.getKeys();if(!s.length){r(t);return}const h=[];for(;s.length;){const d=s.shift();if(!d)continue;const g=d.toLowerCase();if(g.includes("wc@")||g.includes("walletconnect")||g.includes("wc_")||g.includes("wallet_connect")){const p=await e.getItem(d);await t.setItem(d,p),h.push(d)}}await t.setItem(i,gv),r(t),_M(e,h)},_M=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})};class EM{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const t=new yM;this.storage=t;try{const r=new vM;AM(t,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,r){return await this.initialize(),this.storage.setItem(t,r)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)})}}class Bo{}class MM extends Bo{constructor(t){super()}}const mv=Vt.FIVE_SECONDS,nh={pulse:"heartbeat_pulse"};class sd extends MM{constructor(t){super(t),this.events=new Kr.exports.EventEmitter,this.interval=mv,this.interval=t?.interval||mv}static async init(t){const r=new sd(t);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),Vt.toMiliseconds(this.interval))}pulse(){this.events.emit(nh.pulse)}}function SM(e){try{return JSON.stringify(e)}catch{return'"[Circular]"'}}var IM=xM;function xM(e,t,r){var i=r&&r.stringify||SM,n=1;if(typeof e=="object"&&e!==null){var s=t.length+n;if(s===1)return e;var h=new Array(s);h[0]=i(e);for(var d=1;d<s;d++)h[d]=i(t[d]);return h.join(" ")}if(typeof e!="string")return e;var g=t.length;if(g===0)return e;for(var p="",_=1-n,S=-1,D=e&&e.length||0,O=0;O<D;){if(e.charCodeAt(O)===37&&O+1<D){switch(S=S>-1?S:0,e.charCodeAt(O+1)){case 100:case 102:if(_>=g||t[_]==null)break;S<O&&(p+=e.slice(S,O)),p+=Number(t[_]),S=O+2,O++;break;case 105:if(_>=g||t[_]==null)break;S<O&&(p+=e.slice(S,O)),p+=Math.floor(Number(t[_])),S=O+2,O++;break;case 79:case 111:case 106:if(_>=g||t[_]===void 0)break;S<O&&(p+=e.slice(S,O));var N=typeof t[_];if(N==="string"){p+="'"+t[_]+"'",S=O+2,O++;break}if(N==="function"){p+=t[_].name||"<anonymous>",S=O+2,O++;break}p+=i(t[_]),S=O+2,O++;break;case 115:if(_>=g)break;S<O&&(p+=e.slice(S,O)),p+=String(t[_]),S=O+2,O++;break;case 37:S<O&&(p+=e.slice(S,O)),p+="%",S=O+2,O++,_--;break}++_}++O}return S===-1?e:(S<D&&(p+=e.slice(S)),p)}const vv=IM;var Zn=Xn;const sh=UM().console||{},CM={mapHttpRequest:Ku,mapHttpResponse:Ku,wrapRequestSerializer:ad,wrapResponseSerializer:ad,wrapErrorSerializer:ad,req:Ku,res:Ku,err:RM};function DM(e,t){return Array.isArray(e)?e.filter(function(i){return i!=="!stdSerializers.err"}):e===!0?Object.keys(t):!1}function Xn(e){e=e||{},e.browser=e.browser||{};const t=e.browser.transmit;if(t&&typeof t.send!="function")throw Error("pino: transmit option must have a send function");const r=e.browser.write||sh;e.browser.write&&(e.browser.asObject=!0);const i=e.serializers||{},n=DM(e.browser.serialize,i);let s=e.browser.serialize;Array.isArray(e.browser.serialize)&&e.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const h=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),e.enabled===!1&&(e.level="silent");const d=e.level||"info",g=Object.create(r);g.log||(g.log=oh),Object.defineProperty(g,"levelVal",{get:_}),Object.defineProperty(g,"level",{get:S,set:D});const p={transmit:t,serialize:n,asObject:e.browser.asObject,levels:h,timestamp:TM(e)};g.levels=Xn.levels,g.level=d,g.setMaxListeners=g.getMaxListeners=g.emit=g.addListener=g.on=g.prependListener=g.once=g.prependOnceListener=g.removeListener=g.removeAllListeners=g.listeners=g.listenerCount=g.eventNames=g.write=g.flush=oh,g.serializers=i,g._serialize=n,g._stdErrSerialize=s,g.child=O,t&&(g._logEvent=od());function _(){return this.level==="silent"?1/0:this.levels.values[this.level]}function S(){return this._level}function D(N){if(N!=="silent"&&!this.levels.values[N])throw Error("unknown level "+N);this._level=N,$a(p,g,"error","log"),$a(p,g,"fatal","error"),$a(p,g,"warn","error"),$a(p,g,"info","log"),$a(p,g,"debug","log"),$a(p,g,"trace","log")}function O(N,L){if(!N)throw new Error("missing bindings for child Pino");L=L||{},n&&N.serializers&&(L.serializers=N.serializers);const z=L.serializers;if(n&&z){var G=Object.assign({},i,z),q=e.browser.serialize===!0?Object.keys(G):n;delete N.serializers,Hu([N],q,G,this._stdErrSerialize)}function W(B){this._childLevel=(B._childLevel|0)+1,this.error=Ba(B,N,"error"),this.fatal=Ba(B,N,"fatal"),this.warn=Ba(B,N,"warn"),this.info=Ba(B,N,"info"),this.debug=Ba(B,N,"debug"),this.trace=Ba(B,N,"trace"),G&&(this.serializers=G,this._serialize=q),t&&(this._logEvent=od([].concat(B._logEvent.bindings,N)))}return W.prototype=this,new W(this)}return g}Xn.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},Xn.stdSerializers=CM,Xn.stdTimeFunctions=Object.assign({},{nullTime:wv,epochTime:yv,unixTime:$M,isoTime:BM});function $a(e,t,r,i){const n=Object.getPrototypeOf(t);t[r]=t.levelVal>t.levels.values[r]?oh:n[r]?n[r]:sh[r]||sh[i]||oh,OM(e,t,r)}function OM(e,t,r){!e.transmit&&t[r]===oh||(t[r]=function(i){return function(){const s=e.timestamp(),h=new Array(arguments.length),d=Object.getPrototypeOf&&Object.getPrototypeOf(this)===sh?sh:this;for(var g=0;g<h.length;g++)h[g]=arguments[g];if(e.serialize&&!e.asObject&&Hu(h,this._serialize,this.serializers,this._stdErrSerialize),e.asObject?i.call(d,NM(this,r,h,s)):i.apply(d,h),e.transmit){const p=e.transmit.level||t.level,_=Xn.levels.values[p],S=Xn.levels.values[r];if(S<_)return;PM(this,{ts:s,methodLevel:r,methodValue:S,transmitLevel:p,transmitValue:Xn.levels.values[e.transmit.level||t.level],send:e.transmit.send,val:t.levelVal},h)}}}(t[r]))}function NM(e,t,r,i){e._serialize&&Hu(r,e._serialize,e.serializers,e._stdErrSerialize);const n=r.slice();let s=n[0];const h={};i&&(h.time=i),h.level=Xn.levels.values[t];let d=(e._childLevel|0)+1;if(d<1&&(d=1),s!==null&&typeof s=="object"){for(;d--&&typeof n[0]=="object";)Object.assign(h,n.shift());s=n.length?vv(n.shift(),n):void 0}else typeof s=="string"&&(s=vv(n.shift(),n));return s!==void 0&&(h.msg=s),h}function Hu(e,t,r,i){for(const n in e)if(i&&e[n]instanceof Error)e[n]=Xn.stdSerializers.err(e[n]);else if(typeof e[n]=="object"&&!Array.isArray(e[n]))for(const s in e[n])t&&t.indexOf(s)>-1&&s in r&&(e[n][s]=r[s](e[n][s]))}function Ba(e,t,r){return function(){const i=new Array(1+arguments.length);i[0]=t;for(var n=1;n<i.length;n++)i[n]=arguments[n-1];return e[r].apply(this,i)}}function PM(e,t,r){const i=t.send,n=t.ts,s=t.methodLevel,h=t.methodValue,d=t.val,g=e._logEvent.bindings;Hu(r,e._serialize||Object.keys(e.serializers),e.serializers,e._stdErrSerialize===void 0?!0:e._stdErrSerialize),e._logEvent.ts=n,e._logEvent.messages=r.filter(function(p){return g.indexOf(p)===-1}),e._logEvent.level.label=s,e._logEvent.level.value=h,i(s,e._logEvent,d),e._logEvent=od(g)}function od(e){return{ts:0,messages:[],bindings:e||[],level:{label:"",value:0}}}function RM(e){const t={type:e.constructor.name,msg:e.message,stack:e.stack};for(const r in e)t[r]===void 0&&(t[r]=e[r]);return t}function TM(e){return typeof e.timestamp=="function"?e.timestamp:e.timestamp===!1?wv:yv}function Ku(){return{}}function ad(e){return e}function oh(){}function wv(){return!1}function yv(){return Date.now()}function $M(){return Math.round(Date.now()/1e3)}function BM(){return new Date(Date.now()).toISOString()}function UM(){function e(t){return typeof t<"u"&&t}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return e(self)||e(window)||e(this)||{}}}const LM={level:"info"},ah="custom_context",cd=1e3*1024;class FM{constructor(t){this.nodeValue=t,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}}class bv{constructor(t){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=t,this.sizeInBytes=0}append(t){const r=new FM(t);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${t} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const t=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=t.size}toArray(){const t=[];let r=this.head;for(;r!==null;)t.push(r.value),r=r.next;return t}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let t=this.head;return{next:()=>{if(!t)return{done:!0,value:null};const r=t.value;return t=t.next,{done:!1,value:r}}}}}class Av{constructor(t,r=cd){this.level=t??"error",this.levelValue=Zn.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new bv(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(t,r){r===Zn.levels.values.error?console.error(t):r===Zn.levels.values.warn?console.warn(t):r===Zn.levels.values.debug?console.debug(t):r===Zn.levels.values.trace?console.trace(t):console.log(t)}appendToLogs(t){this.logs.append(xs({timestamp:new Date().toISOString(),log:t}));const r=typeof t=="string"?JSON.parse(t).level:t.level;r>=this.levelValue&&this.forwardToConsole(t,r)}getLogs(){return this.logs}clearLogs(){this.logs=new bv(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(t){const r=this.getLogArray();return r.push(xs({extraMetadata:t})),new Blob(r,{type:"application/json"})}}class kM{constructor(t,r=cd){this.baseChunkLogger=new Av(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}downloadLogsBlobInBrowser(t){const r=URL.createObjectURL(this.logsToBlob(t)),i=document.createElement("a");i.href=r,i.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}}class jM{constructor(t,r=cd){this.baseChunkLogger=new Av(t,r)}write(t){this.baseChunkLogger.appendToLogs(t)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(t){return this.baseChunkLogger.logsToBlob(t)}}var qM=Object.defineProperty,zM=Object.defineProperties,HM=Object.getOwnPropertyDescriptors,_v=Object.getOwnPropertySymbols,KM=Object.prototype.hasOwnProperty,WM=Object.prototype.propertyIsEnumerable,Ev=(e,t,r)=>t in e?qM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wu=(e,t)=>{for(var r in t||(t={}))KM.call(t,r)&&Ev(e,r,t[r]);if(_v)for(var r of _v(t))WM.call(t,r)&&Ev(e,r,t[r]);return e},Vu=(e,t)=>zM(e,HM(t));function Gu(e){return Vu(Wu({},e),{level:e?.level||LM.level})}function VM(e,t=ah){return e[t]||""}function GM(e,t,r=ah){return e[r]=t,e}function Oi(e,t=ah){let r="";return typeof e.bindings>"u"?r=VM(e,t):r=e.bindings().context||"",r}function QM(e,t,r=ah){const i=Oi(e,r);return i.trim()?`${i}/${t}`:t}function Ni(e,t,r=ah){const i=QM(e,t,r),n=e.child({context:i});return GM(n,i,r)}function YM(e){var t,r;const i=new kM((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Zn(Vu(Wu({},e.opts),{level:"trace",browser:Vu(Wu({},(r=e.opts)==null?void 0:r.browser),{write:n=>i.write(n)})})),chunkLoggerController:i}}function JM(e){var t;const r=new jM((t=e.opts)==null?void 0:t.level,e.maxSizeInBytes);return{logger:Zn(Vu(Wu({},e.opts),{level:"trace"})),chunkLoggerController:r}}function ZM(e){return typeof e.loggerOverride<"u"&&typeof e.loggerOverride!="string"?{logger:e.loggerOverride,chunkLoggerController:null}:typeof window<"u"?YM(e):JM(e)}class XM extends Bo{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}}class tS extends Bo{constructor(t,r){super(),this.core=t,this.logger=r,this.records=new Map}}class eS{constructor(t,r){this.logger=t,this.core=r}}class rS extends Bo{constructor(t,r){super(),this.relayer=t,this.logger=r}}class iS extends Bo{constructor(t){super()}}class nS{constructor(t,r,i,n){this.core=t,this.logger=r,this.name=i}}class sS extends Bo{constructor(t,r){super(),this.relayer=t,this.logger=r}}class oS extends Bo{constructor(t,r){super(),this.core=t,this.logger=r}}class aS{constructor(t,r){this.projectId=t,this.logger=r}}class cS{constructor(t,r){this.projectId=t,this.logger=r}}var hd={},Mv={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=we,r=qi;e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var i=function(){function d(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return d.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},d.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},d.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},d.prototype.update=function(g,p){if(p===void 0&&(p=g.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var _=0;if(this._bytesHashed+=p,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&p>0;)this._buffer[this._bufferLength++]=g[_++],p--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(p>=this.blockSize&&(_=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,g,_,p),p%=this.blockSize);p>0;)this._buffer[this._bufferLength++]=g[_++],p--;return this},d.prototype.finish=function(g){if(!this._finished){var p=this._bytesHashed,_=this._bufferLength,S=p/536870912|0,D=p<<3,O=p%128<112?128:256;this._buffer[_]=128;for(var N=_+1;N<O-8;N++)this._buffer[N]=0;t.writeUint32BE(S,this._buffer,O-8),t.writeUint32BE(D,this._buffer,O-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,O),this._finished=!0}for(var N=0;N<this.digestLength/8;N++)t.writeUint32BE(this._stateHi[N],g,N*8),t.writeUint32BE(this._stateLo[N],g,N*8+4);return this},d.prototype.digest=function(){var g=new Uint8Array(this.digestLength);return this.finish(g),g},d.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},d.prototype.restoreState=function(g){return this._stateHi.set(g.stateHi),this._stateLo.set(g.stateLo),this._bufferLength=g.bufferLength,g.buffer&&this._buffer.set(g.buffer),this._bytesHashed=g.bytesHashed,this._finished=!1,this},d.prototype.cleanSavedState=function(g){r.wipe(g.stateHi),r.wipe(g.stateLo),g.buffer&&r.wipe(g.buffer),g.bufferLength=0,g.bytesHashed=0},d}();e.SHA512=i;var n=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(d,g,p,_,S,D,O){for(var N=p[0],L=p[1],z=p[2],G=p[3],q=p[4],W=p[5],B=p[6],k=p[7],j=_[0],I=_[1],U=_[2],et=_[3],ct=_[4],Z=_[5],ut=_[6],o=_[7],u,f,v,A,E,x,y,c;O>=128;){for(var b=0;b<16;b++){var J=8*b+D;d[b]=t.readUint32BE(S,J),g[b]=t.readUint32BE(S,J+4)}for(var b=0;b<80;b++){var X=N,w=L,V=z,P=G,T=q,K=W,M=B,$=k,it=j,ot=I,rt=U,Ut=et,_t=ct,wt=Z,pe=ut,Ot=o;if(u=k,f=o,E=f&65535,x=f>>>16,y=u&65535,c=u>>>16,u=(q>>>14|ct<<32-14)^(q>>>18|ct<<32-18)^(ct>>>41-32|q<<32-(41-32)),f=(ct>>>14|q<<32-14)^(ct>>>18|q<<32-18)^(q>>>41-32|ct<<32-(41-32)),E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,u=q&W^~q&B,f=ct&Z^~ct&ut,E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,u=n[b*2],f=n[b*2+1],E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,u=d[b%16],f=g[b%16],E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,x+=E>>>16,y+=x>>>16,c+=y>>>16,v=y&65535|c<<16,A=E&65535|x<<16,u=v,f=A,E=f&65535,x=f>>>16,y=u&65535,c=u>>>16,u=(N>>>28|j<<32-28)^(j>>>34-32|N<<32-(34-32))^(j>>>39-32|N<<32-(39-32)),f=(j>>>28|N<<32-28)^(N>>>34-32|j<<32-(34-32))^(N>>>39-32|j<<32-(39-32)),E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,u=N&L^N&z^L&z,f=j&I^j&U^I&U,E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,x+=E>>>16,y+=x>>>16,c+=y>>>16,$=y&65535|c<<16,Ot=E&65535|x<<16,u=P,f=Ut,E=f&65535,x=f>>>16,y=u&65535,c=u>>>16,u=v,f=A,E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,x+=E>>>16,y+=x>>>16,c+=y>>>16,P=y&65535|c<<16,Ut=E&65535|x<<16,L=X,z=w,G=V,q=P,W=T,B=K,k=M,N=$,I=it,U=ot,et=rt,ct=Ut,Z=_t,ut=wt,o=pe,j=Ot,b%16===15)for(var J=0;J<16;J++)u=d[J],f=g[J],E=f&65535,x=f>>>16,y=u&65535,c=u>>>16,u=d[(J+9)%16],f=g[(J+9)%16],E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,v=d[(J+1)%16],A=g[(J+1)%16],u=(v>>>1|A<<32-1)^(v>>>8|A<<32-8)^v>>>7,f=(A>>>1|v<<32-1)^(A>>>8|v<<32-8)^(A>>>7|v<<32-7),E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,v=d[(J+14)%16],A=g[(J+14)%16],u=(v>>>19|A<<32-19)^(A>>>61-32|v<<32-(61-32))^v>>>6,f=(A>>>19|v<<32-19)^(v>>>61-32|A<<32-(61-32))^(A>>>6|v<<32-6),E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,x+=E>>>16,y+=x>>>16,c+=y>>>16,d[J]=y&65535|c<<16,g[J]=E&65535|x<<16}u=N,f=j,E=f&65535,x=f>>>16,y=u&65535,c=u>>>16,u=p[0],f=_[0],E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,x+=E>>>16,y+=x>>>16,c+=y>>>16,p[0]=N=y&65535|c<<16,_[0]=j=E&65535|x<<16,u=L,f=I,E=f&65535,x=f>>>16,y=u&65535,c=u>>>16,u=p[1],f=_[1],E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,x+=E>>>16,y+=x>>>16,c+=y>>>16,p[1]=L=y&65535|c<<16,_[1]=I=E&65535|x<<16,u=z,f=U,E=f&65535,x=f>>>16,y=u&65535,c=u>>>16,u=p[2],f=_[2],E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,x+=E>>>16,y+=x>>>16,c+=y>>>16,p[2]=z=y&65535|c<<16,_[2]=U=E&65535|x<<16,u=G,f=et,E=f&65535,x=f>>>16,y=u&65535,c=u>>>16,u=p[3],f=_[3],E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,x+=E>>>16,y+=x>>>16,c+=y>>>16,p[3]=G=y&65535|c<<16,_[3]=et=E&65535|x<<16,u=q,f=ct,E=f&65535,x=f>>>16,y=u&65535,c=u>>>16,u=p[4],f=_[4],E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,x+=E>>>16,y+=x>>>16,c+=y>>>16,p[4]=q=y&65535|c<<16,_[4]=ct=E&65535|x<<16,u=W,f=Z,E=f&65535,x=f>>>16,y=u&65535,c=u>>>16,u=p[5],f=_[5],E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,x+=E>>>16,y+=x>>>16,c+=y>>>16,p[5]=W=y&65535|c<<16,_[5]=Z=E&65535|x<<16,u=B,f=ut,E=f&65535,x=f>>>16,y=u&65535,c=u>>>16,u=p[6],f=_[6],E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,x+=E>>>16,y+=x>>>16,c+=y>>>16,p[6]=B=y&65535|c<<16,_[6]=ut=E&65535|x<<16,u=k,f=o,E=f&65535,x=f>>>16,y=u&65535,c=u>>>16,u=p[7],f=_[7],E+=f&65535,x+=f>>>16,y+=u&65535,c+=u>>>16,x+=E>>>16,y+=x>>>16,c+=y>>>16,p[7]=k=y&65535|c<<16,_[7]=o=E&65535|x<<16,D+=128,O-=128}return D}function h(d){var g=new i;g.update(d);var p=g.digest();return g.clean(),p}e.hash=h})(Mv),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertSecretKeyToX25519=e.convertPublicKeyToX25519=e.verify=e.sign=e.extractPublicKeyFromSecretKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.SEED_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=e.SIGNATURE_LENGTH=void 0;const t=wa,r=Mv,i=qi;e.SIGNATURE_LENGTH=64,e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=64,e.SEED_LENGTH=32;function n(P){const T=new Float64Array(16);if(P)for(let K=0;K<P.length;K++)T[K]=P[K];return T}const s=new Uint8Array(32);s[0]=9;const h=n(),d=n([1]),g=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),p=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),_=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),S=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),D=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function O(P,T){for(let K=0;K<16;K++)P[K]=T[K]|0}function N(P){let T=1;for(let K=0;K<16;K++){let M=P[K]+T+65535;T=Math.floor(M/65536),P[K]=M-T*65536}P[0]+=T-1+37*(T-1)}function L(P,T,K){const M=~(K-1);for(let $=0;$<16;$++){const it=M&(P[$]^T[$]);P[$]^=it,T[$]^=it}}function z(P,T){const K=n(),M=n();for(let $=0;$<16;$++)M[$]=T[$];N(M),N(M),N(M);for(let $=0;$<2;$++){K[0]=M[0]-65517;for(let ot=1;ot<15;ot++)K[ot]=M[ot]-65535-(K[ot-1]>>16&1),K[ot-1]&=65535;K[15]=M[15]-32767-(K[14]>>16&1);const it=K[15]>>16&1;K[14]&=65535,L(M,K,1-it)}for(let $=0;$<16;$++)P[2*$]=M[$]&255,P[2*$+1]=M[$]>>8}function G(P,T){let K=0;for(let M=0;M<32;M++)K|=P[M]^T[M];return(1&K-1>>>8)-1}function q(P,T){const K=new Uint8Array(32),M=new Uint8Array(32);return z(K,P),z(M,T),G(K,M)}function W(P){const T=new Uint8Array(32);return z(T,P),T[0]&1}function B(P,T){for(let K=0;K<16;K++)P[K]=T[2*K]+(T[2*K+1]<<8);P[15]&=32767}function k(P,T,K){for(let M=0;M<16;M++)P[M]=T[M]+K[M]}function j(P,T,K){for(let M=0;M<16;M++)P[M]=T[M]-K[M]}function I(P,T,K){let M,$,it=0,ot=0,rt=0,Ut=0,_t=0,wt=0,pe=0,Ot=0,bt=0,ee=0,pt=0,gt=0,ne=0,ft=0,mt=0,Zt=0,dt=0,At=0,re=0,Et=0,Mt=0,oe=0,xt=0,St=0,qe=0,qt=0,Ht=0,ze=0,Kt=0,Wt=0,ar=0,Rt=K[0],Nt=K[1],Ee=K[2],Tt=K[3],Pt=K[4],ge=K[5],Lt=K[6],Ft=K[7],Me=K[8],kt=K[9],$t=K[10],Ie=K[11],Bt=K[12],Dt=K[13],Ce=K[14],jt=K[15];M=T[0],it+=M*Rt,ot+=M*Nt,rt+=M*Ee,Ut+=M*Tt,_t+=M*Pt,wt+=M*ge,pe+=M*Lt,Ot+=M*Ft,bt+=M*Me,ee+=M*kt,pt+=M*$t,gt+=M*Ie,ne+=M*Bt,ft+=M*Dt,mt+=M*Ce,Zt+=M*jt,M=T[1],ot+=M*Rt,rt+=M*Nt,Ut+=M*Ee,_t+=M*Tt,wt+=M*Pt,pe+=M*ge,Ot+=M*Lt,bt+=M*Ft,ee+=M*Me,pt+=M*kt,gt+=M*$t,ne+=M*Ie,ft+=M*Bt,mt+=M*Dt,Zt+=M*Ce,dt+=M*jt,M=T[2],rt+=M*Rt,Ut+=M*Nt,_t+=M*Ee,wt+=M*Tt,pe+=M*Pt,Ot+=M*ge,bt+=M*Lt,ee+=M*Ft,pt+=M*Me,gt+=M*kt,ne+=M*$t,ft+=M*Ie,mt+=M*Bt,Zt+=M*Dt,dt+=M*Ce,At+=M*jt,M=T[3],Ut+=M*Rt,_t+=M*Nt,wt+=M*Ee,pe+=M*Tt,Ot+=M*Pt,bt+=M*ge,ee+=M*Lt,pt+=M*Ft,gt+=M*Me,ne+=M*kt,ft+=M*$t,mt+=M*Ie,Zt+=M*Bt,dt+=M*Dt,At+=M*Ce,re+=M*jt,M=T[4],_t+=M*Rt,wt+=M*Nt,pe+=M*Ee,Ot+=M*Tt,bt+=M*Pt,ee+=M*ge,pt+=M*Lt,gt+=M*Ft,ne+=M*Me,ft+=M*kt,mt+=M*$t,Zt+=M*Ie,dt+=M*Bt,At+=M*Dt,re+=M*Ce,Et+=M*jt,M=T[5],wt+=M*Rt,pe+=M*Nt,Ot+=M*Ee,bt+=M*Tt,ee+=M*Pt,pt+=M*ge,gt+=M*Lt,ne+=M*Ft,ft+=M*Me,mt+=M*kt,Zt+=M*$t,dt+=M*Ie,At+=M*Bt,re+=M*Dt,Et+=M*Ce,Mt+=M*jt,M=T[6],pe+=M*Rt,Ot+=M*Nt,bt+=M*Ee,ee+=M*Tt,pt+=M*Pt,gt+=M*ge,ne+=M*Lt,ft+=M*Ft,mt+=M*Me,Zt+=M*kt,dt+=M*$t,At+=M*Ie,re+=M*Bt,Et+=M*Dt,Mt+=M*Ce,oe+=M*jt,M=T[7],Ot+=M*Rt,bt+=M*Nt,ee+=M*Ee,pt+=M*Tt,gt+=M*Pt,ne+=M*ge,ft+=M*Lt,mt+=M*Ft,Zt+=M*Me,dt+=M*kt,At+=M*$t,re+=M*Ie,Et+=M*Bt,Mt+=M*Dt,oe+=M*Ce,xt+=M*jt,M=T[8],bt+=M*Rt,ee+=M*Nt,pt+=M*Ee,gt+=M*Tt,ne+=M*Pt,ft+=M*ge,mt+=M*Lt,Zt+=M*Ft,dt+=M*Me,At+=M*kt,re+=M*$t,Et+=M*Ie,Mt+=M*Bt,oe+=M*Dt,xt+=M*Ce,St+=M*jt,M=T[9],ee+=M*Rt,pt+=M*Nt,gt+=M*Ee,ne+=M*Tt,ft+=M*Pt,mt+=M*ge,Zt+=M*Lt,dt+=M*Ft,At+=M*Me,re+=M*kt,Et+=M*$t,Mt+=M*Ie,oe+=M*Bt,xt+=M*Dt,St+=M*Ce,qe+=M*jt,M=T[10],pt+=M*Rt,gt+=M*Nt,ne+=M*Ee,ft+=M*Tt,mt+=M*Pt,Zt+=M*ge,dt+=M*Lt,At+=M*Ft,re+=M*Me,Et+=M*kt,Mt+=M*$t,oe+=M*Ie,xt+=M*Bt,St+=M*Dt,qe+=M*Ce,qt+=M*jt,M=T[11],gt+=M*Rt,ne+=M*Nt,ft+=M*Ee,mt+=M*Tt,Zt+=M*Pt,dt+=M*ge,At+=M*Lt,re+=M*Ft,Et+=M*Me,Mt+=M*kt,oe+=M*$t,xt+=M*Ie,St+=M*Bt,qe+=M*Dt,qt+=M*Ce,Ht+=M*jt,M=T[12],ne+=M*Rt,ft+=M*Nt,mt+=M*Ee,Zt+=M*Tt,dt+=M*Pt,At+=M*ge,re+=M*Lt,Et+=M*Ft,Mt+=M*Me,oe+=M*kt,xt+=M*$t,St+=M*Ie,qe+=M*Bt,qt+=M*Dt,Ht+=M*Ce,ze+=M*jt,M=T[13],ft+=M*Rt,mt+=M*Nt,Zt+=M*Ee,dt+=M*Tt,At+=M*Pt,re+=M*ge,Et+=M*Lt,Mt+=M*Ft,oe+=M*Me,xt+=M*kt,St+=M*$t,qe+=M*Ie,qt+=M*Bt,Ht+=M*Dt,ze+=M*Ce,Kt+=M*jt,M=T[14],mt+=M*Rt,Zt+=M*Nt,dt+=M*Ee,At+=M*Tt,re+=M*Pt,Et+=M*ge,Mt+=M*Lt,oe+=M*Ft,xt+=M*Me,St+=M*kt,qe+=M*$t,qt+=M*Ie,Ht+=M*Bt,ze+=M*Dt,Kt+=M*Ce,Wt+=M*jt,M=T[15],Zt+=M*Rt,dt+=M*Nt,At+=M*Ee,re+=M*Tt,Et+=M*Pt,Mt+=M*ge,oe+=M*Lt,xt+=M*Ft,St+=M*Me,qe+=M*kt,qt+=M*$t,Ht+=M*Ie,ze+=M*Bt,Kt+=M*Dt,Wt+=M*Ce,ar+=M*jt,it+=38*dt,ot+=38*At,rt+=38*re,Ut+=38*Et,_t+=38*Mt,wt+=38*oe,pe+=38*xt,Ot+=38*St,bt+=38*qe,ee+=38*qt,pt+=38*Ht,gt+=38*ze,ne+=38*Kt,ft+=38*Wt,mt+=38*ar,$=1,M=it+$+65535,$=Math.floor(M/65536),it=M-$*65536,M=ot+$+65535,$=Math.floor(M/65536),ot=M-$*65536,M=rt+$+65535,$=Math.floor(M/65536),rt=M-$*65536,M=Ut+$+65535,$=Math.floor(M/65536),Ut=M-$*65536,M=_t+$+65535,$=Math.floor(M/65536),_t=M-$*65536,M=wt+$+65535,$=Math.floor(M/65536),wt=M-$*65536,M=pe+$+65535,$=Math.floor(M/65536),pe=M-$*65536,M=Ot+$+65535,$=Math.floor(M/65536),Ot=M-$*65536,M=bt+$+65535,$=Math.floor(M/65536),bt=M-$*65536,M=ee+$+65535,$=Math.floor(M/65536),ee=M-$*65536,M=pt+$+65535,$=Math.floor(M/65536),pt=M-$*65536,M=gt+$+65535,$=Math.floor(M/65536),gt=M-$*65536,M=ne+$+65535,$=Math.floor(M/65536),ne=M-$*65536,M=ft+$+65535,$=Math.floor(M/65536),ft=M-$*65536,M=mt+$+65535,$=Math.floor(M/65536),mt=M-$*65536,M=Zt+$+65535,$=Math.floor(M/65536),Zt=M-$*65536,it+=$-1+37*($-1),$=1,M=it+$+65535,$=Math.floor(M/65536),it=M-$*65536,M=ot+$+65535,$=Math.floor(M/65536),ot=M-$*65536,M=rt+$+65535,$=Math.floor(M/65536),rt=M-$*65536,M=Ut+$+65535,$=Math.floor(M/65536),Ut=M-$*65536,M=_t+$+65535,$=Math.floor(M/65536),_t=M-$*65536,M=wt+$+65535,$=Math.floor(M/65536),wt=M-$*65536,M=pe+$+65535,$=Math.floor(M/65536),pe=M-$*65536,M=Ot+$+65535,$=Math.floor(M/65536),Ot=M-$*65536,M=bt+$+65535,$=Math.floor(M/65536),bt=M-$*65536,M=ee+$+65535,$=Math.floor(M/65536),ee=M-$*65536,M=pt+$+65535,$=Math.floor(M/65536),pt=M-$*65536,M=gt+$+65535,$=Math.floor(M/65536),gt=M-$*65536,M=ne+$+65535,$=Math.floor(M/65536),ne=M-$*65536,M=ft+$+65535,$=Math.floor(M/65536),ft=M-$*65536,M=mt+$+65535,$=Math.floor(M/65536),mt=M-$*65536,M=Zt+$+65535,$=Math.floor(M/65536),Zt=M-$*65536,it+=$-1+37*($-1),P[0]=it,P[1]=ot,P[2]=rt,P[3]=Ut,P[4]=_t,P[5]=wt,P[6]=pe,P[7]=Ot,P[8]=bt,P[9]=ee,P[10]=pt,P[11]=gt,P[12]=ne,P[13]=ft,P[14]=mt,P[15]=Zt}function U(P,T){I(P,T,T)}function et(P,T){const K=n();let M;for(M=0;M<16;M++)K[M]=T[M];for(M=253;M>=0;M--)U(K,K),M!==2&&M!==4&&I(K,K,T);for(M=0;M<16;M++)P[M]=K[M]}function ct(P,T){const K=n();let M;for(M=0;M<16;M++)K[M]=T[M];for(M=250;M>=0;M--)U(K,K),M!==1&&I(K,K,T);for(M=0;M<16;M++)P[M]=K[M]}function Z(P,T){const K=n(),M=n(),$=n(),it=n(),ot=n(),rt=n(),Ut=n(),_t=n(),wt=n();j(K,P[1],P[0]),j(wt,T[1],T[0]),I(K,K,wt),k(M,P[0],P[1]),k(wt,T[0],T[1]),I(M,M,wt),I($,P[3],T[3]),I($,$,p),I(it,P[2],T[2]),k(it,it,it),j(ot,M,K),j(rt,it,$),k(Ut,it,$),k(_t,M,K),I(P[0],ot,rt),I(P[1],_t,Ut),I(P[2],Ut,rt),I(P[3],ot,_t)}function ut(P,T,K){for(let M=0;M<4;M++)L(P[M],T[M],K)}function o(P,T){const K=n(),M=n(),$=n();et($,T[2]),I(K,T[0],$),I(M,T[1],$),z(P,M),P[31]^=W(K)<<7}function u(P,T,K){O(P[0],h),O(P[1],d),O(P[2],d),O(P[3],h);for(let M=255;M>=0;--M){const $=K[M/8|0]>>(M&7)&1;ut(P,T,$),Z(T,P),Z(P,P),ut(P,T,$)}}function f(P,T){const K=[n(),n(),n(),n()];O(K[0],_),O(K[1],S),O(K[2],d),I(K[3],_,S),u(P,K,T)}function v(P){if(P.length!==e.SEED_LENGTH)throw new Error(`ed25519: seed must be ${e.SEED_LENGTH} bytes`);const T=(0,r.hash)(P);T[0]&=248,T[31]&=127,T[31]|=64;const K=new Uint8Array(32),M=[n(),n(),n(),n()];f(M,T),o(K,M);const $=new Uint8Array(64);return $.set(P),$.set(K,32),{publicKey:K,secretKey:$}}e.generateKeyPairFromSeed=v;function A(P){const T=(0,t.randomBytes)(32,P),K=v(T);return(0,i.wipe)(T),K}e.generateKeyPair=A;function E(P){if(P.length!==e.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${e.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(P.subarray(32))}e.extractPublicKeyFromSecretKey=E;const x=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function y(P,T){let K,M,$,it;for(M=63;M>=32;--M){for(K=0,$=M-32,it=M-12;$<it;++$)T[$]+=K-16*T[M]*x[$-(M-32)],K=Math.floor((T[$]+128)/256),T[$]-=K*256;T[$]+=K,T[M]=0}for(K=0,$=0;$<32;$++)T[$]+=K-(T[31]>>4)*x[$],K=T[$]>>8,T[$]&=255;for($=0;$<32;$++)T[$]-=K*x[$];for(M=0;M<32;M++)T[M+1]+=T[M]>>8,P[M]=T[M]&255}function c(P){const T=new Float64Array(64);for(let K=0;K<64;K++)T[K]=P[K];for(let K=0;K<64;K++)P[K]=0;y(P,T)}function b(P,T){const K=new Float64Array(64),M=[n(),n(),n(),n()],$=(0,r.hash)(P.subarray(0,32));$[0]&=248,$[31]&=127,$[31]|=64;const it=new Uint8Array(64);it.set($.subarray(32),32);const ot=new r.SHA512;ot.update(it.subarray(32)),ot.update(T);const rt=ot.digest();ot.clean(),c(rt),f(M,rt),o(it,M),ot.reset(),ot.update(it.subarray(0,32)),ot.update(P.subarray(32)),ot.update(T);const Ut=ot.digest();c(Ut);for(let _t=0;_t<32;_t++)K[_t]=rt[_t];for(let _t=0;_t<32;_t++)for(let wt=0;wt<32;wt++)K[_t+wt]+=Ut[_t]*$[wt];return y(it.subarray(32),K),it}e.sign=b;function J(P,T){const K=n(),M=n(),$=n(),it=n(),ot=n(),rt=n(),Ut=n();return O(P[2],d),B(P[1],T),U($,P[1]),I(it,$,g),j($,$,P[2]),k(it,P[2],it),U(ot,it),U(rt,ot),I(Ut,rt,ot),I(K,Ut,$),I(K,K,it),ct(K,K),I(K,K,$),I(K,K,it),I(K,K,it),I(P[0],K,it),U(M,P[0]),I(M,M,it),q(M,$)&&I(P[0],P[0],D),U(M,P[0]),I(M,M,it),q(M,$)?-1:(W(P[0])===T[31]>>7&&j(P[0],h,P[0]),I(P[3],P[0],P[1]),0)}function X(P,T,K){const M=new Uint8Array(32),$=[n(),n(),n(),n()],it=[n(),n(),n(),n()];if(K.length!==e.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${e.SIGNATURE_LENGTH} bytes`);if(J(it,P))return!1;const ot=new r.SHA512;ot.update(K.subarray(0,32)),ot.update(P),ot.update(T);const rt=ot.digest();return c(rt),u($,it,rt),f(it,K.subarray(32)),Z($,it),o(M,$),!G(K,M)}e.verify=X;function w(P){let T=[n(),n(),n(),n()];if(J(T,P))throw new Error("Ed25519: invalid public key");let K=n(),M=n(),$=T[1];k(K,d,$),j(M,d,$),et(M,M),I(K,K,M);let it=new Uint8Array(32);return z(it,K),it}e.convertPublicKeyToX25519=w;function V(P){const T=(0,r.hash)(P.subarray(0,32));T[0]&=248,T[31]&=127,T[31]|=64;const K=new Uint8Array(T.subarray(0,32));return(0,i.wipe)(T),K}e.convertSecretKeyToX25519=V}(hd);const hS="EdDSA",uS="JWT",Sv=".",Iv="base64url",lS="utf8",fS="utf8",dS=":",pS="did",gS="key",xv="base58btc",mS="z",vS="K36",wS=32;function ud(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Cv(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?ud(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function yS(e,t){t||(t=e.reduce((n,s)=>n+s.length,0));const r=Cv(t);let i=0;for(const n of e)r.set(n,i),i+=n.length;return ud(r)}function Dv(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const Ov=Dv("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),ld=Dv("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=Cv(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),Nv={utf8:Ov,"utf-8":Ov,hex:Au.base16,latin1:ld,ascii:ld,binary:ld,...Au};function fd(e,t="utf8"){const r=Nv[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function dd(e,t="utf8"){const r=Nv[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?ud(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function Qu(e){return fd(dd(xs(e),lS),Iv)}function Pv(e){const t=dd(vS,xv),r=mS+fd(yS([t,e]),xv);return[pS,gS,r].join(dS)}function bS(e){return fd(e,Iv)}function AS(e){return dd([Qu(e.header),Qu(e.payload)].join(Sv),fS)}function _S(e){return[Qu(e.header),Qu(e.payload),bS(e.signature)].join(Sv)}function Rv(e=wa.randomBytes(wS)){return hd.generateKeyPairFromSeed(e)}async function ES(e,t,r,i,n=Vt.fromMiliseconds(Date.now())){const s={alg:hS,typ:uS},h=Pv(i.publicKey),d=n+r,g={iss:h,sub:e,aud:t,iat:n,exp:d},p=AS({header:s,payload:g}),_=hd.sign(i.secretKey,p);return _S({header:s,payload:g,signature:_})}var MS=Object.defineProperty,Tv=Object.getOwnPropertySymbols,SS=Object.prototype.hasOwnProperty,IS=Object.prototype.propertyIsEnumerable,$v=(e,t,r)=>t in e?MS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Bv=(e,t)=>{for(var r in t||(t={}))SS.call(t,r)&&$v(e,r,t[r]);if(Tv)for(var r of Tv(t))IS.call(t,r)&&$v(e,r,t[r]);return e};const xS="ReactNative",On={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},CS="js";function ch(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Ua(){return!Lc()&&!!Fc()&&navigator.product===xS}function Yu(){return!ch()&&!!Fc()&&!!Lc()}function Ju(){return Ua()?On.reactNative:ch()?On.node:Yu()?On.browser:On.unknown}function DS(){var e;try{return Ua()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(e=global.Application)==null?void 0:e.applicationId:void 0}catch{return}}function OS(e,t){let r=kc.parse(e);return r=Bv(Bv({},r),t),e=kc.stringify(r),e}function NS(){if(Ju()===On.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:i}=global.Platform;return[r,i].join("-")}const e=o8();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function PS(){var e;const t=Ju();return t===On.browser?[t,((e=im())==null?void 0:e.host)||"unknown"].join(":"):t}function RS(e,t,r){const i=NS(),n=PS();return[[e,t].join("-"),[CS,r].join("-"),i,n].join("/")}function TS({protocol:e,version:t,relayUrl:r,sdkVersion:i,auth:n,projectId:s,useOnCloseEvent:h,bundleId:d}){const g=r.split("?"),p=RS(e,t,i),_={auth:n,ua:p,projectId:s,useOnCloseEvent:h||void 0,origin:d||void 0},S=OS(g[1]||"",_);return g[0]+"?"+S}function Uv(e){return Object.fromEntries(e.entries())}function Lv(e){return new Map(Object.entries(e))}function $S(e=Vt.FIVE_MINUTES,t){const r=Vt.toMiliseconds(e||Vt.FIVE_MINUTES);let i,n,s;return{resolve:h=>{s&&i&&(clearTimeout(s),i(h))},reject:h=>{s&&n&&(clearTimeout(s),n(h))},done:()=>new Promise((h,d)=>{s=setTimeout(()=>{d(new Error(t))},r),i=h,n=d})}}function La(e,t,r){return new Promise(async(i,n)=>{const s=setTimeout(()=>n(new Error(r)),t);try{const h=await e;i(h)}catch(h){n(h)}clearTimeout(s)})}function Fv(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function BS(e){return Fv("topic",e)}function US(e){return Fv("id",e)}function LS(e){const[t,r]=e.split(":"),i={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")i.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))i.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return i}function Zu(e,t){return Vt.fromMiliseconds((t||Date.now())+Vt.toMiliseconds(e))}function kv(e){return Date.now()>=Vt.toMiliseconds(e)}function pd(e,t){return`${e}${t?`:${t}`:""}`}var jv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function FS(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var n=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return e[i]}})}),r}var qv={exports:{}};/**
* [js-sha3]{@link https://github.com/emn178/js-sha3}
*
* @version 0.8.0
* @author Chen, Yi-Cyuan [emn178@gmail.com]
* @copyright Chen, Yi-Cyuan 2015-2018
* @license MIT
*/(function(e){(function(){var t="input is invalid type",r="finalize already called",i=typeof window=="object",n=i?window:{};n.JS_SHA3_NO_WINDOW&&(i=!1);var s=!i&&typeof self=="object",h=!n.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;h?n=jv:s&&(n=self);var d=!n.JS_SHA3_NO_COMMON_JS&&!0&&e.exports,g=!n.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",p="0123456789abcdef".split(""),_=[31,7936,2031616,520093696],S=[4,1024,262144,67108864],D=[1,256,65536,16777216],O=[6,1536,393216,100663296],N=[0,8,16,24],L=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],z=[224,256,384,512],G=[128,256],q=["hex","buffer","arrayBuffer","array","digest"],W={128:168,256:136};(n.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(w){return Object.prototype.toString.call(w)==="[object Array]"}),g&&(n.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(w){return typeof w=="object"&&w.buffer&&w.buffer.constructor===ArrayBuffer});for(var B=function(w,V,P){return function(T){return new b(w,V,w).update(T)[P]()}},k=function(w,V,P){return function(T,K){return new b(w,V,K).update(T)[P]()}},j=function(w,V,P){return function(T,K,M,$){return u["cshake"+w].update(T,K,M,$)[P]()}},I=function(w,V,P){return function(T,K,M,$){return u["kmac"+w].update(T,K,M,$)[P]()}},U=function(w,V,P,T){for(var K=0;K<q.length;++K){var M=q[K];w[M]=V(P,T,M)}return w},et=function(w,V){var P=B(w,V,"hex");return P.create=function(){return new b(w,V,w)},P.update=function(T){return P.create().update(T)},U(P,B,w,V)},ct=function(w,V){var P=k(w,V,"hex");return P.create=function(T){return new b(w,V,T)},P.update=function(T,K){return P.create(K).update(T)},U(P,k,w,V)},Z=function(w,V){var P=W[w],T=j(w,V,"hex");return T.create=function(K,M,$){return!M&&!$?u["shake"+w].create(K):new b(w,V,K).bytepad([M,$],P)},T.update=function(K,M,$,it){return T.create(M,$,it).update(K)},U(T,j,w,V)},ut=function(w,V){var P=W[w],T=I(w,V,"hex");return T.create=function(K,M,$){return new J(w,V,M).bytepad(["KMAC",$],P).bytepad([K],P)},T.update=function(K,M,$,it){return T.create(K,$,it).update(M)},U(T,I,w,V)},o=[{name:"keccak",padding:D,bits:z,createMethod:et},{name:"sha3",padding:O,bits:z,createMethod:et},{name:"shake",padding:_,bits:G,createMethod:ct},{name:"cshake",padding:S,bits:G,createMethod:Z},{name:"kmac",padding:S,bits:G,createMethod:ut}],u={},f=[],v=0;v<o.length;++v)for(var A=o[v],E=A.bits,x=0;x<E.length;++x){var y=A.name+"_"+E[x];if(f.push(y),u[y]=A.createMethod(E[x],A.padding),A.name!=="sha3"){var c=A.name+E[x];f.push(c),u[c]=u[y]}}function b(w,V,P){this.blocks=[],this.s=[],this.padding=V,this.outputBits=P,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(w<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=P>>5,this.extraBytes=(P&31)>>3;for(var T=0;T<50;++T)this.s[T]=0}b.prototype.update=function(w){if(this.finalized)throw new Error(r);var V,P=typeof w;if(P!=="string"){if(P==="object"){if(w===null)throw new Error(t);if(g&&w.constructor===ArrayBuffer)w=new Uint8Array(w);else if(!Array.isArray(w)&&(!g||!ArrayBuffer.isView(w)))throw new Error(t)}else throw new Error(t);V=!0}for(var T=this.blocks,K=this.byteCount,M=w.length,$=this.blockCount,it=0,ot=this.s,rt,Ut;it<M;){if(this.reset)for(this.reset=!1,T[0]=this.block,rt=1;rt<$+1;++rt)T[rt]=0;if(V)for(rt=this.start;it<M&&rt<K;++it)T[rt>>2]|=w[it]<<N[rt++&3];else for(rt=this.start;it<M&&rt<K;++it)Ut=w.charCodeAt(it),Ut<128?T[rt>>2]|=Ut<<N[rt++&3]:Ut<2048?(T[rt>>2]|=(192|Ut>>6)<<N[rt++&3],T[rt>>2]|=(128|Ut&63)<<N[rt++&3]):Ut<55296||Ut>=57344?(T[rt>>2]|=(224|Ut>>12)<<N[rt++&3],T[rt>>2]|=(128|Ut>>6&63)<<N[rt++&3],T[rt>>2]|=(128|Ut&63)<<N[rt++&3]):(Ut=65536+((Ut&1023)<<10|w.charCodeAt(++it)&1023),T[rt>>2]|=(240|Ut>>18)<<N[rt++&3],T[rt>>2]|=(128|Ut>>12&63)<<N[rt++&3],T[rt>>2]|=(128|Ut>>6&63)<<N[rt++&3],T[rt>>2]|=(128|Ut&63)<<N[rt++&3]);if(this.lastByteIndex=rt,rt>=K){for(this.start=rt-K,this.block=T[$],rt=0;rt<$;++rt)ot[rt]^=T[rt];X(ot),this.reset=!0}else this.start=rt}return this},b.prototype.encode=function(w,V){var P=w&255,T=1,K=[P];for(w=w>>8,P=w&255;P>0;)K.unshift(P),w=w>>8,P=w&255,++T;return V?K.push(T):K.unshift(T),this.update(K),K.length},b.prototype.encodeString=function(w){var V,P=typeof w;if(P!=="string"){if(P==="object"){if(w===null)throw new Error(t);if(g&&w.constructor===ArrayBuffer)w=new Uint8Array(w);else if(!Array.isArray(w)&&(!g||!ArrayBuffer.isView(w)))throw new Error(t)}else throw new Error(t);V=!0}var T=0,K=w.length;if(V)T=K;else for(var M=0;M<w.length;++M){var $=w.charCodeAt(M);$<128?T+=1:$<2048?T+=2:$<55296||$>=57344?T+=3:($=65536+(($&1023)<<10|w.charCodeAt(++M)&1023),T+=4)}return T+=this.encode(T*8),this.update(w),T},b.prototype.bytepad=function(w,V){for(var P=this.encode(V),T=0;T<w.length;++T)P+=this.encodeString(w[T]);var K=V-P%V,M=[];return M.length=K,this.update(M),this},b.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var w=this.blocks,V=this.lastByteIndex,P=this.blockCount,T=this.s;if(w[V>>2]|=this.padding[V&3],this.lastByteIndex===this.byteCount)for(w[0]=w[P],V=1;V<P+1;++V)w[V]=0;for(w[P-1]|=2147483648,V=0;V<P;++V)T[V]^=w[V];X(T)}},b.prototype.toString=b.prototype.hex=function(){this.finalize();for(var w=this.blockCount,V=this.s,P=this.outputBlocks,T=this.extraBytes,K=0,M=0,$="",it;M<P;){for(K=0;K<w&&M<P;++K,++M)it=V[K],$+=p[it>>4&15]+p[it&15]+p[it>>12&15]+p[it>>8&15]+p[it>>20&15]+p[it>>16&15]+p[it>>28&15]+p[it>>24&15];M%w===0&&(X(V),K=0)}return T&&(it=V[K],$+=p[it>>4&15]+p[it&15],T>1&&($+=p[it>>12&15]+p[it>>8&15]),T>2&&($+=p[it>>20&15]+p[it>>16&15])),$},b.prototype.arrayBuffer=function(){this.finalize();var w=this.blockCount,V=this.s,P=this.outputBlocks,T=this.extraBytes,K=0,M=0,$=this.outputBits>>3,it;T?it=new ArrayBuffer(P+1<<2):it=new ArrayBuffer($);for(var ot=new Uint32Array(it);M<P;){for(K=0;K<w&&M<P;++K,++M)ot[M]=V[K];M%w===0&&X(V)}return T&&(ot[K]=V[K],it=it.slice(0,$)),it},b.prototype.buffer=b.prototype.arrayBuffer,b.prototype.digest=b.prototype.array=function(){this.finalize();for(var w=this.blockCount,V=this.s,P=this.outputBlocks,T=this.extraBytes,K=0,M=0,$=[],it,ot;M<P;){for(K=0;K<w&&M<P;++K,++M)it=M<<2,ot=V[K],$[it]=ot&255,$[it+1]=ot>>8&255,$[it+2]=ot>>16&255,$[it+3]=ot>>24&255;M%w===0&&X(V)}return T&&(it=M<<2,ot=V[K],$[it]=ot&255,T>1&&($[it+1]=ot>>8&255),T>2&&($[it+2]=ot>>16&255)),$};function J(w,V,P){b.call(this,w,V,P)}J.prototype=new b,J.prototype.finalize=function(){return this.encode(this.outputBits,!0),b.prototype.finalize.call(this)};var X=function(w){var V,P,T,K,M,$,it,ot,rt,Ut,_t,wt,pe,Ot,bt,ee,pt,gt,ne,ft,mt,Zt,dt,At,re,Et,Mt,oe,xt,St,qe,qt,Ht,ze,Kt,Wt,ar,Rt,Nt,Ee,Tt,Pt,ge,Lt,Ft,Me,kt,$t,Ie,Bt,Dt,Ce,jt,Qt,_r,Yt,zt,cr,hr,ur,lr,fr,Ke;for(T=0;T<48;T+=2)K=w[0]^w[10]^w[20]^w[30]^w[40],M=w[1]^w[11]^w[21]^w[31]^w[41],$=w[2]^w[12]^w[22]^w[32]^w[42],it=w[3]^w[13]^w[23]^w[33]^w[43],ot=w[4]^w[14]^w[24]^w[34]^w[44],rt=w[5]^w[15]^w[25]^w[35]^w[45],Ut=w[6]^w[16]^w[26]^w[36]^w[46],_t=w[7]^w[17]^w[27]^w[37]^w[47],wt=w[8]^w[18]^w[28]^w[38]^w[48],pe=w[9]^w[19]^w[29]^w[39]^w[49],V=wt^($<<1|it>>>31),P=pe^(it<<1|$>>>31),w[0]^=V,w[1]^=P,w[10]^=V,w[11]^=P,w[20]^=V,w[21]^=P,w[30]^=V,w[31]^=P,w[40]^=V,w[41]^=P,V=K^(ot<<1|rt>>>31),P=M^(rt<<1|ot>>>31),w[2]^=V,w[3]^=P,w[12]^=V,w[13]^=P,w[22]^=V,w[23]^=P,w[32]^=V,w[33]^=P,w[42]^=V,w[43]^=P,V=$^(Ut<<1|_t>>>31),P=it^(_t<<1|Ut>>>31),w[4]^=V,w[5]^=P,w[14]^=V,w[15]^=P,w[24]^=V,w[25]^=P,w[34]^=V,w[35]^=P,w[44]^=V,w[45]^=P,V=ot^(wt<<1|pe>>>31),P=rt^(pe<<1|wt>>>31),w[6]^=V,w[7]^=P,w[16]^=V,w[17]^=P,w[26]^=V,w[27]^=P,w[36]^=V,w[37]^=P,w[46]^=V,w[47]^=P,V=Ut^(K<<1|M>>>31),P=_t^(M<<1|K>>>31),w[8]^=V,w[9]^=P,w[18]^=V,w[19]^=P,w[28]^=V,w[29]^=P,w[38]^=V,w[39]^=P,w[48]^=V,w[49]^=P,Ot=w[0],bt=w[1],Me=w[11]<<4|w[10]>>>28,kt=w[10]<<4|w[11]>>>28,oe=w[20]<<3|w[21]>>>29,xt=w[21]<<3|w[20]>>>29,ur=w[31]<<9|w[30]>>>23,lr=w[30]<<9|w[31]>>>23,Pt=w[40]<<18|w[41]>>>14,ge=w[41]<<18|w[40]>>>14,ze=w[2]<<1|w[3]>>>31,Kt=w[3]<<1|w[2]>>>31,ee=w[13]<<12|w[12]>>>20,pt=w[12]<<12|w[13]>>>20,$t=w[22]<<10|w[23]>>>22,Ie=w[23]<<10|w[22]>>>22,St=w[33]<<13|w[32]>>>19,qe=w[32]<<13|w[33]>>>19,fr=w[42]<<2|w[43]>>>30,Ke=w[43]<<2|w[42]>>>30,Qt=w[5]<<30|w[4]>>>2,_r=w[4]<<30|w[5]>>>2,Wt=w[14]<<6|w[15]>>>26,ar=w[15]<<6|w[14]>>>26,gt=w[25]<<11|w[24]>>>21,ne=w[24]<<11|w[25]>>>21,Bt=w[34]<<15|w[35]>>>17,Dt=w[35]<<15|w[34]>>>17,qt=w[45]<<29|w[44]>>>3,Ht=w[44]<<29|w[45]>>>3,At=w[6]<<28|w[7]>>>4,re=w[7]<<28|w[6]>>>4,Yt=w[17]<<23|w[16]>>>9,zt=w[16]<<23|w[17]>>>9,Rt=w[26]<<25|w[27]>>>7,Nt=w[27]<<25|w[26]>>>7,ft=w[36]<<21|w[37]>>>11,mt=w[37]<<21|w[36]>>>11,Ce=w[47]<<24|w[46]>>>8,jt=w[46]<<24|w[47]>>>8,Lt=w[8]<<27|w[9]>>>5,Ft=w[9]<<27|w[8]>>>5,Et=w[18]<<20|w[19]>>>12,Mt=w[19]<<20|w[18]>>>12,cr=w[29]<<7|w[28]>>>25,hr=w[28]<<7|w[29]>>>25,Ee=w[38]<<8|w[39]>>>24,Tt=w[39]<<8|w[38]>>>24,Zt=w[48]<<14|w[49]>>>18,dt=w[49]<<14|w[48]>>>18,w[0]=Ot^~ee&gt,w[1]=bt^~pt&ne,w[10]=At^~Et&oe,w[11]=re^~Mt&xt,w[20]=ze^~Wt&Rt,w[21]=Kt^~ar&Nt,w[30]=Lt^~Me&$t,w[31]=Ft^~kt&Ie,w[40]=Qt^~Yt&cr,w[41]=_r^~zt&hr,w[2]=ee^~gt&ft,w[3]=pt^~ne&mt,w[12]=Et^~oe&St,w[13]=Mt^~xt&qe,w[22]=Wt^~Rt&Ee,w[23]=ar^~Nt&Tt,w[32]=Me^~$t&Bt,w[33]=kt^~Ie&Dt,w[42]=Yt^~cr&ur,w[43]=zt^~hr&lr,w[4]=gt^~ft&Zt,w[5]=ne^~mt&dt,w[14]=oe^~St&qt,w[15]=xt^~qe&Ht,w[24]=Rt^~Ee&Pt,w[25]=Nt^~Tt&ge,w[34]=$t^~Bt&Ce,w[35]=Ie^~Dt&jt,w[44]=cr^~ur&fr,w[45]=hr^~lr&Ke,w[6]=ft^~Zt&Ot,w[7]=mt^~dt&bt,w[16]=St^~qt&At,w[17]=qe^~Ht&re,w[26]=Ee^~Pt&ze,w[27]=Tt^~ge&Kt,w[36]=Bt^~Ce&Lt,w[37]=Dt^~jt&Ft,w[46]=ur^~fr&Qt,w[47]=lr^~Ke&_r,w[8]=Zt^~Ot&ee,w[9]=dt^~bt&pt,w[18]=qt^~At&Et,w[19]=Ht^~re&Mt,w[28]=Pt^~ze&Wt,w[29]=ge^~Kt&ar,w[38]=Ce^~Lt&Me,w[39]=jt^~Ft&kt,w[48]=fr^~Qt&Yt,w[49]=Ke^~_r&zt,w[0]^=L[T],w[1]^=L[T+1]};if(d)e.exports=u;else for(v=0;v<f.length;++v)n[f[v]]=u[f[v]]})()})(qv),qv.exports;const kS="logger/5.7.0";let zv=!1,Hv=!1;const Xu={debug:1,default:2,info:2,warning:3,error:4,off:5};let Kv=Xu.default,gd=null;function jS(){try{const e=[];if(["NFD","NFC","NFKD","NFKC"].forEach(t=>{try{if("test".normalize(t)!=="test")throw new Error("bad normalize")}catch{e.push(t)}}),e.length)throw new Error("missing "+e.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(e){return e.message}return null}const Wv=jS();var md;(function(e){e.DEBUG="DEBUG",e.INFO="INFO",e.WARNING="WARNING",e.ERROR="ERROR",e.OFF="OFF"})(md||(md={}));var Nn;(function(e){e.UNKNOWN_ERROR="UNKNOWN_ERROR",e.NOT_IMPLEMENTED="NOT_IMPLEMENTED",e.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",e.NETWORK_ERROR="NETWORK_ERROR",e.SERVER_ERROR="SERVER_ERROR",e.TIMEOUT="TIMEOUT",e.BUFFER_OVERRUN="BUFFER_OVERRUN",e.NUMERIC_FAULT="NUMERIC_FAULT",e.MISSING_NEW="MISSING_NEW",e.INVALID_ARGUMENT="INVALID_ARGUMENT",e.MISSING_ARGUMENT="MISSING_ARGUMENT",e.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",e.CALL_EXCEPTION="CALL_EXCEPTION",e.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",e.NONCE_EXPIRED="NONCE_EXPIRED",e.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",e.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",e.TRANSACTION_REPLACED="TRANSACTION_REPLACED",e.ACTION_REJECTED="ACTION_REJECTED"})(Nn||(Nn={}));const Vv="0123456789abcdef";class Ae{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,r){const i=t.toLowerCase();Xu[i]==null&&this.throwArgumentError("invalid log level name","logLevel",t),!(Kv>Xu[i])&&console.log.apply(console,r)}debug(...t){this._log(Ae.levels.DEBUG,t)}info(...t){this._log(Ae.levels.INFO,t)}warn(...t){this._log(Ae.levels.WARNING,t)}makeError(t,r,i){if(Hv)return this.makeError("censored error",r,{});r||(r=Ae.errors.UNKNOWN_ERROR),i||(i={});const n=[];Object.keys(i).forEach(g=>{const p=i[g];try{if(p instanceof Uint8Array){let _="";for(let S=0;S<p.length;S++)_+=Vv[p[S]>>4],_+=Vv[p[S]&15];n.push(g+"=Uint8Array(0x"+_+")")}else n.push(g+"="+JSON.stringify(p))}catch{n.push(g+"="+JSON.stringify(i[g].toString()))}}),n.push(`code=${r}`),n.push(`version=${this.version}`);const s=t;let h="";switch(r){case Nn.NUMERIC_FAULT:{h="NUMERIC_FAULT";const g=t;switch(g){case"overflow":case"underflow":case"division-by-zero":h+="-"+g;break;case"negative-power":case"negative-width":h+="-unsupported";break;case"unbound-bitwise-result":h+="-unbound-result";break}break}case Nn.CALL_EXCEPTION:case Nn.INSUFFICIENT_FUNDS:case Nn.MISSING_NEW:case Nn.NONCE_EXPIRED:case Nn.REPLACEMENT_UNDERPRICED:case Nn.TRANSACTION_REPLACED:case Nn.UNPREDICTABLE_GAS_LIMIT:h=r;break}h&&(t+=" [ See: https://links.ethers.org/v5-errors-"+h+" ]"),n.length&&(t+=" ("+n.join(", ")+")");const d=new Error(t);return d.reason=s,d.code=r,Object.keys(i).forEach(function(g){d[g]=i[g]}),d}throwError(t,r,i){throw this.makeError(t,r,i)}throwArgumentError(t,r,i){return this.throwError(t,Ae.errors.INVALID_ARGUMENT,{argument:r,value:i})}assert(t,r,i,n){t||this.throwError(r,i,n)}assertArgument(t,r,i,n){t||this.throwArgumentError(r,i,n)}checkNormalize(t){Wv&&this.throwError("platform missing String.prototype.normalize",Ae.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Wv})}checkSafeUint53(t,r){typeof t=="number"&&(r==null&&(r="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(r,Ae.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(r,Ae.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,r,i){i?i=": "+i:i="",t<r&&this.throwError("missing argument"+i,Ae.errors.MISSING_ARGUMENT,{count:t,expectedCount:r}),t>r&&this.throwError("too many arguments"+i,Ae.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:r})}checkNew(t,r){(t===Object||t==null)&&this.throwError("missing new",Ae.errors.MISSING_NEW,{name:r.name})}checkAbstract(t,r){t===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ae.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):(t===Object||t==null)&&this.throwError("missing new",Ae.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return gd||(gd=new Ae(kS)),gd}static setCensorship(t,r){if(!t&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ae.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),zv){if(!t)return;this.globalLogger().throwError("error censorship permanent",Ae.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Hv=!!t,zv=!!r}static setLogLevel(t){const r=Xu[t.toLowerCase()];if(r==null){Ae.globalLogger().warn("invalid log level - "+t);return}Kv=r}static from(t){return new Ae(t)}}Ae.errors=Nn,Ae.levels=md;const qS="bytes/5.7.0",Xs=new Ae(qS);function Gv(e){return!!e.toHexString}function tl(e){return e.slice||(e.slice=function(){const t=Array.prototype.slice.call(arguments);return tl(new Uint8Array(Array.prototype.slice.apply(e,t)))}),e}function Qv(e){return typeof e=="number"&&e==e&&e%1===0}function hh(e){if(e==null)return!1;if(e.constructor===Uint8Array)return!0;if(typeof e=="string"||!Qv(e.length)||e.length<0)return!1;for(let t=0;t<e.length;t++){const r=e[t];if(!Qv(r)||r<0||r>=256)return!1}return!0}function Yv(e,t){if(t||(t={}),typeof e=="number"){Xs.checkSafeUint53(e,"invalid arrayify value");const r=[];for(;e;)r.unshift(e&255),e=parseInt(String(e/256));return r.length===0&&r.push(0),tl(new Uint8Array(r))}if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),Gv(e)&&(e=e.toHexString()),Fa(e)){let r=e.substring(2);r.length%2&&(t.hexPad==="left"?r="0"+r:t.hexPad==="right"?r+="0":Xs.throwArgumentError("hex data is odd-length","value",e));const i=[];for(let n=0;n<r.length;n+=2)i.push(parseInt(r.substring(n,n+2),16));return tl(new Uint8Array(i))}return hh(e)?tl(new Uint8Array(e)):Xs.throwArgumentError("invalid arrayify value","value",e)}function Fa(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||t&&e.length!==2+2*t)}const vd="0123456789abcdef";function Jv(e,t){if(t||(t={}),typeof e=="number"){Xs.checkSafeUint53(e,"invalid hexlify value");let r="";for(;e;)r=vd[e&15]+r,e=Math.floor(e/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof e=="bigint")return e=e.toString(16),e.length%2?"0x0"+e:"0x"+e;if(t.allowMissingPrefix&&typeof e=="string"&&e.substring(0,2)!=="0x"&&(e="0x"+e),Gv(e))return e.toHexString();if(Fa(e))return e.length%2&&(t.hexPad==="left"?e="0x0"+e.substring(2):t.hexPad==="right"?e+="0":Xs.throwArgumentError("hex data is odd-length","value",e)),e.toLowerCase();if(hh(e)){let r="0x";for(let i=0;i<e.length;i++){let n=e[i];r+=vd[(n&240)>>4]+vd[n&15]}return r}return Xs.throwArgumentError("invalid hexlify value","value",e)}function el(e,t){for(typeof e!="string"?e=Jv(e):Fa(e)||Xs.throwArgumentError("invalid hex string","value",e),e.length>2*t+2&&Xs.throwArgumentError("value out of range","value",arguments[1]);e.length<2*t+2;)e="0x0"+e.substring(2);return e}var Zv={exports:{}},zS={},HS=Object.freeze({__proto__:null,default:zS}),KS=FS(HS);(function(e){(function(t,r){function i(o,u){if(!o)throw new Error(u||"Assertion failed")}function n(o,u){o.super_=u;var f=function(){};f.prototype=u.prototype,o.prototype=new f,o.prototype.constructor=o}function s(o,u,f){if(s.isBN(o))return o;this.negative=0,this.words=null,this.length=0,this.red=null,o!==null&&((u==="le"||u==="be")&&(f=u,u=10),this._init(o||0,u||10,f||"be"))}typeof t=="object"?t.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var h;try{typeof window<"u"&&typeof window.Buffer<"u"?h=window.Buffer:h=KS.Buffer}catch{}s.isBN=function(o){return o instanceof s?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===s.wordSize&&Array.isArray(o.words)},s.max=function(o,u){return o.cmp(u)>0?o:u},s.min=function(o,u){return o.cmp(u)<0?o:u},s.prototype._init=function(o,u,f){if(typeof o=="number")return this._initNumber(o,u,f);if(typeof o=="object")return this._initArray(o,u,f);u==="hex"&&(u=16),i(u===(u|0)&&u>=2&&u<=36),o=o.toString().replace(/\s+/g,"");var v=0;o[0]==="-"&&(v++,this.negative=1),v<o.length&&(u===16?this._parseHex(o,v,f):(this._parseBase(o,u,v),f==="le"&&this._initArray(this.toArray(),u,f)))},s.prototype._initNumber=function(o,u,f){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(i(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),f==="le"&&this._initArray(this.toArray(),u,f)},s.prototype._initArray=function(o,u,f){if(i(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A,E,x=0;if(f==="be")for(v=o.length-1,A=0;v>=0;v-=3)E=o[v]|o[v-1]<<8|o[v-2]<<16,this.words[A]|=E<<x&67108863,this.words[A+1]=E>>>26-x&67108863,x+=24,x>=26&&(x-=26,A++);else if(f==="le")for(v=0,A=0;v<o.length;v+=3)E=o[v]|o[v+1]<<8|o[v+2]<<16,this.words[A]|=E<<x&67108863,this.words[A+1]=E>>>26-x&67108863,x+=24,x>=26&&(x-=26,A++);return this._strip()};function d(o,u){var f=o.charCodeAt(u);if(f>=48&&f<=57)return f-48;if(f>=65&&f<=70)return f-55;if(f>=97&&f<=102)return f-87;i(!1,"Invalid character in "+o)}function g(o,u,f){var v=d(o,f);return f-1>=u&&(v|=d(o,f-1)<<4),v}s.prototype._parseHex=function(o,u,f){this.length=Math.ceil((o.length-u)/6),this.words=new Array(this.length);for(var v=0;v<this.length;v++)this.words[v]=0;var A=0,E=0,x;if(f==="be")for(v=o.length-1;v>=u;v-=2)x=g(o,u,v)<<A,this.words[E]|=x&67108863,A>=18?(A-=18,E+=1,this.words[E]|=x>>>26):A+=8;else{var y=o.length-u;for(v=y%2===0?u+1:u;v<o.length;v+=2)x=g(o,u,v)<<A,this.words[E]|=x&67108863,A>=18?(A-=18,E+=1,this.words[E]|=x>>>26):A+=8}this._strip()};function p(o,u,f,v){for(var A=0,E=0,x=Math.min(o.length,f),y=u;y<x;y++){var c=o.charCodeAt(y)-48;A*=v,c>=49?E=c-49+10:c>=17?E=c-17+10:E=c,i(c>=0&&E<v,"Invalid character"),A+=E}return A}s.prototype._parseBase=function(o,u,f){this.words=[0],this.length=1;for(var v=0,A=1;A<=67108863;A*=u)v++;v--,A=A/u|0;for(var E=o.length-f,x=E%v,y=Math.min(E,E-x)+f,c=0,b=f;b<y;b+=v)c=p(o,b,b+v,u),this.imuln(A),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(x!==0){var J=1;for(c=p(o,b,o.length,u),b=0;b<x;b++)J*=u;this.imuln(J),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}this._strip()},s.prototype.copy=function(o){o.words=new Array(this.length);for(var u=0;u<this.length;u++)o.words[u]=this.words[u];o.length=this.length,o.negative=this.negative,o.red=this.red};function _(o,u){o.words=u.words,o.length=u.length,o.negative=u.negative,o.red=u.red}if(s.prototype._move=function(o){_(o,this)},s.prototype.clone=function(){var o=new s(null);return this.copy(o),o},s.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=S}catch{s.prototype.inspect=S}else s.prototype.inspect=S;function S(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var D=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],O=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],N=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(o,u){o=o||10,u=u|0||1;var f;if(o===16||o==="hex"){f="";for(var v=0,A=0,E=0;E<this.length;E++){var x=this.words[E],y=((x<<v|A)&16777215).toString(16);A=x>>>24-v&16777215,v+=2,v>=26&&(v-=26,E--),A!==0||E!==this.length-1?f=D[6-y.length]+y+f:f=y+f}for(A!==0&&(f=A.toString(16)+f);f.length%u!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}if(o===(o|0)&&o>=2&&o<=36){var c=O[o],b=N[o];f="";var J=this.clone();for(J.negative=0;!J.isZero();){var X=J.modrn(b).toString(o);J=J.idivn(b),J.isZero()?f=X+f:f=D[c-X.length]+X+f}for(this.isZero()&&(f="0"+f);f.length%u!==0;)f="0"+f;return this.negative!==0&&(f="-"+f),f}i(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&i(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},s.prototype.toJSON=function(){return this.toString(16,2)},h&&(s.prototype.toBuffer=function(o,u){return this.toArrayLike(h,o,u)}),s.prototype.toArray=function(o,u){return this.toArrayLike(Array,o,u)};var L=function(o,u){return o.allocUnsafe?o.allocUnsafe(u):new o(u)};s.prototype.toArrayLike=function(o,u,f){this._strip();var v=this.byteLength(),A=f||Math.max(1,v);i(v<=A,"byte array longer than desired length"),i(A>0,"Requested array length <= 0");var E=L(o,A),x=u==="le"?"LE":"BE";return this["_toArrayLike"+x](E,v),E},s.prototype._toArrayLikeLE=function(o,u){for(var f=0,v=0,A=0,E=0;A<this.length;A++){var x=this.words[A]<<E|v;o[f++]=x&255,f<o.length&&(o[f++]=x>>8&255),f<o.length&&(o[f++]=x>>16&255),E===6?(f<o.length&&(o[f++]=x>>24&255),v=0,E=0):(v=x>>>24,E+=2)}if(f<o.length)for(o[f++]=v;f<o.length;)o[f++]=0},s.prototype._toArrayLikeBE=function(o,u){for(var f=o.length-1,v=0,A=0,E=0;A<this.length;A++){var x=this.words[A]<<E|v;o[f--]=x&255,f>=0&&(o[f--]=x>>8&255),f>=0&&(o[f--]=x>>16&255),E===6?(f>=0&&(o[f--]=x>>24&255),v=0,E=0):(v=x>>>24,E+=2)}if(f>=0)for(o[f--]=v;f>=0;)o[f--]=0},Math.clz32?s.prototype._countBits=function(o){return 32-Math.clz32(o)}:s.prototype._countBits=function(o){var u=o,f=0;return u>=4096&&(f+=13,u>>>=13),u>=64&&(f+=7,u>>>=7),u>=8&&(f+=4,u>>>=4),u>=2&&(f+=2,u>>>=2),f+u},s.prototype._zeroBits=function(o){if(o===0)return 26;var u=o,f=0;return u&8191||(f+=13,u>>>=13),u&127||(f+=7,u>>>=7),u&15||(f+=4,u>>>=4),u&3||(f+=2,u>>>=2),u&1||f++,f},s.prototype.bitLength=function(){var o=this.words[this.length-1],u=this._countBits(o);return(this.length-1)*26+u};function z(o){for(var u=new Array(o.bitLength()),f=0;f<u.length;f++){var v=f/26|0,A=f%26;u[f]=o.words[v]>>>A&1}return u}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,u=0;u<this.length;u++){var f=this._zeroBits(this.words[u]);if(o+=f,f!==26)break}return o},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},s.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var u=0;u<o.length;u++)this.words[u]=this.words[u]|o.words[u];return this._strip()},s.prototype.ior=function(o){return i((this.negative|o.negative)===0),this.iuor(o)},s.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},s.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},s.prototype.iuand=function(o){var u;this.length>o.length?u=o:u=this;for(var f=0;f<u.length;f++)this.words[f]=this.words[f]&o.words[f];return this.length=u.length,this._strip()},s.prototype.iand=function(o){return i((this.negative|o.negative)===0),this.iuand(o)},s.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},s.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},s.prototype.iuxor=function(o){var u,f;this.length>o.length?(u=this,f=o):(u=o,f=this);for(var v=0;v<f.length;v++)this.words[v]=u.words[v]^f.words[v];if(this!==u)for(;v<u.length;v++)this.words[v]=u.words[v];return this.length=u.length,this._strip()},s.prototype.ixor=function(o){return i((this.negative|o.negative)===0),this.iuxor(o)},s.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},s.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},s.prototype.inotn=function(o){i(typeof o=="number"&&o>=0);var u=Math.ceil(o/26)|0,f=o%26;this._expand(u),f>0&&u--;for(var v=0;v<u;v++)this.words[v]=~this.words[v]&67108863;return f>0&&(this.words[v]=~this.words[v]&67108863>>26-f),this._strip()},s.prototype.notn=function(o){return this.clone().inotn(o)},s.prototype.setn=function(o,u){i(typeof o=="number"&&o>=0);var f=o/26|0,v=o%26;return this._expand(f+1),u?this.words[f]=this.words[f]|1<<v:this.words[f]=this.words[f]&~(1<<v),this._strip()},s.prototype.iadd=function(o){var u;if(this.negative!==0&&o.negative===0)return this.negative=0,u=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,u=this.isub(o),o.negative=1,u._normSign();var f,v;this.length>o.length?(f=this,v=o):(f=o,v=this);for(var A=0,E=0;E<v.length;E++)u=(f.words[E]|0)+(v.words[E]|0)+A,this.words[E]=u&67108863,A=u>>>26;for(;A!==0&&E<f.length;E++)u=(f.words[E]|0)+A,this.words[E]=u&67108863,A=u>>>26;if(this.length=f.length,A!==0)this.words[this.length]=A,this.length++;else if(f!==this)for(;E<f.length;E++)this.words[E]=f.words[E];return this},s.prototype.add=function(o){var u;return o.negative!==0&&this.negative===0?(o.negative=0,u=this.sub(o),o.negative^=1,u):o.negative===0&&this.negative!==0?(this.negative=0,u=o.sub(this),this.negative=1,u):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},s.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var u=this.iadd(o);return o.negative=1,u._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var f=this.cmp(o);if(f===0)return this.negative=0,this.length=1,this.words[0]=0,this;var v,A;f>0?(v=this,A=o):(v=o,A=this);for(var E=0,x=0;x<A.length;x++)u=(v.words[x]|0)-(A.words[x]|0)+E,E=u>>26,this.words[x]=u&67108863;for(;E!==0&&x<v.length;x++)u=(v.words[x]|0)+E,E=u>>26,this.words[x]=u&67108863;if(E===0&&x<v.length&&v!==this)for(;x<v.length;x++)this.words[x]=v.words[x];return this.length=Math.max(this.length,x),v!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(o){return this.clone().isub(o)};function G(o,u,f){f.negative=u.negative^o.negative;var v=o.length+u.length|0;f.length=v,v=v-1|0;var A=o.words[0]|0,E=u.words[0]|0,x=A*E,y=x&67108863,c=x/67108864|0;f.words[0]=y;for(var b=1;b<v;b++){for(var J=c>>>26,X=c&67108863,w=Math.min(b,u.length-1),V=Math.max(0,b-o.length+1);V<=w;V++){var P=b-V|0;A=o.words[P]|0,E=u.words[V]|0,x=A*E+X,J+=x/67108864|0,X=x&67108863}f.words[b]=X|0,c=J|0}return c!==0?f.words[b]=c|0:f.length--,f._strip()}var q=function(o,u,f){var v=o.words,A=u.words,E=f.words,x=0,y,c,b,J=v[0]|0,X=J&8191,w=J>>>13,V=v[1]|0,P=V&8191,T=V>>>13,K=v[2]|0,M=K&8191,$=K>>>13,it=v[3]|0,ot=it&8191,rt=it>>>13,Ut=v[4]|0,_t=Ut&8191,wt=Ut>>>13,pe=v[5]|0,Ot=pe&8191,bt=pe>>>13,ee=v[6]|0,pt=ee&8191,gt=ee>>>13,ne=v[7]|0,ft=ne&8191,mt=ne>>>13,Zt=v[8]|0,dt=Zt&8191,At=Zt>>>13,re=v[9]|0,Et=re&8191,Mt=re>>>13,oe=A[0]|0,xt=oe&8191,St=oe>>>13,qe=A[1]|0,qt=qe&8191,Ht=qe>>>13,ze=A[2]|0,Kt=ze&8191,Wt=ze>>>13,ar=A[3]|0,Rt=ar&8191,Nt=ar>>>13,Ee=A[4]|0,Tt=Ee&8191,Pt=Ee>>>13,ge=A[5]|0,Lt=ge&8191,Ft=ge>>>13,Me=A[6]|0,kt=Me&8191,$t=Me>>>13,Ie=A[7]|0,Bt=Ie&8191,Dt=Ie>>>13,Ce=A[8]|0,jt=Ce&8191,Qt=Ce>>>13,_r=A[9]|0,Yt=_r&8191,zt=_r>>>13;f.negative=o.negative^u.negative,f.length=19,y=Math.imul(X,xt),c=Math.imul(X,St),c=c+Math.imul(w,xt)|0,b=Math.imul(w,St);var cr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(cr>>>26)|0,cr&=67108863,y=Math.imul(P,xt),c=Math.imul(P,St),c=c+Math.imul(T,xt)|0,b=Math.imul(T,St),y=y+Math.imul(X,qt)|0,c=c+Math.imul(X,Ht)|0,c=c+Math.imul(w,qt)|0,b=b+Math.imul(w,Ht)|0;var hr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(hr>>>26)|0,hr&=67108863,y=Math.imul(M,xt),c=Math.imul(M,St),c=c+Math.imul($,xt)|0,b=Math.imul($,St),y=y+Math.imul(P,qt)|0,c=c+Math.imul(P,Ht)|0,c=c+Math.imul(T,qt)|0,b=b+Math.imul(T,Ht)|0,y=y+Math.imul(X,Kt)|0,c=c+Math.imul(X,Wt)|0,c=c+Math.imul(w,Kt)|0,b=b+Math.imul(w,Wt)|0;var ur=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(ur>>>26)|0,ur&=67108863,y=Math.imul(ot,xt),c=Math.imul(ot,St),c=c+Math.imul(rt,xt)|0,b=Math.imul(rt,St),y=y+Math.imul(M,qt)|0,c=c+Math.imul(M,Ht)|0,c=c+Math.imul($,qt)|0,b=b+Math.imul($,Ht)|0,y=y+Math.imul(P,Kt)|0,c=c+Math.imul(P,Wt)|0,c=c+Math.imul(T,Kt)|0,b=b+Math.imul(T,Wt)|0,y=y+Math.imul(X,Rt)|0,c=c+Math.imul(X,Nt)|0,c=c+Math.imul(w,Rt)|0,b=b+Math.imul(w,Nt)|0;var lr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(lr>>>26)|0,lr&=67108863,y=Math.imul(_t,xt),c=Math.imul(_t,St),c=c+Math.imul(wt,xt)|0,b=Math.imul(wt,St),y=y+Math.imul(ot,qt)|0,c=c+Math.imul(ot,Ht)|0,c=c+Math.imul(rt,qt)|0,b=b+Math.imul(rt,Ht)|0,y=y+Math.imul(M,Kt)|0,c=c+Math.imul(M,Wt)|0,c=c+Math.imul($,Kt)|0,b=b+Math.imul($,Wt)|0,y=y+Math.imul(P,Rt)|0,c=c+Math.imul(P,Nt)|0,c=c+Math.imul(T,Rt)|0,b=b+Math.imul(T,Nt)|0,y=y+Math.imul(X,Tt)|0,c=c+Math.imul(X,Pt)|0,c=c+Math.imul(w,Tt)|0,b=b+Math.imul(w,Pt)|0;var fr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(fr>>>26)|0,fr&=67108863,y=Math.imul(Ot,xt),c=Math.imul(Ot,St),c=c+Math.imul(bt,xt)|0,b=Math.imul(bt,St),y=y+Math.imul(_t,qt)|0,c=c+Math.imul(_t,Ht)|0,c=c+Math.imul(wt,qt)|0,b=b+Math.imul(wt,Ht)|0,y=y+Math.imul(ot,Kt)|0,c=c+Math.imul(ot,Wt)|0,c=c+Math.imul(rt,Kt)|0,b=b+Math.imul(rt,Wt)|0,y=y+Math.imul(M,Rt)|0,c=c+Math.imul(M,Nt)|0,c=c+Math.imul($,Rt)|0,b=b+Math.imul($,Nt)|0,y=y+Math.imul(P,Tt)|0,c=c+Math.imul(P,Pt)|0,c=c+Math.imul(T,Tt)|0,b=b+Math.imul(T,Pt)|0,y=y+Math.imul(X,Lt)|0,c=c+Math.imul(X,Ft)|0,c=c+Math.imul(w,Lt)|0,b=b+Math.imul(w,Ft)|0;var Ke=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,y=Math.imul(pt,xt),c=Math.imul(pt,St),c=c+Math.imul(gt,xt)|0,b=Math.imul(gt,St),y=y+Math.imul(Ot,qt)|0,c=c+Math.imul(Ot,Ht)|0,c=c+Math.imul(bt,qt)|0,b=b+Math.imul(bt,Ht)|0,y=y+Math.imul(_t,Kt)|0,c=c+Math.imul(_t,Wt)|0,c=c+Math.imul(wt,Kt)|0,b=b+Math.imul(wt,Wt)|0,y=y+Math.imul(ot,Rt)|0,c=c+Math.imul(ot,Nt)|0,c=c+Math.imul(rt,Rt)|0,b=b+Math.imul(rt,Nt)|0,y=y+Math.imul(M,Tt)|0,c=c+Math.imul(M,Pt)|0,c=c+Math.imul($,Tt)|0,b=b+Math.imul($,Pt)|0,y=y+Math.imul(P,Lt)|0,c=c+Math.imul(P,Ft)|0,c=c+Math.imul(T,Lt)|0,b=b+Math.imul(T,Ft)|0,y=y+Math.imul(X,kt)|0,c=c+Math.imul(X,$t)|0,c=c+Math.imul(w,kt)|0,b=b+Math.imul(w,$t)|0;var kr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(kr>>>26)|0,kr&=67108863,y=Math.imul(ft,xt),c=Math.imul(ft,St),c=c+Math.imul(mt,xt)|0,b=Math.imul(mt,St),y=y+Math.imul(pt,qt)|0,c=c+Math.imul(pt,Ht)|0,c=c+Math.imul(gt,qt)|0,b=b+Math.imul(gt,Ht)|0,y=y+Math.imul(Ot,Kt)|0,c=c+Math.imul(Ot,Wt)|0,c=c+Math.imul(bt,Kt)|0,b=b+Math.imul(bt,Wt)|0,y=y+Math.imul(_t,Rt)|0,c=c+Math.imul(_t,Nt)|0,c=c+Math.imul(wt,Rt)|0,b=b+Math.imul(wt,Nt)|0,y=y+Math.imul(ot,Tt)|0,c=c+Math.imul(ot,Pt)|0,c=c+Math.imul(rt,Tt)|0,b=b+Math.imul(rt,Pt)|0,y=y+Math.imul(M,Lt)|0,c=c+Math.imul(M,Ft)|0,c=c+Math.imul($,Lt)|0,b=b+Math.imul($,Ft)|0,y=y+Math.imul(P,kt)|0,c=c+Math.imul(P,$t)|0,c=c+Math.imul(T,kt)|0,b=b+Math.imul(T,$t)|0,y=y+Math.imul(X,Bt)|0,c=c+Math.imul(X,Dt)|0,c=c+Math.imul(w,Bt)|0,b=b+Math.imul(w,Dt)|0;var gi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(gi>>>26)|0,gi&=67108863,y=Math.imul(dt,xt),c=Math.imul(dt,St),c=c+Math.imul(At,xt)|0,b=Math.imul(At,St),y=y+Math.imul(ft,qt)|0,c=c+Math.imul(ft,Ht)|0,c=c+Math.imul(mt,qt)|0,b=b+Math.imul(mt,Ht)|0,y=y+Math.imul(pt,Kt)|0,c=c+Math.imul(pt,Wt)|0,c=c+Math.imul(gt,Kt)|0,b=b+Math.imul(gt,Wt)|0,y=y+Math.imul(Ot,Rt)|0,c=c+Math.imul(Ot,Nt)|0,c=c+Math.imul(bt,Rt)|0,b=b+Math.imul(bt,Nt)|0,y=y+Math.imul(_t,Tt)|0,c=c+Math.imul(_t,Pt)|0,c=c+Math.imul(wt,Tt)|0,b=b+Math.imul(wt,Pt)|0,y=y+Math.imul(ot,Lt)|0,c=c+Math.imul(ot,Ft)|0,c=c+Math.imul(rt,Lt)|0,b=b+Math.imul(rt,Ft)|0,y=y+Math.imul(M,kt)|0,c=c+Math.imul(M,$t)|0,c=c+Math.imul($,kt)|0,b=b+Math.imul($,$t)|0,y=y+Math.imul(P,Bt)|0,c=c+Math.imul(P,Dt)|0,c=c+Math.imul(T,Bt)|0,b=b+Math.imul(T,Dt)|0,y=y+Math.imul(X,jt)|0,c=c+Math.imul(X,Qt)|0,c=c+Math.imul(w,jt)|0,b=b+Math.imul(w,Qt)|0;var jr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(jr>>>26)|0,jr&=67108863,y=Math.imul(Et,xt),c=Math.imul(Et,St),c=c+Math.imul(Mt,xt)|0,b=Math.imul(Mt,St),y=y+Math.imul(dt,qt)|0,c=c+Math.imul(dt,Ht)|0,c=c+Math.imul(At,qt)|0,b=b+Math.imul(At,Ht)|0,y=y+Math.imul(ft,Kt)|0,c=c+Math.imul(ft,Wt)|0,c=c+Math.imul(mt,Kt)|0,b=b+Math.imul(mt,Wt)|0,y=y+Math.imul(pt,Rt)|0,c=c+Math.imul(pt,Nt)|0,c=c+Math.imul(gt,Rt)|0,b=b+Math.imul(gt,Nt)|0,y=y+Math.imul(Ot,Tt)|0,c=c+Math.imul(Ot,Pt)|0,c=c+Math.imul(bt,Tt)|0,b=b+Math.imul(bt,Pt)|0,y=y+Math.imul(_t,Lt)|0,c=c+Math.imul(_t,Ft)|0,c=c+Math.imul(wt,Lt)|0,b=b+Math.imul(wt,Ft)|0,y=y+Math.imul(ot,kt)|0,c=c+Math.imul(ot,$t)|0,c=c+Math.imul(rt,kt)|0,b=b+Math.imul(rt,$t)|0,y=y+Math.imul(M,Bt)|0,c=c+Math.imul(M,Dt)|0,c=c+Math.imul($,Bt)|0,b=b+Math.imul($,Dt)|0,y=y+Math.imul(P,jt)|0,c=c+Math.imul(P,Qt)|0,c=c+Math.imul(T,jt)|0,b=b+Math.imul(T,Qt)|0,y=y+Math.imul(X,Yt)|0,c=c+Math.imul(X,zt)|0,c=c+Math.imul(w,Yt)|0,b=b+Math.imul(w,zt)|0;var mi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(mi>>>26)|0,mi&=67108863,y=Math.imul(Et,qt),c=Math.imul(Et,Ht),c=c+Math.imul(Mt,qt)|0,b=Math.imul(Mt,Ht),y=y+Math.imul(dt,Kt)|0,c=c+Math.imul(dt,Wt)|0,c=c+Math.imul(At,Kt)|0,b=b+Math.imul(At,Wt)|0,y=y+Math.imul(ft,Rt)|0,c=c+Math.imul(ft,Nt)|0,c=c+Math.imul(mt,Rt)|0,b=b+Math.imul(mt,Nt)|0,y=y+Math.imul(pt,Tt)|0,c=c+Math.imul(pt,Pt)|0,c=c+Math.imul(gt,Tt)|0,b=b+Math.imul(gt,Pt)|0,y=y+Math.imul(Ot,Lt)|0,c=c+Math.imul(Ot,Ft)|0,c=c+Math.imul(bt,Lt)|0,b=b+Math.imul(bt,Ft)|0,y=y+Math.imul(_t,kt)|0,c=c+Math.imul(_t,$t)|0,c=c+Math.imul(wt,kt)|0,b=b+Math.imul(wt,$t)|0,y=y+Math.imul(ot,Bt)|0,c=c+Math.imul(ot,Dt)|0,c=c+Math.imul(rt,Bt)|0,b=b+Math.imul(rt,Dt)|0,y=y+Math.imul(M,jt)|0,c=c+Math.imul(M,Qt)|0,c=c+Math.imul($,jt)|0,b=b+Math.imul($,Qt)|0,y=y+Math.imul(P,Yt)|0,c=c+Math.imul(P,zt)|0,c=c+Math.imul(T,Yt)|0,b=b+Math.imul(T,zt)|0;var vi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(vi>>>26)|0,vi&=67108863,y=Math.imul(Et,Kt),c=Math.imul(Et,Wt),c=c+Math.imul(Mt,Kt)|0,b=Math.imul(Mt,Wt),y=y+Math.imul(dt,Rt)|0,c=c+Math.imul(dt,Nt)|0,c=c+Math.imul(At,Rt)|0,b=b+Math.imul(At,Nt)|0,y=y+Math.imul(ft,Tt)|0,c=c+Math.imul(ft,Pt)|0,c=c+Math.imul(mt,Tt)|0,b=b+Math.imul(mt,Pt)|0,y=y+Math.imul(pt,Lt)|0,c=c+Math.imul(pt,Ft)|0,c=c+Math.imul(gt,Lt)|0,b=b+Math.imul(gt,Ft)|0,y=y+Math.imul(Ot,kt)|0,c=c+Math.imul(Ot,$t)|0,c=c+Math.imul(bt,kt)|0,b=b+Math.imul(bt,$t)|0,y=y+Math.imul(_t,Bt)|0,c=c+Math.imul(_t,Dt)|0,c=c+Math.imul(wt,Bt)|0,b=b+Math.imul(wt,Dt)|0,y=y+Math.imul(ot,jt)|0,c=c+Math.imul(ot,Qt)|0,c=c+Math.imul(rt,jt)|0,b=b+Math.imul(rt,Qt)|0,y=y+Math.imul(M,Yt)|0,c=c+Math.imul(M,zt)|0,c=c+Math.imul($,Yt)|0,b=b+Math.imul($,zt)|0;var qr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(qr>>>26)|0,qr&=67108863,y=Math.imul(Et,Rt),c=Math.imul(Et,Nt),c=c+Math.imul(Mt,Rt)|0,b=Math.imul(Mt,Nt),y=y+Math.imul(dt,Tt)|0,c=c+Math.imul(dt,Pt)|0,c=c+Math.imul(At,Tt)|0,b=b+Math.imul(At,Pt)|0,y=y+Math.imul(ft,Lt)|0,c=c+Math.imul(ft,Ft)|0,c=c+Math.imul(mt,Lt)|0,b=b+Math.imul(mt,Ft)|0,y=y+Math.imul(pt,kt)|0,c=c+Math.imul(pt,$t)|0,c=c+Math.imul(gt,kt)|0,b=b+Math.imul(gt,$t)|0,y=y+Math.imul(Ot,Bt)|0,c=c+Math.imul(Ot,Dt)|0,c=c+Math.imul(bt,Bt)|0,b=b+Math.imul(bt,Dt)|0,y=y+Math.imul(_t,jt)|0,c=c+Math.imul(_t,Qt)|0,c=c+Math.imul(wt,jt)|0,b=b+Math.imul(wt,Qt)|0,y=y+Math.imul(ot,Yt)|0,c=c+Math.imul(ot,zt)|0,c=c+Math.imul(rt,Yt)|0,b=b+Math.imul(rt,zt)|0;var ni=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(ni>>>26)|0,ni&=67108863,y=Math.imul(Et,Tt),c=Math.imul(Et,Pt),c=c+Math.imul(Mt,Tt)|0,b=Math.imul(Mt,Pt),y=y+Math.imul(dt,Lt)|0,c=c+Math.imul(dt,Ft)|0,c=c+Math.imul(At,Lt)|0,b=b+Math.imul(At,Ft)|0,y=y+Math.imul(ft,kt)|0,c=c+Math.imul(ft,$t)|0,c=c+Math.imul(mt,kt)|0,b=b+Math.imul(mt,$t)|0,y=y+Math.imul(pt,Bt)|0,c=c+Math.imul(pt,Dt)|0,c=c+Math.imul(gt,Bt)|0,b=b+Math.imul(gt,Dt)|0,y=y+Math.imul(Ot,jt)|0,c=c+Math.imul(Ot,Qt)|0,c=c+Math.imul(bt,jt)|0,b=b+Math.imul(bt,Qt)|0,y=y+Math.imul(_t,Yt)|0,c=c+Math.imul(_t,zt)|0,c=c+Math.imul(wt,Yt)|0,b=b+Math.imul(wt,zt)|0;var si=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(si>>>26)|0,si&=67108863,y=Math.imul(Et,Lt),c=Math.imul(Et,Ft),c=c+Math.imul(Mt,Lt)|0,b=Math.imul(Mt,Ft),y=y+Math.imul(dt,kt)|0,c=c+Math.imul(dt,$t)|0,c=c+Math.imul(At,kt)|0,b=b+Math.imul(At,$t)|0,y=y+Math.imul(ft,Bt)|0,c=c+Math.imul(ft,Dt)|0,c=c+Math.imul(mt,Bt)|0,b=b+Math.imul(mt,Dt)|0,y=y+Math.imul(pt,jt)|0,c=c+Math.imul(pt,Qt)|0,c=c+Math.imul(gt,jt)|0,b=b+Math.imul(gt,Qt)|0,y=y+Math.imul(Ot,Yt)|0,c=c+Math.imul(Ot,zt)|0,c=c+Math.imul(bt,Yt)|0,b=b+Math.imul(bt,zt)|0;var wr=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(wr>>>26)|0,wr&=67108863,y=Math.imul(Et,kt),c=Math.imul(Et,$t),c=c+Math.imul(Mt,kt)|0,b=Math.imul(Mt,$t),y=y+Math.imul(dt,Bt)|0,c=c+Math.imul(dt,Dt)|0,c=c+Math.imul(At,Bt)|0,b=b+Math.imul(At,Dt)|0,y=y+Math.imul(ft,jt)|0,c=c+Math.imul(ft,Qt)|0,c=c+Math.imul(mt,jt)|0,b=b+Math.imul(mt,Qt)|0,y=y+Math.imul(pt,Yt)|0,c=c+Math.imul(pt,zt)|0,c=c+Math.imul(gt,Yt)|0,b=b+Math.imul(gt,zt)|0;var wi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(wi>>>26)|0,wi&=67108863,y=Math.imul(Et,Bt),c=Math.imul(Et,Dt),c=c+Math.imul(Mt,Bt)|0,b=Math.imul(Mt,Dt),y=y+Math.imul(dt,jt)|0,c=c+Math.imul(dt,Qt)|0,c=c+Math.imul(At,jt)|0,b=b+Math.imul(At,Qt)|0,y=y+Math.imul(ft,Yt)|0,c=c+Math.imul(ft,zt)|0,c=c+Math.imul(mt,Yt)|0,b=b+Math.imul(mt,zt)|0;var yi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(yi>>>26)|0,yi&=67108863,y=Math.imul(Et,jt),c=Math.imul(Et,Qt),c=c+Math.imul(Mt,jt)|0,b=Math.imul(Mt,Qt),y=y+Math.imul(dt,Yt)|0,c=c+Math.imul(dt,zt)|0,c=c+Math.imul(At,Yt)|0,b=b+Math.imul(At,zt)|0;var bi=(x+y|0)+((c&8191)<<13)|0;x=(b+(c>>>13)|0)+(bi>>>26)|0,bi&=67108863,y=Math.imul(Et,Yt),c=Math.imul(Et,zt),c=c+Math.imul(Mt,Yt)|0,b=Math.imul(Mt,zt);var Ai=(x+y|0)+((c&8191)<<13)|0;return x=(b+(c>>>13)|0)+(Ai>>>26)|0,Ai&=67108863,E[0]=cr,E[1]=hr,E[2]=ur,E[3]=lr,E[4]=fr,E[5]=Ke,E[6]=kr,E[7]=gi,E[8]=jr,E[9]=mi,E[10]=vi,E[11]=qr,E[12]=ni,E[13]=si,E[14]=wr,E[15]=wi,E[16]=yi,E[17]=bi,E[18]=Ai,x!==0&&(E[19]=x,f.length++),f};Math.imul||(q=G);function W(o,u,f){f.negative=u.negative^o.negative,f.length=o.length+u.length;for(var v=0,A=0,E=0;E<f.length-1;E++){var x=A;A=0;for(var y=v&67108863,c=Math.min(E,u.length-1),b=Math.max(0,E-o.length+1);b<=c;b++){var J=E-b,X=o.words[J]|0,w=u.words[b]|0,V=X*w,P=V&67108863;x=x+(V/67108864|0)|0,P=P+y|0,y=P&67108863,x=x+(P>>>26)|0,A+=x>>>26,x&=67108863}f.words[E]=y,v=x,x=A}return v!==0?f.words[E]=v:f.length--,f._strip()}function B(o,u,f){return W(o,u,f)}s.prototype.mulTo=function(o,u){var f,v=this.length+o.length;return this.length===10&&o.length===10?f=q(this,o,u):v<63?f=G(this,o,u):v<1024?f=W(this,o,u):f=B(this,o,u),f},s.prototype.mul=function(o){var u=new s(null);return u.words=new Array(this.length+o.length),this.mulTo(o,u)},s.prototype.mulf=function(o){var u=new s(null);return u.words=new Array(this.length+o.length),B(this,o,u)},s.prototype.imul=function(o){return this.clone().mulTo(o,this)},s.prototype.imuln=function(o){var u=o<0;u&&(o=-o),i(typeof o=="number"),i(o<67108864);for(var f=0,v=0;v<this.length;v++){var A=(this.words[v]|0)*o,E=(A&67108863)+(f&67108863);f>>=26,f+=A/67108864|0,f+=E>>>26,this.words[v]=E&67108863}return f!==0&&(this.words[v]=f,this.length++),u?this.ineg():this},s.prototype.muln=function(o){return this.clone().imuln(o)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(o){var u=z(o);if(u.length===0)return new s(1);for(var f=this,v=0;v<u.length&&u[v]===0;v++,f=f.sqr());if(++v<u.length)for(var A=f.sqr();v<u.length;v++,A=A.sqr())u[v]!==0&&(f=f.mul(A));return f},s.prototype.iushln=function(o){i(typeof o=="number"&&o>=0);var u=o%26,f=(o-u)/26,v=67108863>>>26-u<<26-u,A;if(u!==0){var E=0;for(A=0;A<this.length;A++){var x=this.words[A]&v,y=(this.words[A]|0)-x<<u;this.words[A]=y|E,E=x>>>26-u}E&&(this.words[A]=E,this.length++)}if(f!==0){for(A=this.length-1;A>=0;A--)this.words[A+f]=this.words[A];for(A=0;A<f;A++)this.words[A]=0;this.length+=f}return this._strip()},s.prototype.ishln=function(o){return i(this.negative===0),this.iushln(o)},s.prototype.iushrn=function(o,u,f){i(typeof o=="number"&&o>=0);var v;u?v=(u-u%26)/26:v=0;var A=o%26,E=Math.min((o-A)/26,this.length),x=67108863^67108863>>>A<<A,y=f;if(v-=E,v=Math.max(0,v),y){for(var c=0;c<E;c++)y.words[c]=this.words[c];y.length=E}if(E!==0)if(this.length>E)for(this.length-=E,c=0;c<this.length;c++)this.words[c]=this.words[c+E];else this.words[0]=0,this.length=1;var b=0;for(c=this.length-1;c>=0&&(b!==0||c>=v);c--){var J=this.words[c]|0;this.words[c]=b<<26-A|J>>>A,b=J&x}return y&&b!==0&&(y.words[y.length++]=b),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(o,u,f){return i(this.negative===0),this.iushrn(o,u,f)},s.prototype.shln=function(o){return this.clone().ishln(o)},s.prototype.ushln=function(o){return this.clone().iushln(o)},s.prototype.shrn=function(o){return this.clone().ishrn(o)},s.prototype.ushrn=function(o){return this.clone().iushrn(o)},s.prototype.testn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,f=(o-u)/26,v=1<<u;if(this.length<=f)return!1;var A=this.words[f];return!!(A&v)},s.prototype.imaskn=function(o){i(typeof o=="number"&&o>=0);var u=o%26,f=(o-u)/26;if(i(this.negative===0,"imaskn works only with positive numbers"),this.length<=f)return this;if(u!==0&&f++,this.length=Math.min(f,this.length),u!==0){var v=67108863^67108863>>>u<<u;this.words[this.length-1]&=v}return this._strip()},s.prototype.maskn=function(o){return this.clone().imaskn(o)},s.prototype.iaddn=function(o){return i(typeof o=="number"),i(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},s.prototype._iaddn=function(o){this.words[0]+=o;for(var u=0;u<this.length&&this.words[u]>=67108864;u++)this.words[u]-=67108864,u===this.length-1?this.words[u+1]=1:this.words[u+1]++;return this.length=Math.max(this.length,u+1),this},s.prototype.isubn=function(o){if(i(typeof o=="number"),i(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var u=0;u<this.length&&this.words[u]<0;u++)this.words[u]+=67108864,this.words[u+1]-=1;return this._strip()},s.prototype.addn=function(o){return this.clone().iaddn(o)},s.prototype.subn=function(o){return this.clone().isubn(o)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(o,u,f){var v=o.length+f,A;this._expand(v);var E,x=0;for(A=0;A<o.length;A++){E=(this.words[A+f]|0)+x;var y=(o.words[A]|0)*u;E-=y&67108863,x=(E>>26)-(y/67108864|0),this.words[A+f]=E&67108863}for(;A<this.length-f;A++)E=(this.words[A+f]|0)+x,x=E>>26,this.words[A+f]=E&67108863;if(x===0)return this._strip();for(i(x===-1),x=0,A=0;A<this.length;A++)E=-(this.words[A]|0)+x,x=E>>26,this.words[A]=E&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(o,u){var f=this.length-o.length,v=this.clone(),A=o,E=A.words[A.length-1]|0,x=this._countBits(E);f=26-x,f!==0&&(A=A.ushln(f),v.iushln(f),E=A.words[A.length-1]|0);var y=v.length-A.length,c;if(u!=="mod"){c=new s(null),c.length=y+1,c.words=new Array(c.length);for(var b=0;b<c.length;b++)c.words[b]=0}var J=v.clone()._ishlnsubmul(A,1,y);J.negative===0&&(v=J,c&&(c.words[y]=1));for(var X=y-1;X>=0;X--){var w=(v.words[A.length+X]|0)*67108864+(v.words[A.length+X-1]|0);for(w=Math.min(w/E|0,67108863),v._ishlnsubmul(A,w,X);v.negative!==0;)w--,v.negative=0,v._ishlnsubmul(A,1,X),v.isZero()||(v.negative^=1);c&&(c.words[X]=w)}return c&&c._strip(),v._strip(),u!=="div"&&f!==0&&v.iushrn(f),{div:c||null,mod:v}},s.prototype.divmod=function(o,u,f){if(i(!o.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var v,A,E;return this.negative!==0&&o.negative===0?(E=this.neg().divmod(o,u),u!=="mod"&&(v=E.div.neg()),u!=="div"&&(A=E.mod.neg(),f&&A.negative!==0&&A.iadd(o)),{div:v,mod:A}):this.negative===0&&o.negative!==0?(E=this.divmod(o.neg(),u),u!=="mod"&&(v=E.div.neg()),{div:v,mod:E.mod}):this.negative&o.negative?(E=this.neg().divmod(o.neg(),u),u!=="div"&&(A=E.mod.neg(),f&&A.negative!==0&&A.isub(o)),{div:E.div,mod:A}):o.length>this.length||this.cmp(o)<0?{div:new s(0),mod:this}:o.length===1?u==="div"?{div:this.divn(o.words[0]),mod:null}:u==="mod"?{div:null,mod:new s(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new s(this.modrn(o.words[0]))}:this._wordDiv(o,u)},s.prototype.div=function(o){return this.divmod(o,"div",!1).div},s.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},s.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},s.prototype.divRound=function(o){var u=this.divmod(o);if(u.mod.isZero())return u.div;var f=u.div.negative!==0?u.mod.isub(o):u.mod,v=o.ushrn(1),A=o.andln(1),E=f.cmp(v);return E<0||A===1&&E===0?u.div:u.div.negative!==0?u.div.isubn(1):u.div.iaddn(1)},s.prototype.modrn=function(o){var u=o<0;u&&(o=-o),i(o<=67108863);for(var f=(1<<26)%o,v=0,A=this.length-1;A>=0;A--)v=(f*v+(this.words[A]|0))%o;return u?-v:v},s.prototype.modn=function(o){return this.modrn(o)},s.prototype.idivn=function(o){var u=o<0;u&&(o=-o),i(o<=67108863);for(var f=0,v=this.length-1;v>=0;v--){var A=(this.words[v]|0)+f*67108864;this.words[v]=A/o|0,f=A%o}return this._strip(),u?this.ineg():this},s.prototype.divn=function(o){return this.clone().idivn(o)},s.prototype.egcd=function(o){i(o.negative===0),i(!o.isZero());var u=this,f=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var v=new s(1),A=new s(0),E=new s(0),x=new s(1),y=0;u.isEven()&&f.isEven();)u.iushrn(1),f.iushrn(1),++y;for(var c=f.clone(),b=u.clone();!u.isZero();){for(var J=0,X=1;!(u.words[0]&X)&&J<26;++J,X<<=1);if(J>0)for(u.iushrn(J);J-- >0;)(v.isOdd()||A.isOdd())&&(v.iadd(c),A.isub(b)),v.iushrn(1),A.iushrn(1);for(var w=0,V=1;!(f.words[0]&V)&&w<26;++w,V<<=1);if(w>0)for(f.iushrn(w);w-- >0;)(E.isOdd()||x.isOdd())&&(E.iadd(c),x.isub(b)),E.iushrn(1),x.iushrn(1);u.cmp(f)>=0?(u.isub(f),v.isub(E),A.isub(x)):(f.isub(u),E.isub(v),x.isub(A))}return{a:E,b:x,gcd:f.iushln(y)}},s.prototype._invmp=function(o){i(o.negative===0),i(!o.isZero());var u=this,f=o.clone();u.negative!==0?u=u.umod(o):u=u.clone();for(var v=new s(1),A=new s(0),E=f.clone();u.cmpn(1)>0&&f.cmpn(1)>0;){for(var x=0,y=1;!(u.words[0]&y)&&x<26;++x,y<<=1);if(x>0)for(u.iushrn(x);x-- >0;)v.isOdd()&&v.iadd(E),v.iushrn(1);for(var c=0,b=1;!(f.words[0]&b)&&c<26;++c,b<<=1);if(c>0)for(f.iushrn(c);c-- >0;)A.isOdd()&&A.iadd(E),A.iushrn(1);u.cmp(f)>=0?(u.isub(f),v.isub(A)):(f.isub(u),A.isub(v))}var J;return u.cmpn(1)===0?J=v:J=A,J.cmpn(0)<0&&J.iadd(o),J},s.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var u=this.clone(),f=o.clone();u.negative=0,f.negative=0;for(var v=0;u.isEven()&&f.isEven();v++)u.iushrn(1),f.iushrn(1);do{for(;u.isEven();)u.iushrn(1);for(;f.isEven();)f.iushrn(1);var A=u.cmp(f);if(A<0){var E=u;u=f,f=E}else if(A===0||f.cmpn(1)===0)break;u.isub(f)}while(!0);return f.iushln(v)},s.prototype.invm=function(o){return this.egcd(o).a.umod(o)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(o){return this.words[0]&o},s.prototype.bincn=function(o){i(typeof o=="number");var u=o%26,f=(o-u)/26,v=1<<u;if(this.length<=f)return this._expand(f+1),this.words[f]|=v,this;for(var A=v,E=f;A!==0&&E<this.length;E++){var x=this.words[E]|0;x+=A,A=x>>>26,x&=67108863,this.words[E]=x}return A!==0&&(this.words[E]=A,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(o){var u=o<0;if(this.negative!==0&&!u)return-1;if(this.negative===0&&u)return 1;this._strip();var f;if(this.length>1)f=1;else{u&&(o=-o),i(o<=67108863,"Number is too big");var v=this.words[0]|0;f=v===o?0:v<o?-1:1}return this.negative!==0?-f|0:f},s.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var u=this.ucmp(o);return this.negative!==0?-u|0:u},s.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var u=0,f=this.length-1;f>=0;f--){var v=this.words[f]|0,A=o.words[f]|0;if(v!==A){v<A?u=-1:v>A&&(u=1);break}}return u},s.prototype.gtn=function(o){return this.cmpn(o)===1},s.prototype.gt=function(o){return this.cmp(o)===1},s.prototype.gten=function(o){return this.cmpn(o)>=0},s.prototype.gte=function(o){return this.cmp(o)>=0},s.prototype.ltn=function(o){return this.cmpn(o)===-1},s.prototype.lt=function(o){return this.cmp(o)===-1},s.prototype.lten=function(o){return this.cmpn(o)<=0},s.prototype.lte=function(o){return this.cmp(o)<=0},s.prototype.eqn=function(o){return this.cmpn(o)===0},s.prototype.eq=function(o){return this.cmp(o)===0},s.red=function(o){return new Z(o)},s.prototype.toRed=function(o){return i(!this.red,"Already a number in reduction context"),i(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},s.prototype.fromRed=function(){return i(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(o){return this.red=o,this},s.prototype.forceRed=function(o){return i(!this.red,"Already a number in reduction context"),this._forceRed(o)},s.prototype.redAdd=function(o){return i(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},s.prototype.redIAdd=function(o){return i(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},s.prototype.redSub=function(o){return i(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},s.prototype.redISub=function(o){return i(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},s.prototype.redShl=function(o){return i(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},s.prototype.redMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},s.prototype.redIMul=function(o){return i(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},s.prototype.redSqr=function(){return i(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return i(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return i(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return i(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return i(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(o){return i(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var k={k256:null,p224:null,p192:null,p25519:null};function j(o,u){this.name=o,this.p=new s(u,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}j.prototype._tmp=function(){var o=new s(null);return o.words=new Array(Math.ceil(this.n/13)),o},j.prototype.ireduce=function(o){var u=o,f;do this.split(u,this.tmp),u=this.imulK(u),u=u.iadd(this.tmp),f=u.bitLength();while(f>this.n);var v=f<this.n?-1:u.ucmp(this.p);return v===0?(u.words[0]=0,u.length=1):v>0?u.isub(this.p):u.strip!==void 0?u.strip():u._strip(),u},j.prototype.split=function(o,u){o.iushrn(this.n,0,u)},j.prototype.imulK=function(o){return o.imul(this.k)};function I(){j.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}n(I,j),I.prototype.split=function(o,u){for(var f=4194303,v=Math.min(o.length,9),A=0;A<v;A++)u.words[A]=o.words[A];if(u.length=v,o.length<=9){o.words[0]=0,o.length=1;return}var E=o.words[9];for(u.words[u.length++]=E&f,A=10;A<o.length;A++){var x=o.words[A]|0;o.words[A-10]=(x&f)<<4|E>>>22,E=x}E>>>=22,o.words[A-10]=E,E===0&&o.length>10?o.length-=10:o.length-=9},I.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var u=0,f=0;f<o.length;f++){var v=o.words[f]|0;u+=v*977,o.words[f]=u&67108863,u=v*64+(u/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function U(){j.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}n(U,j);function et(){j.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}n(et,j);function ct(){j.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}n(ct,j),ct.prototype.imulK=function(o){for(var u=0,f=0;f<o.length;f++){var v=(o.words[f]|0)*19+u,A=v&67108863;v>>>=26,o.words[f]=A,u=v}return u!==0&&(o.words[o.length++]=u),o},s._prime=function(o){if(k[o])return k[o];var u;if(o==="k256")u=new I;else if(o==="p224")u=new U;else if(o==="p192")u=new et;else if(o==="p25519")u=new ct;else throw new Error("Unknown prime "+o);return k[o]=u,u};function Z(o){if(typeof o=="string"){var u=s._prime(o);this.m=u.p,this.prime=u}else i(o.gtn(1),"modulus must be greater than 1"),this.m=o,this.prime=null}Z.prototype._verify1=function(o){i(o.negative===0,"red works only with positives"),i(o.red,"red works only with red numbers")},Z.prototype._verify2=function(o,u){i((o.negative|u.negative)===0,"red works only with positives"),i(o.red&&o.red===u.red,"red works only with red numbers")},Z.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(_(o,o.umod(this.m)._forceRed(this)),o)},Z.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},Z.prototype.add=function(o,u){this._verify2(o,u);var f=o.add(u);return f.cmp(this.m)>=0&&f.isub(this.m),f._forceRed(this)},Z.prototype.iadd=function(o,u){this._verify2(o,u);var f=o.iadd(u);return f.cmp(this.m)>=0&&f.isub(this.m),f},Z.prototype.sub=function(o,u){this._verify2(o,u);var f=o.sub(u);return f.cmpn(0)<0&&f.iadd(this.m),f._forceRed(this)},Z.prototype.isub=function(o,u){this._verify2(o,u);var f=o.isub(u);return f.cmpn(0)<0&&f.iadd(this.m),f},Z.prototype.shl=function(o,u){return this._verify1(o),this.imod(o.ushln(u))},Z.prototype.imul=function(o,u){return this._verify2(o,u),this.imod(o.imul(u))},Z.prototype.mul=function(o,u){return this._verify2(o,u),this.imod(o.mul(u))},Z.prototype.isqr=function(o){return this.imul(o,o.clone())},Z.prototype.sqr=function(o){return this.mul(o,o)},Z.prototype.sqrt=function(o){if(o.isZero())return o.clone();var u=this.m.andln(3);if(i(u%2===1),u===3){var f=this.m.add(new s(1)).iushrn(2);return this.pow(o,f)}for(var v=this.m.subn(1),A=0;!v.isZero()&&v.andln(1)===0;)A++,v.iushrn(1);i(!v.isZero());var E=new s(1).toRed(this),x=E.redNeg(),y=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new s(2*c*c).toRed(this);this.pow(c,y).cmp(x)!==0;)c.redIAdd(x);for(var b=this.pow(c,v),J=this.pow(o,v.addn(1).iushrn(1)),X=this.pow(o,v),w=A;X.cmp(E)!==0;){for(var V=X,P=0;V.cmp(E)!==0;P++)V=V.redSqr();i(P<w);var T=this.pow(b,new s(1).iushln(w-P-1));J=J.redMul(T),b=T.redSqr(),X=X.redMul(b),w=P}return J},Z.prototype.invm=function(o){var u=o._invmp(this.m);return u.negative!==0?(u.negative=0,this.imod(u).redNeg()):this.imod(u)},Z.prototype.pow=function(o,u){if(u.isZero())return new s(1).toRed(this);if(u.cmpn(1)===0)return o.clone();var f=4,v=new Array(1<<f);v[0]=new s(1).toRed(this),v[1]=o;for(var A=2;A<v.length;A++)v[A]=this.mul(v[A-1],o);var E=v[0],x=0,y=0,c=u.bitLength()%26;for(c===0&&(c=26),A=u.length-1;A>=0;A--){for(var b=u.words[A],J=c-1;J>=0;J--){var X=b>>J&1;if(E!==v[0]&&(E=this.sqr(E)),X===0&&x===0){y=0;continue}x<<=1,x|=X,y++,!(y!==f&&(A!==0||J!==0))&&(E=this.mul(E,v[x]),y=0,x=0)}c=26}return E},Z.prototype.convertTo=function(o){var u=o.umod(this.m);return u===o?u.clone():u},Z.prototype.convertFrom=function(o){var u=o.clone();return u.red=null,u},s.mont=function(o){return new ut(o)};function ut(o){Z.call(this,o),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}n(ut,Z),ut.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},ut.prototype.convertFrom=function(o){var u=this.imod(o.mul(this.rinv));return u.red=null,u},ut.prototype.imul=function(o,u){if(o.isZero()||u.isZero())return o.words[0]=0,o.length=1,o;var f=o.imul(u),v=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=f.isub(v).iushrn(this.shift),E=A;return A.cmp(this.m)>=0?E=A.isub(this.m):A.cmpn(0)<0&&(E=A.iadd(this.m)),E._forceRed(this)},ut.prototype.mul=function(o,u){if(o.isZero()||u.isZero())return new s(0)._forceRed(this);var f=o.mul(u),v=f.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=f.isub(v).iushrn(this.shift),E=A;return A.cmp(this.m)>=0?E=A.isub(this.m):A.cmpn(0)<0&&(E=A.iadd(this.m)),E._forceRed(this)},ut.prototype.invm=function(o){var u=this.imod(o._invmp(this.m).mul(this.r2));return u._forceRed(this)}})(e,jv)})(Zv);var de=Zv.exports;const Xv="bignumber/5.7.0";var wd=de.BN;const Cs=new Ae(Xv),yd={},tw=9007199254740991;function WS(e){return e!=null&&(or.isBigNumber(e)||typeof e=="number"&&e%1===0||typeof e=="string"&&!!e.match(/^-?[0-9]+$/)||Fa(e)||typeof e=="bigint"||hh(e))}let ew=!1;class or{constructor(t,r){t!==yd&&Cs.throwError("cannot call constructor directly; use BigNumber.from",Ae.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(t){return Pi(Te(this).fromTwos(t))}toTwos(t){return Pi(Te(this).toTwos(t))}abs(){return this._hex[0]==="-"?or.from(this._hex.substring(1)):this}add(t){return Pi(Te(this).add(Te(t)))}sub(t){return Pi(Te(this).sub(Te(t)))}div(t){return or.from(t).isZero()&&cn("division-by-zero","div"),Pi(Te(this).div(Te(t)))}mul(t){return Pi(Te(this).mul(Te(t)))}mod(t){const r=Te(t);return r.isNeg()&&cn("division-by-zero","mod"),Pi(Te(this).umod(r))}pow(t){const r=Te(t);return r.isNeg()&&cn("negative-power","pow"),Pi(Te(this).pow(r))}and(t){const r=Te(t);return(this.isNegative()||r.isNeg())&&cn("unbound-bitwise-result","and"),Pi(Te(this).and(r))}or(t){const r=Te(t);return(this.isNegative()||r.isNeg())&&cn("unbound-bitwise-result","or"),Pi(Te(this).or(r))}xor(t){const r=Te(t);return(this.isNegative()||r.isNeg())&&cn("unbound-bitwise-result","xor"),Pi(Te(this).xor(r))}mask(t){return(this.isNegative()||t<0)&&cn("negative-width","mask"),Pi(Te(this).maskn(t))}shl(t){return(this.isNegative()||t<0)&&cn("negative-width","shl"),Pi(Te(this).shln(t))}shr(t){return(this.isNegative()||t<0)&&cn("negative-width","shr"),Pi(Te(this).shrn(t))}eq(t){return Te(this).eq(Te(t))}lt(t){return Te(this).lt(Te(t))}lte(t){return Te(this).lte(Te(t))}gt(t){return Te(this).gt(Te(t))}gte(t){return Te(this).gte(Te(t))}isNegative(){return this._hex[0]==="-"}isZero(){return Te(this).isZero()}toNumber(){try{return Te(this).toNumber()}catch{cn("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Cs.throwError("this platform does not support BigInt",Ae.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?ew||(ew=!0,Cs.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Cs.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ae.errors.UNEXPECTED_ARGUMENT,{}):Cs.throwError("BigNumber.toString does not accept parameters",Ae.errors.UNEXPECTED_ARGUMENT,{})),Te(this).toString(10)}toHexString(){return this._hex}toJSON(t){return{type:"BigNumber",hex:this.toHexString()}}static from(t){if(t instanceof or)return t;if(typeof t=="string")return t.match(/^-?0x[0-9a-f]+$/i)?new or(yd,uh(t)):t.match(/^-?[0-9]+$/)?new or(yd,uh(new wd(t))):Cs.throwArgumentError("invalid BigNumber string","value",t);if(typeof t=="number")return t%1&&cn("underflow","BigNumber.from",t),(t>=tw||t<=-tw)&&cn("overflow","BigNumber.from",t),or.from(String(t));const r=t;if(typeof r=="bigint")return or.from(r.toString());if(hh(r))return or.from(Jv(r));if(r)if(r.toHexString){const i=r.toHexString();if(typeof i=="string")return or.from(i)}else{let i=r._hex;if(i==null&&r.type==="BigNumber"&&(i=r.hex),typeof i=="string"&&(Fa(i)||i[0]==="-"&&Fa(i.substring(1))))return or.from(i)}return Cs.throwArgumentError("invalid BigNumber value","value",t)}static isBigNumber(t){return!!(t&&t._isBigNumber)}}function uh(e){if(typeof e!="string")return uh(e.toString(16));if(e[0]==="-")return e=e.substring(1),e[0]==="-"&&Cs.throwArgumentError("invalid hex","value",e),e=uh(e),e==="0x00"?e:"-"+e;if(e.substring(0,2)!=="0x"&&(e="0x"+e),e==="0x")return"0x00";for(e.length%2&&(e="0x0"+e.substring(2));e.length>4&&e.substring(0,4)==="0x00";)e="0x"+e.substring(4);return e}function Pi(e){return or.from(uh(e))}function Te(e){const t=or.from(e).toHexString();return t[0]==="-"?new wd("-"+t.substring(3),16):new wd(t.substring(2),16)}function cn(e,t,r){const i={fault:e,operation:t};return r!=null&&(i.value=r),Cs.throwError(e,Ae.errors.NUMERIC_FAULT,i)}const li=new Ae(Xv),lh={},rw=or.from(0),iw=or.from(-1);function nw(e,t,r,i){const n={fault:t,operation:r};return i!==void 0&&(n.value=i),li.throwError(e,Ae.errors.NUMERIC_FAULT,n)}let fh="0";for(;fh.length<256;)fh+=fh;function bd(e){if(typeof e!="number")try{e=or.from(e).toNumber()}catch{}return typeof e=="number"&&e>=0&&e<=256&&!(e%1)?"1"+fh.substring(0,e):li.throwArgumentError("invalid decimal size","decimals",e)}function Ad(e,t){t==null&&(t=0);const r=bd(t);e=or.from(e);const i=e.lt(rw);i&&(e=e.mul(iw));let n=e.mod(r).toString();for(;n.length<r.length-1;)n="0"+n;n=n.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=e.div(r).toString();return r.length===1?e=s:e=s+"."+n,i&&(e="-"+e),e}function Ds(e,t){t==null&&(t=0);const r=bd(t);(typeof e!="string"||!e.match(/^-?[0-9.]+$/))&&li.throwArgumentError("invalid decimal value","value",e);const i=e.substring(0,1)==="-";i&&(e=e.substring(1)),e==="."&&li.throwArgumentError("missing value","value",e);const n=e.split(".");n.length>2&&li.throwArgumentError("too many decimal points","value",e);let s=n[0],h=n[1];for(s||(s="0"),h||(h="0");h[h.length-1]==="0";)h=h.substring(0,h.length-1);for(h.length>r.length-1&&nw("fractional component exceeds decimals","underflow","parseFixed"),h===""&&(h="0");h.length<r.length-1;)h+="0";const d=or.from(s),g=or.from(h);let p=d.mul(r).add(g);return i&&(p=p.mul(iw)),p}class ka{constructor(t,r,i,n){t!==lh&&li.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Ae.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=i,this.decimals=n,this.name=(r?"":"u")+"fixed"+String(i)+"x"+String(n),this._multiplier=bd(n),Object.freeze(this)}static from(t){if(t instanceof ka)return t;typeof t=="number"&&(t=`fixed128x${t}`);let r=!0,i=128,n=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")r=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||li.throwArgumentError("invalid fixed format","format",t),r=s[1]!=="u",i=parseInt(s[2]),n=parseInt(s[3])}}else if(t){const s=(h,d,g)=>t[h]==null?g:(typeof t[h]!==d&&li.throwArgumentError("invalid fixed format ("+h+" not "+d+")","format."+h,t[h]),t[h]);r=s("signed","boolean",r),i=s("width","number",i),n=s("decimals","number",n)}return i%8&&li.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",i),n>80&&li.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",n),new ka(lh,r,i,n)}}class Qr{constructor(t,r,i,n){t!==lh&&li.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Ae.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=n,this._hex=r,this._value=i,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(t){this.format.name!==t.format.name&&li.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",t)}addUnsafe(t){this._checkFormat(t);const r=Ds(this._value,this.format.decimals),i=Ds(t._value,t.format.decimals);return Qr.fromValue(r.add(i),this.format.decimals,this.format)}subUnsafe(t){this._checkFormat(t);const r=Ds(this._value,this.format.decimals),i=Ds(t._value,t.format.decimals);return Qr.fromValue(r.sub(i),this.format.decimals,this.format)}mulUnsafe(t){this._checkFormat(t);const r=Ds(this._value,this.format.decimals),i=Ds(t._value,t.format.decimals);return Qr.fromValue(r.mul(i).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(t){this._checkFormat(t);const r=Ds(this._value,this.format.decimals),i=Ds(t._value,t.format.decimals);return Qr.fromValue(r.mul(this.format._multiplier).div(i),this.format.decimals,this.format)}floor(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Qr.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return this.isNegative()&&i&&(r=r.subUnsafe(sw.toFormat(r.format))),r}ceiling(){const t=this.toString().split(".");t.length===1&&t.push("0");let r=Qr.from(t[0],this.format);const i=!t[1].match(/^(0*)$/);return!this.isNegative()&&i&&(r=r.addUnsafe(sw.toFormat(r.format))),r}round(t){t==null&&(t=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(t<0||t>80||t%1)&&li.throwArgumentError("invalid decimal count","decimals",t),r[1].length<=t)return this;const i=Qr.from("1"+fh.substring(0,t),this.format),n=VS.toFormat(this.format);return this.mulUnsafe(i).addUnsafe(n).floor().divUnsafe(i)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(t){if(t==null)return this._hex;t%8&&li.throwArgumentError("invalid byte width","width",t);const r=or.from(this._hex).fromTwos(this.format.width).toTwos(t).toHexString();return el(r,t/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(t){return Qr.fromString(this._value,t)}static fromValue(t,r,i){return i==null&&r!=null&&!WS(r)&&(i=r,r=null),r==null&&(r=0),i==null&&(i="fixed"),Qr.fromString(Ad(t,r),ka.from(i))}static fromString(t,r){r==null&&(r="fixed");const i=ka.from(r),n=Ds(t,i.decimals);!i.signed&&n.lt(rw)&&nw("unsigned value cannot be negative","overflow","value",t);let s=null;i.signed?s=n.toTwos(i.width).toHexString():(s=n.toHexString(),s=el(s,i.width/8));const h=Ad(n,i.decimals);return new Qr(lh,s,h,i)}static fromBytes(t,r){r==null&&(r="fixed");const i=ka.from(r);if(Yv(t).length>i.width/8)throw new Error("overflow");let n=or.from(t);i.signed&&(n=n.fromTwos(i.width));const s=n.toTwos((i.signed?0:1)+i.width).toHexString(),h=Ad(n,i.decimals);return new Qr(lh,s,h,i)}static from(t,r){if(typeof t=="string")return Qr.fromString(t,r);if(hh(t))return Qr.fromBytes(t,r);try{return Qr.fromValue(t,0,r)}catch(i){if(i.code!==Ae.errors.INVALID_ARGUMENT)throw i}return li.throwArgumentError("invalid FixedNumber value","value",t)}static isFixedNumber(t){return!!(t&&t._isFixedNumber)}}const sw=Qr.from(1),VS=Qr.from("0.5"),GS="strings/5.7.0",QS=new Ae(GS);var ow;(function(e){e.current="",e.NFC="NFC",e.NFD="NFD",e.NFKC="NFKC",e.NFKD="NFKD"})(ow||(ow={}));var ja;(function(e){e.UNEXPECTED_CONTINUE="unexpected continuation byte",e.BAD_PREFIX="bad codepoint prefix",e.OVERRUN="string overrun",e.MISSING_CONTINUE="missing continuation byte",e.OUT_OF_RANGE="out of UTF-8 range",e.UTF16_SURROGATE="UTF-16 surrogate",e.OVERLONG="overlong representation"})(ja||(ja={}));function YS(e,t,r,i,n){return QS.throwArgumentError(`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function aw(e,t,r,i,n){if(e===ja.BAD_PREFIX||e===ja.UNEXPECTED_CONTINUE){let s=0;for(let h=t+1;h<r.length&&r[h]>>6===2;h++)s++;return s}return e===ja.OVERRUN?r.length-t-1:0}function JS(e,t,r,i,n){return e===ja.OVERLONG?(i.push(n),0):(i.push(65533),aw(e,t,r))}Object.freeze({error:YS,ignore:aw,replace:JS});function ZS(e){if(e.length%4!==0)throw new Error("bad data");let t=[];for(let r=0;r<e.length;r+=4)t.push(parseInt(e.substring(r,r+4),16));return t}function _d(e,t){t||(t=function(n){return[parseInt(n,16)]});let r=0,i={};return e.split(",").forEach(n=>{let s=n.split(":");r+=parseInt(s[0],16),i[r]=t(s[1])}),i}function cw(e){let t=0;return e.split(",").map(r=>{let i=r.split("-");i.length===1?i[1]="0":i[1]===""&&(i[1]="1");let n=t+parseInt(i[0],16);return t=parseInt(i[1],16),{l:n,h:t}})}cw("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),"ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(e=>parseInt(e,16)),_d("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),_d("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),_d("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",ZS),cw("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");const hw="hash/5.7.0";function XS(e){e=atob(e);const t=[];for(let r=0;r<e.length;r++)t.push(e.charCodeAt(r));return Yv(t)}function uw(e,t){t==null&&(t=1);const r=[],i=r.forEach,n=function(s,h){i.call(s,function(d){h>0&&Array.isArray(d)?n(d,h-1):r.push(d)})};return n(e,t),r}function tI(e){const t={};for(let r=0;r<e.length;r++){const i=e[r];t[i[0]]=i[1]}return t}function eI(e){let t=0;function r(){return e[t++]<<8|e[t++]}let i=r(),n=1,s=[0,1];for(let k=1;k<i;k++)s.push(n+=r());let h=r(),d=t;t+=h;let g=0,p=0;function _(){return g==0&&(p=p<<8|e[t++],g=8),p>>--g&1}const S=31,D=Math.pow(2,S),O=D>>>1,N=O>>1,L=D-1;let z=0;for(let k=0;k<S;k++)z=z<<1|_();let G=[],q=0,W=D;for(;;){let k=Math.floor(((z-q+1)*n-1)/W),j=0,I=i;for(;I-j>1;){let ct=j+I>>>1;k<s[ct]?I=ct:j=ct}if(j==0)break;G.push(j);let U=q+Math.floor(W*s[j]/n),et=q+Math.floor(W*s[j+1]/n)-1;for(;!((U^et)&O);)z=z<<1&L|_(),U=U<<1&L,et=et<<1&L|1;for(;U&~et&N;)z=z&O|z<<1&L>>>1|_(),U=U<<1^O,et=(et^O)<<1|O|1;q=U,W=1+et-U}let B=i-4;return G.map(k=>{switch(k-B){case 3:return B+65792+(e[d++]<<16|e[d++]<<8|e[d++]);case 2:return B+256+(e[d++]<<8|e[d++]);case 1:return B+e[d++];default:return k-1}})}function rI(e){let t=0;return()=>e[t++]}function iI(e){return rI(eI(e))}function nI(e){return e&1?~e>>1:e>>1}function sI(e,t){let r=Array(e);for(let i=0;i<e;i++)r[i]=1+t();return r}function lw(e,t){let r=Array(e);for(let i=0,n=-1;i<e;i++)r[i]=n+=1+t();return r}function oI(e,t){let r=Array(e);for(let i=0,n=0;i<e;i++)r[i]=n+=nI(t());return r}function rl(e,t){let r=lw(e(),e),i=e(),n=lw(i,e),s=sI(i,e);for(let h=0;h<i;h++)for(let d=0;d<s[h];d++)r.push(n[h]+d);return t?r.map(h=>t[h]):r}function aI(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(hI(r,e))}for(;;){let r=e()-1;if(r<0)break;t.push(uI(r,e))}return tI(uw(t))}function cI(e){let t=[];for(;;){let r=e();if(r==0)break;t.push(r)}return t}function fw(e,t,r){let i=Array(e).fill(void 0).map(()=>[]);for(let n=0;n<t;n++)oI(e,r).forEach((s,h)=>i[h].push(s));return i}function hI(e,t){let r=1+t(),i=t(),n=cI(t),s=fw(n.length,1+e,t);return uw(s.map((h,d)=>{const g=h[0],p=h.slice(1);return Array(n[d]).fill(void 0).map((_,S)=>{let D=S*i;return[g+S*r,p.map(O=>O+D)]})}))}function uI(e,t){let r=1+t();return fw(r,1+e,t).map(i=>[i[0],i.slice(1)])}function lI(e){let t=rl(e).sort((i,n)=>i-n);return r();function r(){let i=[];for(;;){let p=rl(e,t);if(p.length==0)break;i.push({set:new Set(p),node:r()})}i.sort((p,_)=>_.set.size-p.set.size);let n=e(),s=n%3;n=n/3|0;let h=!!(n&1);n>>=1;let d=n==1,g=n==2;return{branches:i,valid:s,fe0f:h,save:d,check:g}}}function fI(){return iI(XS("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const il=fI();new Set(rl(il)),new Set(rl(il)),aI(il),lI(il),new Ae(hw),new Uint8Array(32).fill(0);const dI="rlp/5.7.0";new Ae(dI);const pI="address/5.7.0";new Ae(pI);const gI="properties/5.7.0";new Ae(gI),new Ae(hw),new Uint8Array(32).fill(0),or.from(-1);const mI=or.from(0),vI=or.from(1);or.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),el(vI.toHexString(),32),el(mI.toHexString(),32);var ts={},$e={},dh=dw;function dw(e,t){if(!e)throw new Error(t||"Assertion failed")}dw.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var Ed={exports:{}};typeof Object.create=="function"?Ed.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Ed.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}};var wI=dh,yI=Ed.exports;$e.inherits=yI;function bI(e,t){return(e.charCodeAt(t)&64512)!==55296||t<0||t+1>=e.length?!1:(e.charCodeAt(t+1)&64512)===56320}function AI(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if(typeof e=="string")if(t){if(t==="hex")for(e=e.replace(/[^a-z0-9]+/ig,""),e.length%2!==0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var i=0,n=0;n<e.length;n++){var s=e.charCodeAt(n);s<128?r[i++]=s:s<2048?(r[i++]=s>>6|192,r[i++]=s&63|128):bI(e,n)?(s=65536+((s&1023)<<10)+(e.charCodeAt(++n)&1023),r[i++]=s>>18|240,r[i++]=s>>12&63|128,r[i++]=s>>6&63|128,r[i++]=s&63|128):(r[i++]=s>>12|224,r[i++]=s>>6&63|128,r[i++]=s&63|128)}else for(n=0;n<e.length;n++)r[n]=e[n]|0;return r}$e.toArray=AI;function _I(e){for(var t="",r=0;r<e.length;r++)t+=gw(e[r].toString(16));return t}$e.toHex=_I;function pw(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(e&255)<<24;return t>>>0}$e.htonl=pw;function EI(e,t){for(var r="",i=0;i<e.length;i++){var n=e[i];t==="little"&&(n=pw(n)),r+=mw(n.toString(16))}return r}$e.toHex32=EI;function gw(e){return e.length===1?"0"+e:e}$e.zero2=gw;function mw(e){return e.length===7?"0"+e:e.length===6?"00"+e:e.length===5?"000"+e:e.length===4?"0000"+e:e.length===3?"00000"+e:e.length===2?"000000"+e:e.length===1?"0000000"+e:e}$e.zero8=mw;function MI(e,t,r,i){var n=r-t;wI(n%4===0);for(var s=new Array(n/4),h=0,d=t;h<s.length;h++,d+=4){var g;i==="big"?g=e[d]<<24|e[d+1]<<16|e[d+2]<<8|e[d+3]:g=e[d+3]<<24|e[d+2]<<16|e[d+1]<<8|e[d],s[h]=g>>>0}return s}$e.join32=MI;function SI(e,t){for(var r=new Array(e.length*4),i=0,n=0;i<e.length;i++,n+=4){var s=e[i];t==="big"?(r[n]=s>>>24,r[n+1]=s>>>16&255,r[n+2]=s>>>8&255,r[n+3]=s&255):(r[n+3]=s>>>24,r[n+2]=s>>>16&255,r[n+1]=s>>>8&255,r[n]=s&255)}return r}$e.split32=SI;function II(e,t){return e>>>t|e<<32-t}$e.rotr32=II;function xI(e,t){return e<<t|e>>>32-t}$e.rotl32=xI;function CI(e,t){return e+t>>>0}$e.sum32=CI;function DI(e,t,r){return e+t+r>>>0}$e.sum32_3=DI;function OI(e,t,r,i){return e+t+r+i>>>0}$e.sum32_4=OI;function NI(e,t,r,i,n){return e+t+r+i+n>>>0}$e.sum32_5=NI;function PI(e,t,r,i){var n=e[t],s=e[t+1],h=i+s>>>0,d=(h<i?1:0)+r+n;e[t]=d>>>0,e[t+1]=h}$e.sum64=PI;function RI(e,t,r,i){var n=t+i>>>0,s=(n<t?1:0)+e+r;return s>>>0}$e.sum64_hi=RI;function TI(e,t,r,i){var n=t+i;return n>>>0}$e.sum64_lo=TI;function $I(e,t,r,i,n,s,h,d){var g=0,p=t;p=p+i>>>0,g+=p<t?1:0,p=p+s>>>0,g+=p<s?1:0,p=p+d>>>0,g+=p<d?1:0;var _=e+r+n+h+g;return _>>>0}$e.sum64_4_hi=$I;function BI(e,t,r,i,n,s,h,d){var g=t+i+s+d;return g>>>0}$e.sum64_4_lo=BI;function UI(e,t,r,i,n,s,h,d,g,p){var _=0,S=t;S=S+i>>>0,_+=S<t?1:0,S=S+s>>>0,_+=S<s?1:0,S=S+d>>>0,_+=S<d?1:0,S=S+p>>>0,_+=S<p?1:0;var D=e+r+n+h+g+_;return D>>>0}$e.sum64_5_hi=UI;function LI(e,t,r,i,n,s,h,d,g,p){var _=t+i+s+d+p;return _>>>0}$e.sum64_5_lo=LI;function FI(e,t,r){var i=t<<32-r|e>>>r;return i>>>0}$e.rotr64_hi=FI;function kI(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}$e.rotr64_lo=kI;function jI(e,t,r){return e>>>r}$e.shr64_hi=jI;function qI(e,t,r){var i=e<<32-r|t>>>r;return i>>>0}$e.shr64_lo=qI;var qa={},vw=$e,zI=dh;function nl(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}qa.BlockHash=nl,nl.prototype.update=function(e,t){if(e=vw.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var r=e.length%this._delta8;this.pending=e.slice(e.length-r,e.length),this.pending.length===0&&(this.pending=null),e=vw.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},nl.prototype.digest=function(e){return this.update(this._pad()),zI(this.pending===null),this._digest(e)},nl.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,i=new Array(r+this.padLength);i[0]=128;for(var n=1;n<r;n++)i[n]=0;if(e<<=3,this.endian==="big"){for(var s=8;s<this.padLength;s++)i[n++]=0;i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=e>>>24&255,i[n++]=e>>>16&255,i[n++]=e>>>8&255,i[n++]=e&255}else for(i[n++]=e&255,i[n++]=e>>>8&255,i[n++]=e>>>16&255,i[n++]=e>>>24&255,i[n++]=0,i[n++]=0,i[n++]=0,i[n++]=0,s=8;s<this.padLength;s++)i[n++]=0;return i};var za={},es={},HI=$e,rs=HI.rotr32;function KI(e,t,r,i){if(e===0)return ww(t,r,i);if(e===1||e===3)return bw(t,r,i);if(e===2)return yw(t,r,i)}es.ft_1=KI;function ww(e,t,r){return e&t^~e&r}es.ch32=ww;function yw(e,t,r){return e&t^e&r^t&r}es.maj32=yw;function bw(e,t,r){return e^t^r}es.p32=bw;function WI(e){return rs(e,2)^rs(e,13)^rs(e,22)}es.s0_256=WI;function VI(e){return rs(e,6)^rs(e,11)^rs(e,25)}es.s1_256=VI;function GI(e){return rs(e,7)^rs(e,18)^e>>>3}es.g0_256=GI;function QI(e){return rs(e,17)^rs(e,19)^e>>>10}es.g1_256=QI;var Ha=$e,YI=qa,JI=es,Md=Ha.rotl32,ph=Ha.sum32,ZI=Ha.sum32_5,XI=JI.ft_1,Aw=YI.BlockHash,tx=[1518500249,1859775393,2400959708,3395469782];function is(){if(!(this instanceof is))return new is;Aw.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Ha.inherits(is,Aw);var ex=is;is.blockSize=512,is.outSize=160,is.hmacStrength=80,is.padLength=64,is.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=Md(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var n=this.h[0],s=this.h[1],h=this.h[2],d=this.h[3],g=this.h[4];for(i=0;i<r.length;i++){var p=~~(i/20),_=ZI(Md(n,5),XI(p,s,h,d),g,r[i],tx[p]);g=d,d=h,h=Md(s,30),s=n,n=_}this.h[0]=ph(this.h[0],n),this.h[1]=ph(this.h[1],s),this.h[2]=ph(this.h[2],h),this.h[3]=ph(this.h[3],d),this.h[4]=ph(this.h[4],g)},is.prototype._digest=function(e){return e==="hex"?Ha.toHex32(this.h,"big"):Ha.split32(this.h,"big")};var Ka=$e,rx=qa,Wa=es,ix=dh,Pn=Ka.sum32,nx=Ka.sum32_4,sx=Ka.sum32_5,ox=Wa.ch32,ax=Wa.maj32,cx=Wa.s0_256,hx=Wa.s1_256,ux=Wa.g0_256,lx=Wa.g1_256,_w=rx.BlockHash,fx=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ns(){if(!(this instanceof ns))return new ns;_w.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=fx,this.W=new Array(64)}Ka.inherits(ns,_w);var Ew=ns;ns.blockSize=512,ns.outSize=256,ns.hmacStrength=192,ns.padLength=64,ns.prototype._update=function(e,t){for(var r=this.W,i=0;i<16;i++)r[i]=e[t+i];for(;i<r.length;i++)r[i]=nx(lx(r[i-2]),r[i-7],ux(r[i-15]),r[i-16]);var n=this.h[0],s=this.h[1],h=this.h[2],d=this.h[3],g=this.h[4],p=this.h[5],_=this.h[6],S=this.h[7];for(ix(this.k.length===r.length),i=0;i<r.length;i++){var D=sx(S,hx(g),ox(g,p,_),this.k[i],r[i]),O=Pn(cx(n),ax(n,s,h));S=_,_=p,p=g,g=Pn(d,D),d=h,h=s,s=n,n=Pn(D,O)}this.h[0]=Pn(this.h[0],n),this.h[1]=Pn(this.h[1],s),this.h[2]=Pn(this.h[2],h),this.h[3]=Pn(this.h[3],d),this.h[4]=Pn(this.h[4],g),this.h[5]=Pn(this.h[5],p),this.h[6]=Pn(this.h[6],_),this.h[7]=Pn(this.h[7],S)},ns.prototype._digest=function(e){return e==="hex"?Ka.toHex32(this.h,"big"):Ka.split32(this.h,"big")};var Sd=$e,Mw=Ew;function Os(){if(!(this instanceof Os))return new Os;Mw.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Sd.inherits(Os,Mw);var dx=Os;Os.blockSize=512,Os.outSize=224,Os.hmacStrength=192,Os.padLength=64,Os.prototype._digest=function(e){return e==="hex"?Sd.toHex32(this.h.slice(0,7),"big"):Sd.split32(this.h.slice(0,7),"big")};var Ri=$e,px=qa,gx=dh,ss=Ri.rotr64_hi,os=Ri.rotr64_lo,Sw=Ri.shr64_hi,Iw=Ri.shr64_lo,to=Ri.sum64,Id=Ri.sum64_hi,xd=Ri.sum64_lo,mx=Ri.sum64_4_hi,vx=Ri.sum64_4_lo,wx=Ri.sum64_5_hi,yx=Ri.sum64_5_lo,xw=px.BlockHash,bx=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Rn(){if(!(this instanceof Rn))return new Rn;xw.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=bx,this.W=new Array(160)}Ri.inherits(Rn,xw);var Cw=Rn;Rn.blockSize=1024,Rn.outSize=512,Rn.hmacStrength=192,Rn.padLength=128,Rn.prototype._prepareBlock=function(e,t){for(var r=this.W,i=0;i<32;i++)r[i]=e[t+i];for(;i<r.length;i+=2){var n=Nx(r[i-4],r[i-3]),s=Px(r[i-4],r[i-3]),h=r[i-14],d=r[i-13],g=Dx(r[i-30],r[i-29]),p=Ox(r[i-30],r[i-29]),_=r[i-32],S=r[i-31];r[i]=mx(n,s,h,d,g,p,_,S),r[i+1]=vx(n,s,h,d,g,p,_,S)}},Rn.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,i=this.h[0],n=this.h[1],s=this.h[2],h=this.h[3],d=this.h[4],g=this.h[5],p=this.h[6],_=this.h[7],S=this.h[8],D=this.h[9],O=this.h[10],N=this.h[11],L=this.h[12],z=this.h[13],G=this.h[14],q=this.h[15];gx(this.k.length===r.length);for(var W=0;W<r.length;W+=2){var B=G,k=q,j=xx(S,D),I=Cx(S,D),U=Ax(S,D,O,N,L),et=_x(S,D,O,N,L,z),ct=this.k[W],Z=this.k[W+1],ut=r[W],o=r[W+1],u=wx(B,k,j,I,U,et,ct,Z,ut,o),f=yx(B,k,j,I,U,et,ct,Z,ut,o);B=Sx(i,n),k=Ix(i,n),j=Ex(i,n,s,h,d),I=Mx(i,n,s,h,d,g);var v=Id(B,k,j,I),A=xd(B,k,j,I);G=L,q=z,L=O,z=N,O=S,N=D,S=Id(p,_,u,f),D=xd(_,_,u,f),p=d,_=g,d=s,g=h,s=i,h=n,i=Id(u,f,v,A),n=xd(u,f,v,A)}to(this.h,0,i,n),to(this.h,2,s,h),to(this.h,4,d,g),to(this.h,6,p,_),to(this.h,8,S,D),to(this.h,10,O,N),to(this.h,12,L,z),to(this.h,14,G,q)},Rn.prototype._digest=function(e){return e==="hex"?Ri.toHex32(this.h,"big"):Ri.split32(this.h,"big")};function Ax(e,t,r,i,n){var s=e&r^~e&n;return s<0&&(s+=4294967296),s}function _x(e,t,r,i,n,s){var h=t&i^~t&s;return h<0&&(h+=4294967296),h}function Ex(e,t,r,i,n){var s=e&r^e&n^r&n;return s<0&&(s+=4294967296),s}function Mx(e,t,r,i,n,s){var h=t&i^t&s^i&s;return h<0&&(h+=4294967296),h}function Sx(e,t){var r=ss(e,t,28),i=ss(t,e,2),n=ss(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function Ix(e,t){var r=os(e,t,28),i=os(t,e,2),n=os(t,e,7),s=r^i^n;return s<0&&(s+=4294967296),s}function xx(e,t){var r=ss(e,t,14),i=ss(e,t,18),n=ss(t,e,9),s=r^i^n;return s<0&&(s+=4294967296),s}function Cx(e,t){var r=os(e,t,14),i=os(e,t,18),n=os(t,e,9),s=r^i^n;return s<0&&(s+=4294967296),s}function Dx(e,t){var r=ss(e,t,1),i=ss(e,t,8),n=Sw(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function Ox(e,t){var r=os(e,t,1),i=os(e,t,8),n=Iw(e,t,7),s=r^i^n;return s<0&&(s+=4294967296),s}function Nx(e,t){var r=ss(e,t,19),i=ss(t,e,29),n=Sw(e,t,6),s=r^i^n;return s<0&&(s+=4294967296),s}function Px(e,t){var r=os(e,t,19),i=os(t,e,29),n=Iw(e,t,6),s=r^i^n;return s<0&&(s+=4294967296),s}var Cd=$e,Dw=Cw;function Ns(){if(!(this instanceof Ns))return new Ns;Dw.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Cd.inherits(Ns,Dw);var Rx=Ns;Ns.blockSize=1024,Ns.outSize=384,Ns.hmacStrength=192,Ns.padLength=128,Ns.prototype._digest=function(e){return e==="hex"?Cd.toHex32(this.h.slice(0,12),"big"):Cd.split32(this.h.slice(0,12),"big")},za.sha1=ex,za.sha224=dx,za.sha256=Ew,za.sha384=Rx,za.sha512=Cw;var Ow={},Uo=$e,Tx=qa,sl=Uo.rotl32,Nw=Uo.sum32,gh=Uo.sum32_3,Pw=Uo.sum32_4,Rw=Tx.BlockHash;function as(){if(!(this instanceof as))return new as;Rw.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Uo.inherits(as,Rw),Ow.ripemd160=as,as.blockSize=512,as.outSize=160,as.hmacStrength=192,as.padLength=64,as.prototype._update=function(e,t){for(var r=this.h[0],i=this.h[1],n=this.h[2],s=this.h[3],h=this.h[4],d=r,g=i,p=n,_=s,S=h,D=0;D<80;D++){var O=Nw(sl(Pw(r,Tw(D,i,n,s),e[Ux[D]+t],$x(D)),Fx[D]),h);r=h,h=s,s=sl(n,10),n=i,i=O,O=Nw(sl(Pw(d,Tw(79-D,g,p,_),e[Lx[D]+t],Bx(D)),kx[D]),S),d=S,S=_,_=sl(p,10),p=g,g=O}O=gh(this.h[1],n,_),this.h[1]=gh(this.h[2],s,S),this.h[2]=gh(this.h[3],h,d),this.h[3]=gh(this.h[4],r,g),this.h[4]=gh(this.h[0],i,p),this.h[0]=O},as.prototype._digest=function(e){return e==="hex"?Uo.toHex32(this.h,"little"):Uo.split32(this.h,"little")};function Tw(e,t,r,i){return e<=15?t^r^i:e<=31?t&r|~t&i:e<=47?(t|~r)^i:e<=63?t&i|r&~i:t^(r|~i)}function $x(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function Bx(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}var Ux=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Lx=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Fx=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],kx=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],jx=$e,qx=dh;function Va(e,t,r){if(!(this instanceof Va))return new Va(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(jx.toArray(t,r))}var zx=Va;Va.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),qx(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=new this.Hash().update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=new this.Hash().update(e)},Va.prototype.update=function(e,t){return this.inner.update(e,t),this},Va.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)},function(e){var t=e;t.utils=$e,t.common=qa,t.sha=za,t.ripemd=Ow,t.hmac=zx,t.sha1=t.sha.sha1,t.sha256=t.sha.sha256,t.sha224=t.sha.sha224,t.sha384=t.sha.sha384,t.sha512=t.sha.sha512,t.ripemd160=t.ripemd.ripemd160}(ts);function Ga(e,t,r){return r={path:t,exports:{},require:function(i,n){return Hx(i,n??r.path)}},e(r,r.exports),r.exports}function Hx(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Dd=$w;function $w(e,t){if(!e)throw new Error(t||"Assertion failed")}$w.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var Tn=Ga(function(e,t){var r=t;function i(h,d){if(Array.isArray(h))return h.slice();if(!h)return[];var g=[];if(typeof h!="string"){for(var p=0;p<h.length;p++)g[p]=h[p]|0;return g}if(d==="hex"){h=h.replace(/[^a-z0-9]+/ig,""),h.length%2!==0&&(h="0"+h);for(var p=0;p<h.length;p+=2)g.push(parseInt(h[p]+h[p+1],16))}else for(var p=0;p<h.length;p++){var _=h.charCodeAt(p),S=_>>8,D=_&255;S?g.push(S,D):g.push(D)}return g}r.toArray=i;function n(h){return h.length===1?"0"+h:h}r.zero2=n;function s(h){for(var d="",g=0;g<h.length;g++)d+=n(h[g].toString(16));return d}r.toHex=s,r.encode=function(h,d){return d==="hex"?s(h):h}}),Vi=Ga(function(e,t){var r=t;r.assert=Dd,r.toArray=Tn.toArray,r.zero2=Tn.zero2,r.toHex=Tn.toHex,r.encode=Tn.encode;function i(g,p,_){var S=new Array(Math.max(g.bitLength(),_)+1);S.fill(0);for(var D=1<<p+1,O=g.clone(),N=0;N<S.length;N++){var L,z=O.andln(D-1);O.isOdd()?(z>(D>>1)-1?L=(D>>1)-z:L=z,O.isubn(L)):L=0,S[N]=L,O.iushrn(1)}return S}r.getNAF=i;function n(g,p){var _=[[],[]];g=g.clone(),p=p.clone();for(var S=0,D=0,O;g.cmpn(-S)>0||p.cmpn(-D)>0;){var N=g.andln(3)+S&3,L=p.andln(3)+D&3;N===3&&(N=-1),L===3&&(L=-1);var z;N&1?(O=g.andln(7)+S&7,(O===3||O===5)&&L===2?z=-N:z=N):z=0,_[0].push(z);var G;L&1?(O=p.andln(7)+D&7,(O===3||O===5)&&N===2?G=-L:G=L):G=0,_[1].push(G),2*S===z+1&&(S=1-S),2*D===G+1&&(D=1-D),g.iushrn(1),p.iushrn(1)}return _}r.getJSF=n;function s(g,p,_){var S="_"+p;g.prototype[p]=function(){return this[S]!==void 0?this[S]:this[S]=_.call(this)}}r.cachedProperty=s;function h(g){return typeof g=="string"?r.toArray(g,"hex"):g}r.parseBytes=h;function d(g){return new de(g,"hex","le")}r.intFromLE=d}),ol=Vi.getNAF,Kx=Vi.getJSF,al=Vi.assert;function eo(e,t){this.type=e,this.p=new de(t.p,16),this.red=t.prime?de.red(t.prime):de.mont(this.p),this.zero=new de(0).toRed(this.red),this.one=new de(1).toRed(this.red),this.two=new de(2).toRed(this.red),this.n=t.n&&new de(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Lo=eo;eo.prototype.point=function(){throw new Error("Not implemented")},eo.prototype.validate=function(){throw new Error("Not implemented")},eo.prototype._fixedNafMul=function(e,t){al(e.precomputed);var r=e._getDoubles(),i=ol(t,1,this._bitLength),n=(1<<r.step+1)-(r.step%2===0?2:1);n/=3;var s=[],h,d;for(h=0;h<i.length;h+=r.step){d=0;for(var g=h+r.step-1;g>=h;g--)d=(d<<1)+i[g];s.push(d)}for(var p=this.jpoint(null,null,null),_=this.jpoint(null,null,null),S=n;S>0;S--){for(h=0;h<s.length;h++)d=s[h],d===S?_=_.mixedAdd(r.points[h]):d===-S&&(_=_.mixedAdd(r.points[h].neg()));p=p.add(_)}return p.toP()},eo.prototype._wnafMul=function(e,t){var r=4,i=e._getNAFPoints(r);r=i.wnd;for(var n=i.points,s=ol(t,r,this._bitLength),h=this.jpoint(null,null,null),d=s.length-1;d>=0;d--){for(var g=0;d>=0&&s[d]===0;d--)g++;if(d>=0&&g++,h=h.dblp(g),d<0)break;var p=s[d];al(p!==0),e.type==="affine"?p>0?h=h.mixedAdd(n[p-1>>1]):h=h.mixedAdd(n[-p-1>>1].neg()):p>0?h=h.add(n[p-1>>1]):h=h.add(n[-p-1>>1].neg())}return e.type==="affine"?h.toP():h},eo.prototype._wnafMulAdd=function(e,t,r,i,n){var s=this._wnafT1,h=this._wnafT2,d=this._wnafT3,g=0,p,_,S;for(p=0;p<i;p++){S=t[p];var D=S._getNAFPoints(e);s[p]=D.wnd,h[p]=D.points}for(p=i-1;p>=1;p-=2){var O=p-1,N=p;if(s[O]!==1||s[N]!==1){d[O]=ol(r[O],s[O],this._bitLength),d[N]=ol(r[N],s[N],this._bitLength),g=Math.max(d[O].length,g),g=Math.max(d[N].length,g);continue}var L=[t[O],null,null,t[N]];t[O].y.cmp(t[N].y)===0?(L[1]=t[O].add(t[N]),L[2]=t[O].toJ().mixedAdd(t[N].neg())):t[O].y.cmp(t[N].y.redNeg())===0?(L[1]=t[O].toJ().mixedAdd(t[N]),L[2]=t[O].add(t[N].neg())):(L[1]=t[O].toJ().mixedAdd(t[N]),L[2]=t[O].toJ().mixedAdd(t[N].neg()));var z=[-3,-1,-5,-7,0,7,5,1,3],G=Kx(r[O],r[N]);for(g=Math.max(G[0].length,g),d[O]=new Array(g),d[N]=new Array(g),_=0;_<g;_++){var q=G[0][_]|0,W=G[1][_]|0;d[O][_]=z[(q+1)*3+(W+1)],d[N][_]=0,h[O]=L}}var B=this.jpoint(null,null,null),k=this._wnafT4;for(p=g;p>=0;p--){for(var j=0;p>=0;){var I=!0;for(_=0;_<i;_++)k[_]=d[_][p]|0,k[_]!==0&&(I=!1);if(!I)break;j++,p--}if(p>=0&&j++,B=B.dblp(j),p<0)break;for(_=0;_<i;_++){var U=k[_];U!==0&&(U>0?S=h[_][U-1>>1]:U<0&&(S=h[_][-U-1>>1].neg()),S.type==="affine"?B=B.mixedAdd(S):B=B.add(S))}}for(p=0;p<i;p++)h[p]=null;return n?B:B.toP()};function hn(e,t){this.curve=e,this.type=t,this.precomputed=null}eo.BasePoint=hn,hn.prototype.eq=function(){throw new Error("Not implemented")},hn.prototype.validate=function(){return this.curve.validate(this)},eo.prototype.decodePoint=function(e,t){e=Vi.toArray(e,t);var r=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*r){e[0]===6?al(e[e.length-1]%2===0):e[0]===7&&al(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));return i}else if((e[0]===2||e[0]===3)&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),e[0]===3);throw new Error("Unknown point format")},hn.prototype.encodeCompressed=function(e){return this.encode(e,!0)},hn.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},hn.prototype.encode=function(e,t){return Vi.encode(this._encode(t),e)},hn.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},hn.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},hn.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],i=this,n=0;n<t;n+=e){for(var s=0;s<e;s++)i=i.dbl();r.push(i)}return{step:e,points:r}},hn.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,i=r===1?null:this.dbl(),n=1;n<r;n++)t[n]=t[n-1].add(i);return{wnd:e,points:t}},hn.prototype._getBeta=function(){return null},hn.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var Od=Ga(function(e){typeof Object.create=="function"?e.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(t,r){if(r){t.super_=r;var i=function(){};i.prototype=r.prototype,t.prototype=new i,t.prototype.constructor=t}}}),Wx=Vi.assert;function un(e){Lo.call(this,"short",e),this.a=new de(e.a,16).toRed(this.red),this.b=new de(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Od(un,Lo);var Vx=un;un.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var t,r;if(e.beta)t=new de(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);t=i[0].cmp(i[1])<0?i[0]:i[1],t=t.toRed(this.red)}if(e.lambda)r=new de(e.lambda,16);else{var n=this._getEndoRoots(this.n);this.g.mul(n[0]).x.cmp(this.g.x.redMul(t))===0?r=n[0]:(r=n[1],Wx(this.g.mul(r).x.cmp(this.g.x.redMul(t))===0))}var s;return e.basis?s=e.basis.map(function(h){return{a:new de(h.a,16),b:new de(h.b,16)}}):s=this._getEndoBasis(r),{beta:t,lambda:r,basis:s}}},un.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:de.mont(e),r=new de(2).toRed(t).redInvm(),i=r.redNeg(),n=new de(3).toRed(t).redNeg().redSqrt().redMul(r),s=i.redAdd(n).fromRed(),h=i.redSub(n).fromRed();return[s,h]},un.prototype._getEndoBasis=function(e){for(var t=this.n.ushrn(Math.floor(this.n.bitLength()/2)),r=e,i=this.n.clone(),n=new de(1),s=new de(0),h=new de(0),d=new de(1),g,p,_,S,D,O,N,L=0,z,G;r.cmpn(0)!==0;){var q=i.div(r);z=i.sub(q.mul(r)),G=h.sub(q.mul(n));var W=d.sub(q.mul(s));if(!_&&z.cmp(t)<0)g=N.neg(),p=n,_=z.neg(),S=G;else if(_&&++L===2)break;N=z,i=r,r=z,h=n,n=G,d=s,s=W}D=z.neg(),O=G;var B=_.sqr().add(S.sqr()),k=D.sqr().add(O.sqr());return k.cmp(B)>=0&&(D=g,O=p),_.negative&&(_=_.neg(),S=S.neg()),D.negative&&(D=D.neg(),O=O.neg()),[{a:_,b:S},{a:D,b:O}]},un.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],i=t[1],n=i.b.mul(e).divRound(this.n),s=r.b.neg().mul(e).divRound(this.n),h=n.mul(r.a),d=s.mul(i.a),g=n.mul(r.b),p=s.mul(i.b),_=e.sub(h).sub(d),S=g.add(p).neg();return{k1:_,k2:S}},un.prototype.pointFromX=function(e,t){e=new de(e,16),e.red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=r.redSqrt();if(i.redSqr().redSub(r).cmp(this.zero)!==0)throw new Error("invalid point");var n=i.fromRed().isOdd();return(t&&!n||!t&&n)&&(i=i.redNeg()),this.point(e,i)},un.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,i=this.a.redMul(t),n=t.redSqr().redMul(t).redIAdd(i).redIAdd(this.b);return r.redSqr().redISub(n).cmpn(0)===0},un.prototype._endoWnafMulAdd=function(e,t,r){for(var i=this._endoWnafT1,n=this._endoWnafT2,s=0;s<e.length;s++){var h=this._endoSplit(t[s]),d=e[s],g=d._getBeta();h.k1.negative&&(h.k1.ineg(),d=d.neg(!0)),h.k2.negative&&(h.k2.ineg(),g=g.neg(!0)),i[s*2]=d,i[s*2+1]=g,n[s*2]=h.k1,n[s*2+1]=h.k2}for(var p=this._wnafMulAdd(1,i,n,s*2,r),_=0;_<s*2;_++)i[_]=null,n[_]=null;return p};function Lr(e,t,r,i){Lo.BasePoint.call(this,e,"affine"),t===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new de(t,16),this.y=new de(r,16),i&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}Od(Lr,Lo.BasePoint),un.prototype.point=function(e,t,r){return new Lr(this,e,t,r)},un.prototype.pointFromJSON=function(e,t){return Lr.fromJSON(this,e,t)},Lr.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,i=function(n){return r.point(n.x.redMul(r.endo.beta),n.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return t}},Lr.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Lr.fromJSON=function(e,t,r){typeof t=="string"&&(t=JSON.parse(t));var i=e.point(t[0],t[1],r);if(!t[2])return i;function n(h){return e.point(h[0],h[1],r)}var s=t[2];return i.precomputed={beta:null,doubles:s.doubles&&{step:s.doubles.step,points:[i].concat(s.doubles.points.map(n))},naf:s.naf&&{wnd:s.naf.wnd,points:[i].concat(s.naf.points.map(n))}},i},Lr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Lr.prototype.isInfinity=function(){return this.inf},Lr.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var t=this.y.redSub(e.y);t.cmpn(0)!==0&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),i=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,i)},Lr.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),i=e.redInvm(),n=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(i),s=n.redSqr().redISub(this.x.redAdd(this.x)),h=n.redMul(this.x.redSub(s)).redISub(this.y);return this.curve.point(s,h)},Lr.prototype.getX=function(){return this.x.fromRed()},Lr.prototype.getY=function(){return this.y.fromRed()},Lr.prototype.mul=function(e){return e=new de(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Lr.prototype.mulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n):this.curve._wnafMulAdd(1,i,n,2)},Lr.prototype.jmulAdd=function(e,t,r){var i=[this,t],n=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(i,n,!0):this.curve._wnafMulAdd(1,i,n,2,!0)},Lr.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)},Lr.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,i=function(n){return n.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(i)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(i)}}}return t},Lr.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Yr(e,t,r,i){Lo.BasePoint.call(this,e,"jacobian"),t===null&&r===null&&i===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new de(0)):(this.x=new de(t,16),this.y=new de(r,16),this.z=new de(i,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}Od(Yr,Lo.BasePoint),un.prototype.jpoint=function(e,t,r){return new Yr(this,e,t,r)},Yr.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),i=this.y.redMul(t).redMul(e);return this.curve.point(r,i)},Yr.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Yr.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),i=this.x.redMul(t),n=e.x.redMul(r),s=this.y.redMul(t.redMul(e.z)),h=e.y.redMul(r.redMul(this.z)),d=i.redSub(n),g=s.redSub(h);if(d.cmpn(0)===0)return g.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var p=d.redSqr(),_=p.redMul(d),S=i.redMul(p),D=g.redSqr().redIAdd(_).redISub(S).redISub(S),O=g.redMul(S.redISub(D)).redISub(s.redMul(_)),N=this.z.redMul(e.z).redMul(d);return this.curve.jpoint(D,O,N)},Yr.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,i=e.x.redMul(t),n=this.y,s=e.y.redMul(t).redMul(this.z),h=r.redSub(i),d=n.redSub(s);if(h.cmpn(0)===0)return d.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=h.redSqr(),p=g.redMul(h),_=r.redMul(g),S=d.redSqr().redIAdd(p).redISub(_).redISub(_),D=d.redMul(_.redISub(S)).redISub(n.redMul(p)),O=this.z.redMul(h);return this.curve.jpoint(S,D,O)},Yr.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var i=this.curve.a,n=this.curve.tinv,s=this.x,h=this.y,d=this.z,g=d.redSqr().redSqr(),p=h.redAdd(h);for(t=0;t<e;t++){var _=s.redSqr(),S=p.redSqr(),D=S.redSqr(),O=_.redAdd(_).redIAdd(_).redIAdd(i.redMul(g)),N=s.redMul(S),L=O.redSqr().redISub(N.redAdd(N)),z=N.redISub(L),G=O.redMul(z);G=G.redIAdd(G).redISub(D);var q=p.redMul(d);t+1<e&&(g=g.redMul(D)),s=L,d=q,p=G}return this.curve.jpoint(s,p.redMul(n),d)},Yr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Yr.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),h=this.x.redAdd(n).redSqr().redISub(i).redISub(s);h=h.redIAdd(h);var d=i.redAdd(i).redIAdd(i),g=d.redSqr().redISub(h).redISub(h),p=s.redIAdd(s);p=p.redIAdd(p),p=p.redIAdd(p),e=g,t=d.redMul(h.redISub(g)).redISub(p),r=this.y.redAdd(this.y)}else{var _=this.x.redSqr(),S=this.y.redSqr(),D=S.redSqr(),O=this.x.redAdd(S).redSqr().redISub(_).redISub(D);O=O.redIAdd(O);var N=_.redAdd(_).redIAdd(_),L=N.redSqr(),z=D.redIAdd(D);z=z.redIAdd(z),z=z.redIAdd(z),e=L.redISub(O).redISub(O),t=N.redMul(O.redISub(e)).redISub(z),r=this.y.redMul(this.z),r=r.redIAdd(r)}return this.curve.jpoint(e,t,r)},Yr.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var i=this.x.redSqr(),n=this.y.redSqr(),s=n.redSqr(),h=this.x.redAdd(n).redSqr().redISub(i).redISub(s);h=h.redIAdd(h);var d=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),g=d.redSqr().redISub(h).redISub(h);e=g;var p=s.redIAdd(s);p=p.redIAdd(p),p=p.redIAdd(p),t=d.redMul(h.redISub(g)).redISub(p),r=this.y.redAdd(this.y)}else{var _=this.z.redSqr(),S=this.y.redSqr(),D=this.x.redMul(S),O=this.x.redSub(_).redMul(this.x.redAdd(_));O=O.redAdd(O).redIAdd(O);var N=D.redIAdd(D);N=N.redIAdd(N);var L=N.redAdd(N);e=O.redSqr().redISub(L),r=this.y.redAdd(this.z).redSqr().redISub(S).redISub(_);var z=S.redSqr();z=z.redIAdd(z),z=z.redIAdd(z),z=z.redIAdd(z),t=O.redMul(N.redISub(e)).redISub(z)}return this.curve.jpoint(e,t,r)},Yr.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,i=this.z,n=i.redSqr().redSqr(),s=t.redSqr(),h=r.redSqr(),d=s.redAdd(s).redIAdd(s).redIAdd(e.redMul(n)),g=t.redAdd(t);g=g.redIAdd(g);var p=g.redMul(h),_=d.redSqr().redISub(p.redAdd(p)),S=p.redISub(_),D=h.redSqr();D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D);var O=d.redMul(S).redISub(D),N=r.redAdd(r).redMul(i);return this.curve.jpoint(_,O,N)},Yr.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),i=t.redSqr(),n=e.redAdd(e).redIAdd(e),s=n.redSqr(),h=this.x.redAdd(t).redSqr().redISub(e).redISub(i);h=h.redIAdd(h),h=h.redAdd(h).redIAdd(h),h=h.redISub(s);var d=h.redSqr(),g=i.redIAdd(i);g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var p=n.redIAdd(h).redSqr().redISub(s).redISub(d).redISub(g),_=t.redMul(p);_=_.redIAdd(_),_=_.redIAdd(_);var S=this.x.redMul(d).redISub(_);S=S.redIAdd(S),S=S.redIAdd(S);var D=this.y.redMul(p.redMul(g.redISub(p)).redISub(h.redMul(d)));D=D.redIAdd(D),D=D.redIAdd(D),D=D.redIAdd(D);var O=this.z.redAdd(h).redSqr().redISub(r).redISub(d);return this.curve.jpoint(S,D,O)},Yr.prototype.mul=function(e,t){return e=new de(e,t),this.curve._wnafMul(this,e)},Yr.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0)!==0)return!1;var i=t.redMul(this.z),n=r.redMul(e.z);return this.y.redMul(n).redISub(e.y.redMul(i)).cmpn(0)===0},Yr.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(this.x.cmp(r)===0)return!0;for(var i=e.clone(),n=this.curve.redN.redMul(t);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(n),this.x.cmp(r)===0)return!0}},Yr.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Yr.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var cl=Ga(function(e,t){var r=t;r.base=Lo,r.short=Vx,r.mont=null,r.edwards=null}),hl=Ga(function(e,t){var r=t,i=Vi.assert;function n(d){d.type==="short"?this.curve=new cl.short(d):d.type==="edwards"?this.curve=new cl.edwards(d):this.curve=new cl.mont(d),this.g=this.curve.g,this.n=this.curve.n,this.hash=d.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=n;function s(d,g){Object.defineProperty(r,d,{configurable:!0,enumerable:!0,get:function(){var p=new n(g);return Object.defineProperty(r,d,{configurable:!0,enumerable:!0,value:p}),p}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:ts.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:ts.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:ts.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:ts.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:ts.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ts.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:ts.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var h;try{h=null.crash()}catch{h=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:ts.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",h]})});function ro(e){if(!(this instanceof ro))return new ro(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Tn.toArray(e.entropy,e.entropyEnc||"hex"),r=Tn.toArray(e.nonce,e.nonceEnc||"hex"),i=Tn.toArray(e.pers,e.persEnc||"hex");Dd(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,i)}var Bw=ro;ro.prototype._init=function(e,t,r){var i=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var n=0;n<this.V.length;n++)this.K[n]=0,this.V[n]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656},ro.prototype._hmac=function(){return new ts.hmac(this.hash,this.K)},ro.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},ro.prototype.reseed=function(e,t,r,i){typeof t!="string"&&(i=r,r=t,t=null),e=Tn.toArray(e,t),r=Tn.toArray(r,i),Dd(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},ro.prototype.generate=function(e,t,r,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof t!="string"&&(i=r,r=t,t=null),r&&(r=Tn.toArray(r,i||"hex"),this._update(r));for(var n=[];n.length<e;)this.V=this._hmac().update(this.V).digest(),n=n.concat(this.V);var s=n.slice(0,e);return this._update(r),this._reseed++,Tn.encode(s,t)};var Nd=Vi.assert;function ri(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Pd=ri;ri.fromPublic=function(e,t,r){return t instanceof ri?t:new ri(e,{pub:t,pubEnc:r})},ri.fromPrivate=function(e,t,r){return t instanceof ri?t:new ri(e,{priv:t,privEnc:r})},ri.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},ri.prototype.getPublic=function(e,t){return typeof e=="string"&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},ri.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv},ri.prototype._importPrivate=function(e,t){this.priv=new de(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},ri.prototype._importPublic=function(e,t){if(e.x||e.y){this.ec.curve.type==="mont"?Nd(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Nd(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,t)},ri.prototype.derive=function(e){return e.validate()||Nd(e.validate(),"public point not validated"),e.mul(this.priv).getX()},ri.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},ri.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},ri.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Gx=Vi.assert;function ul(e,t){if(e instanceof ul)return e;this._importDER(e,t)||(Gx(e.r&&e.s,"Signature without r or s"),this.r=new de(e.r,16),this.s=new de(e.s,16),e.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var ll=ul;function Qx(){this.place=0}function Rd(e,t){var r=e[t.place++];if(!(r&128))return r;var i=r&15;if(i===0||i>4)return!1;for(var n=0,s=0,h=t.place;s<i;s++,h++)n<<=8,n|=e[h],n>>>=0;return n<=127?!1:(t.place=h,n)}function Uw(e){for(var t=0,r=e.length-1;!e[t]&&!(e[t+1]&128)&&t<r;)t++;return t===0?e:e.slice(t)}ul.prototype._importDER=function(e,t){e=Vi.toArray(e,t);var r=new Qx;if(e[r.place++]!==48)return!1;var i=Rd(e,r);if(i===!1||i+r.place!==e.length||e[r.place++]!==2)return!1;var n=Rd(e,r);if(n===!1)return!1;var s=e.slice(r.place,n+r.place);if(r.place+=n,e[r.place++]!==2)return!1;var h=Rd(e,r);if(h===!1||e.length!==h+r.place)return!1;var d=e.slice(r.place,h+r.place);if(s[0]===0)if(s[1]&128)s=s.slice(1);else return!1;if(d[0]===0)if(d[1]&128)d=d.slice(1);else return!1;return this.r=new de(s),this.s=new de(d),this.recoveryParam=null,!0};function Td(e,t){if(t<128){e.push(t);return}var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(r|128);--r;)e.push(t>>>(r<<3)&255);e.push(t)}ul.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(t[0]&128&&(t=[0].concat(t)),r[0]&128&&(r=[0].concat(r)),t=Uw(t),r=Uw(r);!r[0]&&!(r[1]&128);)r=r.slice(1);var i=[2];Td(i,t.length),i=i.concat(t),i.push(2),Td(i,r.length);var n=i.concat(r),s=[48];return Td(s,n.length),s=s.concat(n),Vi.encode(s,e)};var Yx=function(){throw new Error("unsupported")},Lw=Vi.assert;function ln(e){if(!(this instanceof ln))return new ln(e);typeof e=="string"&&(Lw(Object.prototype.hasOwnProperty.call(hl,e),"Unknown curve "+e),e=hl[e]),e instanceof hl.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Jx=ln;ln.prototype.keyPair=function(e){return new Pd(this,e)},ln.prototype.keyFromPrivate=function(e,t){return Pd.fromPrivate(this,e,t)},ln.prototype.keyFromPublic=function(e,t){return Pd.fromPublic(this,e,t)},ln.prototype.genKeyPair=function(e){e||(e={});for(var t=new Bw({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Yx(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),i=this.n.sub(new de(2));;){var n=new de(t.generate(r));if(!(n.cmp(i)>0))return n.iaddn(1),this.keyFromPrivate(n)}},ln.prototype._truncateToN=function(e,t){var r=e.byteLength()*8-this.n.bitLength();return r>0&&(e=e.ushrn(r)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},ln.prototype.sign=function(e,t,r,i){typeof r=="object"&&(i=r,r=null),i||(i={}),t=this.keyFromPrivate(t,r),e=this._truncateToN(new de(e,16));for(var n=this.n.byteLength(),s=t.getPrivate().toArray("be",n),h=e.toArray("be",n),d=new Bw({hash:this.hash,entropy:s,nonce:h,pers:i.pers,persEnc:i.persEnc||"utf8"}),g=this.n.sub(new de(1)),p=0;;p++){var _=i.k?i.k(p):new de(d.generate(this.n.byteLength()));if(_=this._truncateToN(_,!0),!(_.cmpn(1)<=0||_.cmp(g)>=0)){var S=this.g.mul(_);if(!S.isInfinity()){var D=S.getX(),O=D.umod(this.n);if(O.cmpn(0)!==0){var N=_.invm(this.n).mul(O.mul(t.getPrivate()).iadd(e));if(N=N.umod(this.n),N.cmpn(0)!==0){var L=(S.getY().isOdd()?1:0)|(D.cmp(O)!==0?2:0);return i.canonical&&N.cmp(this.nh)>0&&(N=this.n.sub(N),L^=1),new ll({r:O,s:N,recoveryParam:L})}}}}}},ln.prototype.verify=function(e,t,r,i){e=this._truncateToN(new de(e,16)),r=this.keyFromPublic(r,i),t=new ll(t,"hex");var n=t.r,s=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0||s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var h=s.invm(this.n),d=h.mul(e).umod(this.n),g=h.mul(n).umod(this.n),p;return this.curve._maxwellTrick?(p=this.g.jmulAdd(d,r.getPublic(),g),p.isInfinity()?!1:p.eqXToP(n)):(p=this.g.mulAdd(d,r.getPublic(),g),p.isInfinity()?!1:p.getX().umod(this.n).cmp(n)===0)},ln.prototype.recoverPubKey=function(e,t,r,i){Lw((3&r)===r,"The recovery param is more than two bits"),t=new ll(t,i);var n=this.n,s=new de(e),h=t.r,d=t.s,g=r&1,p=r>>1;if(h.cmp(this.curve.p.umod(this.curve.n))>=0&&p)throw new Error("Unable to find sencond key candinate");p?h=this.curve.pointFromX(h.add(this.curve.n),g):h=this.curve.pointFromX(h,g);var _=t.r.invm(n),S=n.sub(s).mul(_).umod(n),D=d.mul(_).umod(n);return this.g.mulAdd(S,h,D)},ln.prototype.getKeyRecoveryParam=function(e,t,r,i){if(t=new ll(t,i),t.recoveryParam!==null)return t.recoveryParam;for(var n=0;n<4;n++){var s;try{s=this.recoverPubKey(e,t,n)}catch{continue}if(s.eq(r))return n}throw new Error("Unable to find valid recovery factor")};var Zx=Ga(function(e,t){var r=t;r.version="6.5.4",r.utils=Vi,r.rand=function(){throw new Error("unsupported")},r.curve=cl,r.curves=hl,r.ec=Jx,r.eddsa=null});Zx.ec;const Xx="signing-key/5.7.0";new Ae(Xx);const tC="transactions/5.7.0";new Ae(tC);var Fw;(function(e){e[e.legacy=0]="legacy",e[e.eip2930=1]="eip2930",e[e.eip1559=2]="eip1559"})(Fw||(Fw={}));const kw="base10",fi="base16",$d="base64pad",Bd="utf8",jw=0,Qa=1,eC=0,qw=1,Ud=12,Ld=32;function rC(){const e=w0.generateKeyPair();return{privateKey:Ii(e.secretKey,fi),publicKey:Ii(e.publicKey,fi)}}function Fd(){const e=wa.randomBytes(Ld);return Ii(e,fi)}function iC(e,t){const r=w0.sharedKey(zi(e,fi),zi(t,fi),!0),i=new $4(ya.SHA256,r).expand(Ld);return Ii(i,fi)}function nC(e){const t=ya.hash(zi(e,fi));return Ii(t,fi)}function kd(e){const t=ya.hash(zi(e,Bd));return Ii(t,fi)}function sC(e){return zi(`${e}`,kw)}function mh(e){return Number(Ii(e,kw))}function oC(e){const t=sC(typeof e.type<"u"?e.type:jw);if(mh(t)===Qa&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?zi(e.senderPublicKey,fi):void 0,i=typeof e.iv<"u"?zi(e.iv,fi):wa.randomBytes(Ud),n=new l0.ChaCha20Poly1305(zi(e.symKey,fi)).seal(i,zi(e.message,Bd));return cC({type:t,sealed:n,iv:i,senderPublicKey:r})}function aC(e){const t=new l0.ChaCha20Poly1305(zi(e.symKey,fi)),{sealed:r,iv:i}=fl(e.encoded),n=t.open(i,r);if(n===null)throw new Error("Failed to decrypt");return Ii(n,Bd)}function cC(e){if(mh(e.type)===Qa){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Ii(Mm([e.type,e.senderPublicKey,e.iv,e.sealed]),$d)}return Ii(Mm([e.type,e.iv,e.sealed]),$d)}function fl(e){const t=zi(e,$d),r=t.slice(eC,qw),i=qw;if(mh(r)===Qa){const d=i+Ld,g=d+Ud,p=t.slice(i,d),_=t.slice(d,g),S=t.slice(g);return{type:r,sealed:S,iv:_,senderPublicKey:p}}const n=i+Ud,s=t.slice(i,n),h=t.slice(n);return{type:r,sealed:h,iv:s}}function hC(e,t){const r=fl(e);return zw({type:mh(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Ii(r.senderPublicKey,fi):void 0,receiverPublicKey:t?.receiverPublicKey})}function zw(e){const t=e?.type||jw;if(t===Qa){if(typeof e?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof e?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e?.senderPublicKey,receiverPublicKey:e?.receiverPublicKey}}function Hw(e){return e.type===Qa&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}const uC="irn";function jd(e){return e?.relay||{protocol:uC}}function vh(e){const t=l7[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var lC=Object.defineProperty,fC=Object.defineProperties,dC=Object.getOwnPropertyDescriptors,Kw=Object.getOwnPropertySymbols,pC=Object.prototype.hasOwnProperty,gC=Object.prototype.propertyIsEnumerable,Ww=(e,t,r)=>t in e?lC(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Vw=(e,t)=>{for(var r in t||(t={}))pC.call(t,r)&&Ww(e,r,t[r]);if(Kw)for(var r of Kw(t))gC.call(t,r)&&Ww(e,r,t[r]);return e},mC=(e,t)=>fC(e,dC(t));function vC(e,t="-"){const r={},i="relay"+t;return Object.keys(e).forEach(n=>{if(n.startsWith(i)){const s=n.replace(i,""),h=e[n];r[s]=h}}),r}function Gw(e){e=e.includes("wc://")?e.replace("wc://",""):e,e=e.includes("wc:")?e.replace("wc:",""):e;const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,i=e.substring(0,t),n=e.substring(t+1,r).split("@"),s=typeof r<"u"?e.substring(r):"",h=kc.parse(s),d=typeof h.methods=="string"?h.methods.split(","):void 0;return{protocol:i,topic:wC(n[0]),version:parseInt(n[1],10),symKey:h.symKey,relay:vC(h),methods:d,expiryTimestamp:h.expiryTimestamp?parseInt(h.expiryTimestamp,10):void 0}}function wC(e){return e.startsWith("//")?e.substring(2):e}function yC(e,t="-"){const r="relay",i={};return Object.keys(e).forEach(n=>{const s=r+t+n;e[n]&&(i[s]=e[n])}),i}function bC(e){return`${e.protocol}:${e.topic}@${e.version}?`+kc.stringify(Vw(mC(Vw({symKey:e.symKey},yC(e.relay)),{expiryTimestamp:e.expiryTimestamp}),e.methods?{methods:e.methods.join(",")}:{}))}const AC={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},_C={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ve(e,t){const{message:r,code:i}=_C[e];return{message:t?`${r} ${t}`:r,code:i}}function wh(e,t){const{message:r,code:i}=AC[e];return{message:t?`${r} ${t}`:r,code:i}}function EC(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function dl(e){return typeof e>"u"}function Qw(e,t){return t&&dl(e)?!0:typeof e=="string"&&!!e.trim().length}function MC(e){if(Qw(e,!1))try{return typeof new URL(e)<"u"}catch{return!1}return!1}function SC(e){var t;return(t=e?.proposer)==null?void 0:t.publicKey}function IC(e){return e?.topic}function qd(e){return typeof e<"u"&&typeof e!==null}function Yw(){const e=Ju();return new Promise(t=>{switch(e){case On.browser:t(xC());break;case On.reactNative:t(CC());break;case On.node:t(DC());break;default:t(!0)}})}function xC(){return Yu()&&navigator?.onLine}async function CC(){return Ua()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function DC(){return!0}function OC(e){switch(Ju()){case On.browser:NC(e);break;case On.reactNative:PC(e);break}}function NC(e){!Ua()&&Yu()&&(window.addEventListener("online",()=>e(!0)),window.addEventListener("offline",()=>e(!1)))}function PC(e){Ua()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(t=>e(t?.isConnected))}const RC="PARSE_ERROR",TC="INVALID_REQUEST",$C="METHOD_NOT_FOUND",BC="INVALID_PARAMS",Jw="INTERNAL_ERROR",zd="SERVER_ERROR",UC=[-32700,-32600,-32601,-32602,-32603],yh={[RC]:{code:-32700,message:"Parse error"},[TC]:{code:-32600,message:"Invalid Request"},[$C]:{code:-32601,message:"Method not found"},[BC]:{code:-32602,message:"Invalid params"},[Jw]:{code:-32603,message:"Internal error"},[zd]:{code:-32e3,message:"Server error"}},Zw=zd;function LC(e){return UC.includes(e)}function Xw(e){return Object.keys(yh).includes(e)?yh[e]:yh[Zw]}function FC(e){const t=Object.values(yh).find(r=>r.code===e);return t||yh[Zw]}function ty(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}var ey={};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var Hd=function(e,t){return Hd=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var n in i)i.hasOwnProperty(n)&&(r[n]=i[n])},Hd(e,t)};function kC(e,t){Hd(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var Kd=function(){return Kd=Object.assign||function(t){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},Kd.apply(this,arguments)};function jC(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}function qC(e,t,r,i){var n=arguments.length,s=n<3?t:i===null?i=Object.getOwnPropertyDescriptor(t,r):i,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,t,r,i);else for(var d=e.length-1;d>=0;d--)(h=e[d])&&(s=(n<3?h(s):n>3?h(t,r,s):h(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s}function zC(e,t){return function(r,i){t(r,i,e)}}function HC(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function KC(e,t,r,i){function n(s){return s instanceof r?s:new r(function(h){h(s)})}return new(r||(r=Promise))(function(s,h){function d(_){try{p(i.next(_))}catch(S){h(S)}}function g(_){try{p(i.throw(_))}catch(S){h(S)}}function p(_){_.done?s(_.value):n(_.value).then(d,g)}p((i=i.apply(e,t||[])).next())})}function WC(e,t){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,n,s,h;return h={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function d(p){return function(_){return g([p,_])}}function g(p){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,n&&(s=p[0]&2?n.return:p[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,p[1])).done)return s;switch(n=0,s&&(p=[p[0]&2,s.value]),p[0]){case 0:case 1:s=p;break;case 4:return r.label++,{value:p[1],done:!1};case 5:r.label++,n=p[1],p=[0];continue;case 7:p=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(p[0]===6||p[0]===2)){r=0;continue}if(p[0]===3&&(!s||p[1]>s[0]&&p[1]<s[3])){r.label=p[1];break}if(p[0]===6&&r.label<s[1]){r.label=s[1],s=p;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(p);break}s[2]&&r.ops.pop(),r.trys.pop();continue}p=t.call(e,r)}catch(_){p=[6,_],n=0}finally{i=s=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}function VC(e,t,r,i){i===void 0&&(i=r),e[i]=t[r]}function GC(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Wd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ry(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var i=r.call(e),n,s=[],h;try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(d){h={error:d}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(h)throw h.error}}return s}function QC(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(ry(arguments[t]));return e}function YC(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var i=Array(e),n=0,t=0;t<r;t++)for(var s=arguments[t],h=0,d=s.length;h<d;h++,n++)i[n]=s[h];return i}function bh(e){return this instanceof bh?(this.v=e,this):new bh(e)}function JC(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=r.apply(e,t||[]),n,s=[];return n={},h("next"),h("throw"),h("return"),n[Symbol.asyncIterator]=function(){return this},n;function h(D){i[D]&&(n[D]=function(O){return new Promise(function(N,L){s.push([D,O,N,L])>1||d(D,O)})})}function d(D,O){try{g(i[D](O))}catch(N){S(s[0][3],N)}}function g(D){D.value instanceof bh?Promise.resolve(D.value.v).then(p,_):S(s[0][2],D)}function p(D){d("next",D)}function _(D){d("throw",D)}function S(D,O){D(O),s.shift(),s.length&&d(s[0][0],s[0][1])}}function ZC(e){var t,r;return t={},i("next"),i("throw",function(n){throw n}),i("return"),t[Symbol.iterator]=function(){return this},t;function i(n,s){t[n]=e[n]?function(h){return(r=!r)?{value:bh(e[n](h)),done:n==="return"}:s?s(h):h}:s}}function XC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Wd=="function"?Wd(e):e[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(s){r[s]=e[s]&&function(h){return new Promise(function(d,g){h=e[s](h),n(d,g,h.done,h.value)})}}function n(s,h,d,g){Promise.resolve(g).then(function(p){s({value:p,done:d})},h)}}function tD(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function eD(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function rD(e){return e&&e.__esModule?e:{default:e}}function iD(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function nD(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var sD=Object.freeze({__proto__:null,__extends:kC,get __assign(){return Kd},__rest:jC,__decorate:qC,__param:zC,__metadata:HC,__awaiter:KC,__generator:WC,__createBinding:VC,__exportStar:GC,__values:Wd,__read:ry,__spread:QC,__spreadArrays:YC,__await:bh,__asyncGenerator:JC,__asyncDelegator:ZC,__asyncValues:XC,__makeTemplateObject:tD,__importStar:eD,__importDefault:rD,__classPrivateFieldGet:iD,__classPrivateFieldSet:nD}),oD=uu(sD),Ps={},iy;function aD(){if(iy)return Ps;iy=1,Object.defineProperty(Ps,"__esModule",{value:!0}),Ps.isBrowserCryptoAvailable=Ps.getSubtleCrypto=Ps.getBrowerCrypto=void 0;function e(){return ci?.crypto||ci?.msCrypto||{}}Ps.getBrowerCrypto=e;function t(){const i=e();return i.subtle||i.webkitSubtle}Ps.getSubtleCrypto=t;function r(){return!!e()&&!!t()}return Ps.isBrowserCryptoAvailable=r,Ps}var Rs={},ny;function cD(){if(ny)return Rs;ny=1,Object.defineProperty(Rs,"__esModule",{value:!0}),Rs.isBrowser=Rs.isNode=Rs.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Rs.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Rs.isNode=t;function r(){return!e()&&!t()}return Rs.isBrowser=r,Rs}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=oD;t.__exportStar(aD(),e),t.__exportStar(cD(),e)})(ey);function io(e=3){const t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function Fo(e=6){return BigInt(io(e))}function Ya(e,t,r){return{id:r||io(),jsonrpc:"2.0",method:e,params:t}}function pl(e,t){return{id:e,jsonrpc:"2.0",result:t}}function gl(e,t,r){return{id:e,jsonrpc:"2.0",error:hD(t,r)}}function hD(e,t){return typeof e>"u"?Xw(Jw):(typeof e=="string"&&(e=Object.assign(Object.assign({},Xw(zd)),{message:e})),typeof t<"u"&&(e.data=t),LC(e.code)&&(e=FC(e.code)),e)}class uD{}class lD extends uD{constructor(){super()}}class fD extends lD{constructor(t){super()}}const dD="^https?:",pD="^wss?:";function gD(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function sy(e,t){const r=gD(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function oy(e){return sy(e,dD)}function ay(e){return sy(e,pD)}function mD(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function cy(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function Vd(e){return cy(e)&&"method"in e}function ml(e){return cy(e)&&(cs(e)||fn(e))}function cs(e){return"result"in e}function fn(e){return"error"in e}class hs extends fD{constructor(t){super(t),this.events=new Kr.exports.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(Ya(t.method,t.params||[],t.id||Fo().toString()),r)}async requestStrict(t,r){return new Promise(async(i,n)=>{if(!this.connection.connected)try{await this.open()}catch(s){n(s)}this.events.on(`${t.id}`,s=>{fn(s)?n(s.error):i(s.result)});try{await this.connection.send(t,r)}catch(s){n(s)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),ml(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const vD=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),wD=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",hy=e=>e.split("?")[0],uy=10,yD=vD();class bD{constructor(t){if(this.url=t,this.events=new Kr.exports.EventEmitter,this.registering=!1,!ay(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=i=>{this.onClose(i),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(xs(t))}catch(r){this.onError(t.id,r)}}register(t=this.url){if(!ay(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((i,n)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),n(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return n(new Error("WebSocket connection is missing or invalid"));i(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,i)=>{const n=new URLSearchParams(t).get("origin"),s=ey.isReactNative()?{headers:{origin:n}}:{rejectUnauthorized:!mD(t)},h=new yD(t,[],s);wD()?h.onerror=d=>{const g=d;i(this.emitError(g.error))}:h.on("error",d=>{i(this.emitError(d))}),h.onopen=()=>{this.onOpen(h),r(h)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?ih(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const i=this.parseError(r),n=i.message||i.toString(),s=gl(t,n);this.events.emit("payload",s)}parseError(t,r=this.url){return ty(t,hy(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>uy&&this.events.setMaxListeners(uy)}emitError(t){const r=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${hy(this.url)}`));return this.events.emit("register_error",r),r}}var Gd={exports:{}};(function(e,t){var r=200,i="__lodash_hash_undefined__",n=1,s=2,h=9007199254740991,d="[object Arguments]",g="[object Array]",p="[object AsyncFunction]",_="[object Boolean]",S="[object Date]",D="[object Error]",O="[object Function]",N="[object GeneratorFunction]",L="[object Map]",z="[object Number]",G="[object Null]",q="[object Object]",W="[object Promise]",B="[object Proxy]",k="[object RegExp]",j="[object Set]",I="[object String]",U="[object Symbol]",et="[object Undefined]",ct="[object WeakMap]",Z="[object ArrayBuffer]",ut="[object DataView]",o="[object Float32Array]",u="[object Float64Array]",f="[object Int8Array]",v="[object Int16Array]",A="[object Int32Array]",E="[object Uint8Array]",x="[object Uint8ClampedArray]",y="[object Uint16Array]",c="[object Uint32Array]",b=/[\\^$.*+?()[\]{}|]/g,J=/^\[object .+?Constructor\]$/,X=/^(?:0|[1-9]\d*)$/,w={};w[o]=w[u]=w[f]=w[v]=w[A]=w[E]=w[x]=w[y]=w[c]=!0,w[d]=w[g]=w[Z]=w[_]=w[ut]=w[S]=w[D]=w[O]=w[L]=w[z]=w[q]=w[k]=w[j]=w[I]=w[ct]=!1;var V=typeof ci=="object"&&ci&&ci.Object===Object&&ci,P=typeof self=="object"&&self&&self.Object===Object&&self,T=V||P||Function("return this")(),K=t&&!t.nodeType&&t,M=K&&!0&&e&&!e.nodeType&&e,$=M&&M.exports===K,it=$&&V.process,ot=function(){try{return it&&it.binding&&it.binding("util")}catch{}}(),rt=ot&&ot.isTypedArray;function Ut(Q,nt){for(var It=-1,Xt=Q==null?0:Q.length,er=0,me=[];++It<Xt;){var dr=Q[It];nt(dr,It,Q)&&(me[er++]=dr)}return me}function _t(Q,nt){for(var It=-1,Xt=nt.length,er=Q.length;++It<Xt;)Q[er+It]=nt[It];return Q}function wt(Q,nt){for(var It=-1,Xt=Q==null?0:Q.length;++It<Xt;)if(nt(Q[It],It,Q))return!0;return!1}function pe(Q,nt){for(var It=-1,Xt=Array(Q);++It<Q;)Xt[It]=nt(It);return Xt}function Ot(Q){return function(nt){return Q(nt)}}function bt(Q,nt){return Q.has(nt)}function ee(Q,nt){return Q?.[nt]}function pt(Q){var nt=-1,It=Array(Q.size);return Q.forEach(function(Xt,er){It[++nt]=[er,Xt]}),It}function gt(Q,nt){return function(It){return Q(nt(It))}}function ne(Q){var nt=-1,It=Array(Q.size);return Q.forEach(function(Xt){It[++nt]=Xt}),It}var ft=Array.prototype,mt=Function.prototype,Zt=Object.prototype,dt=T["__core-js_shared__"],At=mt.toString,re=Zt.hasOwnProperty,Et=function(){var Q=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||"");return Q?"Symbol(src)_1."+Q:""}(),Mt=Zt.toString,oe=RegExp("^"+At.call(re).replace(b,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xt=$?T.Buffer:void 0,St=T.Symbol,qe=T.Uint8Array,qt=Zt.propertyIsEnumerable,Ht=ft.splice,ze=St?St.toStringTag:void 0,Kt=Object.getOwnPropertySymbols,Wt=xt?xt.isBuffer:void 0,ar=gt(Object.keys,Object),Rt=Yi(T,"DataView"),Nt=Yi(T,"Map"),Ee=Yi(T,"Promise"),Tt=Yi(T,"Set"),Pt=Yi(T,"WeakMap"),ge=Yi(Object,"create"),Lt=Fs(Rt),Ft=Fs(Nt),Me=Fs(Ee),kt=Fs(Tt),$t=Fs(Pt),Ie=St?St.prototype:void 0,Bt=Ie?Ie.valueOf:void 0;function Dt(Q){var nt=-1,It=Q==null?0:Q.length;for(this.clear();++nt<It;){var Xt=Q[nt];this.set(Xt[0],Xt[1])}}function Ce(){this.__data__=ge?ge(null):{},this.size=0}function jt(Q){var nt=this.has(Q)&&delete this.__data__[Q];return this.size-=nt?1:0,nt}function Qt(Q){var nt=this.__data__;if(ge){var It=nt[Q];return It===i?void 0:It}return re.call(nt,Q)?nt[Q]:void 0}function _r(Q){var nt=this.__data__;return ge?nt[Q]!==void 0:re.call(nt,Q)}function Yt(Q,nt){var It=this.__data__;return this.size+=this.has(Q)?0:1,It[Q]=ge&&nt===void 0?i:nt,this}Dt.prototype.clear=Ce,Dt.prototype.delete=jt,Dt.prototype.get=Qt,Dt.prototype.has=_r,Dt.prototype.set=Yt;function zt(Q){var nt=-1,It=Q==null?0:Q.length;for(this.clear();++nt<It;){var Xt=Q[nt];this.set(Xt[0],Xt[1])}}function cr(){this.__data__=[],this.size=0}function hr(Q){var nt=this.__data__,It=ra(nt,Q);if(It<0)return!1;var Xt=nt.length-1;return It==Xt?nt.pop():Ht.call(nt,It,1),--this.size,!0}function ur(Q){var nt=this.__data__,It=ra(nt,Q);return It<0?void 0:nt[It][1]}function lr(Q){return ra(this.__data__,Q)>-1}function fr(Q,nt){var It=this.__data__,Xt=ra(It,Q);return Xt<0?(++this.size,It.push([Q,nt])):It[Xt][1]=nt,this}zt.prototype.clear=cr,zt.prototype.delete=hr,zt.prototype.get=ur,zt.prototype.has=lr,zt.prototype.set=fr;function Ke(Q){var nt=-1,It=Q==null?0:Q.length;for(this.clear();++nt<It;){var Xt=Q[nt];this.set(Xt[0],Xt[1])}}function kr(){this.size=0,this.__data__={hash:new Dt,map:new(Nt||zt),string:new Dt}}function gi(Q){var nt=wo(this,Q).delete(Q);return this.size-=nt?1:0,nt}function jr(Q){return wo(this,Q).get(Q)}function mi(Q){return wo(this,Q).has(Q)}function vi(Q,nt){var It=wo(this,Q),Xt=It.size;return It.set(Q,nt),this.size+=It.size==Xt?0:1,this}Ke.prototype.clear=kr,Ke.prototype.delete=gi,Ke.prototype.get=jr,Ke.prototype.has=mi,Ke.prototype.set=vi;function qr(Q){var nt=-1,It=Q==null?0:Q.length;for(this.__data__=new Ke;++nt<It;)this.add(Q[nt])}function ni(Q){return this.__data__.set(Q,i),this}function si(Q){return this.__data__.has(Q)}qr.prototype.add=qr.prototype.push=ni,qr.prototype.has=si;function wr(Q){var nt=this.__data__=new zt(Q);this.size=nt.size}function wi(){this.__data__=new zt,this.size=0}function yi(Q){var nt=this.__data__,It=nt.delete(Q);return this.size=nt.size,It}function bi(Q){return this.__data__.get(Q)}function Ai(Q){return this.__data__.has(Q)}function Xl(Q,nt){var It=this.__data__;if(It instanceof zt){var Xt=It.__data__;if(!Nt||Xt.length<r-1)return Xt.push([Q,nt]),this.size=++It.size,this;It=this.__data__=new Ke(Xt)}return It.set(Q,nt),this.size=It.size,this}wr.prototype.clear=wi,wr.prototype.delete=yi,wr.prototype.get=bi,wr.prototype.has=Ai,wr.prototype.set=Xl;function tf(Q,nt){var It=bc(Q),Xt=!It&&df(Q),er=!It&&!Xt&&Vh(Q),me=!It&&!Xt&&!er&&mf(Q),dr=It||Xt||er||me,Dr=dr?pe(Q.length,String):[],Le=Dr.length;for(var rr in Q)(nt||re.call(Q,rr))&&!(dr&&(rr=="length"||er&&(rr=="offset"||rr=="parent")||me&&(rr=="buffer"||rr=="byteLength"||rr=="byteOffset")||cf(rr,Le)))&&Dr.push(rr);return Dr}function ra(Q,nt){for(var It=Q.length;It--;)if(ff(Q[It][0],nt))return It;return-1}function Kh(Q,nt,It){var Xt=nt(Q);return bc(Q)?Xt:_t(Xt,It(Q))}function ia(Q){return Q==null?Q===void 0?et:G:ze&&ze in Object(Q)?of(Q):Sp(Q)}function Wh(Q){return sa(Q)&&ia(Q)==d}function na(Q,nt,It,Xt,er){return Q===nt?!0:Q==null||nt==null||!sa(Q)&&!sa(nt)?Q!==Q&&nt!==nt:ef(Q,nt,It,Xt,na,er)}function ef(Q,nt,It,Xt,er,me){var dr=bc(Q),Dr=bc(nt),Le=dr?g:vs(Q),rr=Dr?g:vs(nt);Le=Le==d?q:Le,rr=rr==d?q:rr;var Ir=Le==q,Ui=rr==q,Or=Le==rr;if(Or&&Vh(Q)){if(!Vh(nt))return!1;dr=!0,Ir=!1}if(Or&&!Ir)return me||(me=new wr),dr||mf(Q)?wc(Q,nt,It,Xt,er,me):Mp(Q,nt,Le,It,Xt,er,me);if(!(It&n)){var pr=Ir&&re.call(Q,"__wrapped__"),_i=Ui&&re.call(nt,"__wrapped__");if(pr||_i){var Bn=pr?Q.value():Q,mn=_i?nt.value():nt;return me||(me=new wr),er(Bn,mn,It,Xt,me)}}return Or?(me||(me=new wr),sf(Q,nt,It,Xt,er,me)):!1}function Ep(Q){if(!gf(Q)||uf(Q))return!1;var nt=Ac(Q)?oe:J;return nt.test(Fs(Q))}function rf(Q){return sa(Q)&&pf(Q.length)&&!!w[ia(Q)]}function nf(Q){if(!lf(Q))return ar(Q);var nt=[];for(var It in Object(Q))re.call(Q,It)&&It!="constructor"&&nt.push(It);return nt}function wc(Q,nt,It,Xt,er,me){var dr=It&n,Dr=Q.length,Le=nt.length;if(Dr!=Le&&!(dr&&Le>Dr))return!1;var rr=me.get(Q);if(rr&&me.get(nt))return rr==nt;var Ir=-1,Ui=!0,Or=It&s?new qr:void 0;for(me.set(Q,nt),me.set(nt,Q);++Ir<Dr;){var pr=Q[Ir],_i=nt[Ir];if(Xt)var Bn=dr?Xt(_i,pr,Ir,nt,Q,me):Xt(pr,_i,Ir,Q,nt,me);if(Bn!==void 0){if(Bn)continue;Ui=!1;break}if(Or){if(!wt(nt,function(mn,ws){if(!bt(Or,ws)&&(pr===mn||er(pr,mn,It,Xt,me)))return Or.push(ws)})){Ui=!1;break}}else if(!(pr===_i||er(pr,_i,It,Xt,me))){Ui=!1;break}}return me.delete(Q),me.delete(nt),Ui}function Mp(Q,nt,It,Xt,er,me,dr){switch(It){case ut:if(Q.byteLength!=nt.byteLength||Q.byteOffset!=nt.byteOffset)return!1;Q=Q.buffer,nt=nt.buffer;case Z:return!(Q.byteLength!=nt.byteLength||!me(new qe(Q),new qe(nt)));case _:case S:case z:return ff(+Q,+nt);case D:return Q.name==nt.name&&Q.message==nt.message;case k:case I:return Q==nt+"";case L:var Dr=pt;case j:var Le=Xt&n;if(Dr||(Dr=ne),Q.size!=nt.size&&!Le)return!1;var rr=dr.get(Q);if(rr)return rr==nt;Xt|=s,dr.set(Q,nt);var Ir=wc(Dr(Q),Dr(nt),Xt,er,me,dr);return dr.delete(Q),Ir;case U:if(Bt)return Bt.call(Q)==Bt.call(nt)}return!1}function sf(Q,nt,It,Xt,er,me){var dr=It&n,Dr=yc(Q),Le=Dr.length,rr=yc(nt),Ir=rr.length;if(Le!=Ir&&!dr)return!1;for(var Ui=Le;Ui--;){var Or=Dr[Ui];if(!(dr?Or in nt:re.call(nt,Or)))return!1}var pr=me.get(Q);if(pr&&me.get(nt))return pr==nt;var _i=!0;me.set(Q,nt),me.set(nt,Q);for(var Bn=dr;++Ui<Le;){Or=Dr[Ui];var mn=Q[Or],ws=nt[Or];if(Xt)var Gh=dr?Xt(ws,mn,Or,nt,Q,me):Xt(mn,ws,Or,Q,nt,me);if(!(Gh===void 0?mn===ws||er(mn,ws,It,Xt,me):Gh)){_i=!1;break}Bn||(Bn=Or=="constructor")}if(_i&&!Bn){var oa=Q.constructor,zr=nt.constructor;oa!=zr&&"constructor"in Q&&"constructor"in nt&&!(typeof oa=="function"&&oa instanceof oa&&typeof zr=="function"&&zr instanceof zr)&&(_i=!1)}return me.delete(Q),me.delete(nt),_i}function yc(Q){return Kh(Q,Cp,af)}function wo(Q,nt){var It=Q.__data__;return hf(nt)?It[typeof nt=="string"?"string":"hash"]:It.map}function Yi(Q,nt){var It=ee(Q,nt);return Ep(It)?It:void 0}function of(Q){var nt=re.call(Q,ze),It=Q[ze];try{Q[ze]=void 0;var Xt=!0}catch{}var er=Mt.call(Q);return Xt&&(nt?Q[ze]=It:delete Q[ze]),er}var af=Kt?function(Q){return Q==null?[]:(Q=Object(Q),Ut(Kt(Q),function(nt){return qt.call(Q,nt)}))}:tr,vs=ia;(Rt&&vs(new Rt(new ArrayBuffer(1)))!=ut||Nt&&vs(new Nt)!=L||Ee&&vs(Ee.resolve())!=W||Tt&&vs(new Tt)!=j||Pt&&vs(new Pt)!=ct)&&(vs=function(Q){var nt=ia(Q),It=nt==q?Q.constructor:void 0,Xt=It?Fs(It):"";if(Xt)switch(Xt){case Lt:return ut;case Ft:return L;case Me:return W;case kt:return j;case $t:return ct}return nt});function cf(Q,nt){return nt=nt??h,!!nt&&(typeof Q=="number"||X.test(Q))&&Q>-1&&Q%1==0&&Q<nt}function hf(Q){var nt=typeof Q;return nt=="string"||nt=="number"||nt=="symbol"||nt=="boolean"?Q!=="__proto__":Q===null}function uf(Q){return!!Et&&Et in Q}function lf(Q){var nt=Q&&Q.constructor,It=typeof nt=="function"&&nt.prototype||Zt;return Q===It}function Sp(Q){return Mt.call(Q)}function Fs(Q){if(Q!=null){try{return At.call(Q)}catch{}try{return Q+""}catch{}}return""}function ff(Q,nt){return Q===nt||Q!==Q&&nt!==nt}var df=Wh(function(){return arguments}())?Wh:function(Q){return sa(Q)&&re.call(Q,"callee")&&!qt.call(Q,"callee")},bc=Array.isArray;function Ip(Q){return Q!=null&&pf(Q.length)&&!Ac(Q)}var Vh=Wt||Ze;function xp(Q,nt){return na(Q,nt)}function Ac(Q){if(!gf(Q))return!1;var nt=ia(Q);return nt==O||nt==N||nt==p||nt==B}function pf(Q){return typeof Q=="number"&&Q>-1&&Q%1==0&&Q<=h}function gf(Q){var nt=typeof Q;return Q!=null&&(nt=="object"||nt=="function")}function sa(Q){return Q!=null&&typeof Q=="object"}var mf=rt?Ot(rt):rf;function Cp(Q){return Ip(Q)?tf(Q):nf(Q)}function tr(){return[]}function Ze(){return!1}e.exports=xp})(Gd,Gd.exports);var AD=Gd.exports;function _D(e,t){return t=t||{},new Promise(function(r,i){var n=new XMLHttpRequest,s=[],h=[],d={},g=function(){return{ok:(n.status/100|0)==2,statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(n.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:g,headers:{keys:function(){return s},entries:function(){return h},get:function(_){return d[_.toLowerCase()]},has:function(_){return _.toLowerCase()in d}}}};for(var p in n.open(t.method||"get",e,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(_,S,D){s.push(S=S.toLowerCase()),h.push([S,D]),d[S]=d[S]?d[S]+","+D:D}),r(g())},n.onerror=i,n.withCredentials=t.credentials=="include",t.headers)n.setRequestHeader(p,t.headers[p]);n.send(t.body||null)})}var ED=Object.freeze({__proto__:null,default:_D}),ly=uu(ED),MD=self.fetch||(self.fetch=ly.default||ly),SD=Object.defineProperty,fy=Object.getOwnPropertySymbols,ID=Object.prototype.hasOwnProperty,xD=Object.prototype.propertyIsEnumerable,dy=(e,t,r)=>t in e?SD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,di=(e,t)=>{for(var r in t||(t={}))ID.call(t,r)&&dy(e,r,t[r]);if(fy)for(var r of fy(t))xD.call(t,r)&&dy(e,r,t[r]);return e};function CD(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),i=0;i<r.length;i++)r[i]=255;for(var n=0;n<e.length;n++){var s=e.charAt(n),h=s.charCodeAt(0);if(r[h]!==255)throw new TypeError(s+" is ambiguous");r[h]=n}var d=e.length,g=e.charAt(0),p=Math.log(d)/Math.log(256),_=Math.log(256)/Math.log(d);function S(N){if(N instanceof Uint8Array||(ArrayBuffer.isView(N)?N=new Uint8Array(N.buffer,N.byteOffset,N.byteLength):Array.isArray(N)&&(N=Uint8Array.from(N))),!(N instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(N.length===0)return"";for(var L=0,z=0,G=0,q=N.length;G!==q&&N[G]===0;)G++,L++;for(var W=(q-G)*_+1>>>0,B=new Uint8Array(W);G!==q;){for(var k=N[G],j=0,I=W-1;(k!==0||j<z)&&I!==-1;I--,j++)k+=256*B[I]>>>0,B[I]=k%d>>>0,k=k/d>>>0;if(k!==0)throw new Error("Non-zero carry");z=j,G++}for(var U=W-z;U!==W&&B[U]===0;)U++;for(var et=g.repeat(L);U<W;++U)et+=e.charAt(B[U]);return et}function D(N){if(typeof N!="string")throw new TypeError("Expected String");if(N.length===0)return new Uint8Array;var L=0;if(N[L]!==" "){for(var z=0,G=0;N[L]===g;)z++,L++;for(var q=(N.length-L)*p+1>>>0,W=new Uint8Array(q);N[L];){var B=r[N.charCodeAt(L)];if(B===255)return;for(var k=0,j=q-1;(B!==0||k<G)&&j!==-1;j--,k++)B+=d*W[j]>>>0,W[j]=B%256>>>0,B=B/256>>>0;if(B!==0)throw new Error("Non-zero carry");G=k,L++}if(N[L]!==" "){for(var I=q-G;I!==q&&W[I]===0;)I++;for(var U=new Uint8Array(z+(q-I)),et=z;I!==q;)U[et++]=W[I++];return U}}}function O(N){var L=D(N);if(L)return L;throw new Error(`Non-${t} character`)}return{encode:S,decodeUnsafe:D,decode:O}}var DD=CD,OD=DD;const py=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},ND=e=>new TextEncoder().encode(e),PD=e=>new TextDecoder().decode(e);class RD{constructor(t,r,i){this.name=t,this.prefix=r,this.baseEncode=i}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class TD{constructor(t,r,i){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=i}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return gy(this,t)}}class $D{constructor(t){this.decoders=t}or(t){return gy(this,t)}decode(t){const r=t[0],i=this.decoders[r];if(i)return i.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const gy=(e,t)=>new $D(di(di({},e.decoders||{[e.prefix]:e}),t.decoders||{[t.prefix]:t}));class BD{constructor(t,r,i,n){this.name=t,this.prefix=r,this.baseEncode=i,this.baseDecode=n,this.encoder=new RD(t,r,i),this.decoder=new TD(t,r,n)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const vl=({name:e,prefix:t,encode:r,decode:i})=>new BD(e,t,r,i),Ah=({prefix:e,name:t,alphabet:r})=>{const{encode:i,decode:n}=OD(r,t);return vl({prefix:e,name:t,encode:i,decode:s=>py(n(s))})},UD=(e,t,r,i)=>{const n={};for(let _=0;_<t.length;++_)n[t[_]]=_;let s=e.length;for(;e[s-1]==="=";)--s;const h=new Uint8Array(s*r/8|0);let d=0,g=0,p=0;for(let _=0;_<s;++_){const S=n[e[_]];if(S===void 0)throw new SyntaxError(`Non-${i} character`);g=g<<r|S,d+=r,d>=8&&(d-=8,h[p++]=255&g>>d)}if(d>=r||255&g<<8-d)throw new SyntaxError("Unexpected end of data");return h},LD=(e,t,r)=>{const i=t[t.length-1]==="=",n=(1<<r)-1;let s="",h=0,d=0;for(let g=0;g<e.length;++g)for(d=d<<8|e[g],h+=8;h>r;)h-=r,s+=t[n&d>>h];if(h&&(s+=t[n&d<<r-h]),i)for(;s.length*r&7;)s+="=";return s},Jr=({name:e,prefix:t,bitsPerChar:r,alphabet:i})=>vl({prefix:t,name:e,encode(n){return LD(n,i,r)},decode(n){return UD(n,i,r,e)}}),FD=vl({prefix:"\0",name:"identity",encode:e=>PD(e),decode:e=>ND(e)});var kD=Object.freeze({__proto__:null,identity:FD});const jD=Jr({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var qD=Object.freeze({__proto__:null,base2:jD});const zD=Jr({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var HD=Object.freeze({__proto__:null,base8:zD});const KD=Ah({prefix:"9",name:"base10",alphabet:"0123456789"});var WD=Object.freeze({__proto__:null,base10:KD});const VD=Jr({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),GD=Jr({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var QD=Object.freeze({__proto__:null,base16:VD,base16upper:GD});const YD=Jr({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),JD=Jr({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ZD=Jr({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),XD=Jr({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),tO=Jr({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eO=Jr({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),rO=Jr({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),iO=Jr({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),nO=Jr({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var sO=Object.freeze({__proto__:null,base32:YD,base32upper:JD,base32pad:ZD,base32padupper:XD,base32hex:tO,base32hexupper:eO,base32hexpad:rO,base32hexpadupper:iO,base32z:nO});const oO=Ah({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),aO=Ah({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var cO=Object.freeze({__proto__:null,base36:oO,base36upper:aO});const hO=Ah({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),uO=Ah({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var lO=Object.freeze({__proto__:null,base58btc:hO,base58flickr:uO});const fO=Jr({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),dO=Jr({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),pO=Jr({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),gO=Jr({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var mO=Object.freeze({__proto__:null,base64:fO,base64pad:dO,base64url:pO,base64urlpad:gO});const my=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),vO=my.reduce((e,t,r)=>(e[r]=t,e),[]),wO=my.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function yO(e){return e.reduce((t,r)=>(t+=vO[r],t),"")}function bO(e){const t=[];for(const r of e){const i=wO[r.codePointAt(0)];if(i===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(i)}return new Uint8Array(t)}const AO=vl({prefix:"\u{1F680}",name:"base256emoji",encode:yO,decode:bO});var _O=Object.freeze({__proto__:null,base256emoji:AO}),EO=wy,vy=128,MO=127,SO=~MO,IO=Math.pow(2,31);function wy(e,t,r){t=t||[],r=r||0;for(var i=r;e>=IO;)t[r++]=e&255|vy,e/=128;for(;e&SO;)t[r++]=e&255|vy,e>>>=7;return t[r]=e|0,wy.bytes=r-i+1,t}var xO=Qd,CO=128,yy=127;function Qd(e,i){var r=0,i=i||0,n=0,s=i,h,d=e.length;do{if(s>=d)throw Qd.bytes=0,new RangeError("Could not decode varint");h=e[s++],r+=n<28?(h&yy)<<n:(h&yy)*Math.pow(2,n),n+=7}while(h>=CO);return Qd.bytes=s-i,r}var DO=Math.pow(2,7),OO=Math.pow(2,14),NO=Math.pow(2,21),PO=Math.pow(2,28),RO=Math.pow(2,35),TO=Math.pow(2,42),$O=Math.pow(2,49),BO=Math.pow(2,56),UO=Math.pow(2,63),LO=function(e){return e<DO?1:e<OO?2:e<NO?3:e<PO?4:e<RO?5:e<TO?6:e<$O?7:e<BO?8:e<UO?9:10},FO={encode:EO,decode:xO,encodingLength:LO},by=FO;const Ay=(e,t,r=0)=>(by.encode(e,t,r),t),_y=e=>by.encodingLength(e),Yd=(e,t)=>{const r=t.byteLength,i=_y(e),n=i+_y(r),s=new Uint8Array(n+r);return Ay(e,s,0),Ay(r,s,i),s.set(t,n),new kO(e,r,t,s)};class kO{constructor(t,r,i,n){this.code=t,this.size=r,this.digest=i,this.bytes=n}}const Ey=({name:e,code:t,encode:r})=>new jO(e,t,r);class jO{constructor(t,r,i){this.name=t,this.code=r,this.encode=i}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?Yd(this.code,r):r.then(i=>Yd(this.code,i))}else throw Error("Unknown type, must be binary type")}}const My=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),qO=Ey({name:"sha2-256",code:18,encode:My("SHA-256")}),zO=Ey({name:"sha2-512",code:19,encode:My("SHA-512")});var HO=Object.freeze({__proto__:null,sha256:qO,sha512:zO});const Sy=0,KO="identity",Iy=py;var WO=Object.freeze({__proto__:null,identity:{code:Sy,name:KO,encode:Iy,digest:e=>Yd(Sy,Iy(e))}});new TextEncoder,new TextDecoder;const xy=di(di(di(di(di(di(di(di(di(di({},kD),qD),HD),WD),QD),sO),cO),lO),mO),_O);di(di({},HO),WO);function VO(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function Cy(e,t,r,i){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:i}}}const Dy=Cy("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Jd=Cy("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=VO(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),GO=di({utf8:Dy,"utf-8":Dy,hex:xy.base16,latin1:Jd,ascii:Jd,binary:Jd},xy);function QO(e,t="utf8"){const r=GO[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}const Oy="wc",YO=2,Zd="core",no=`${Oy}@2:${Zd}:`,JO={name:Zd,logger:"error"},ZO={database:":memory:"},XO="crypto",Ny="client_ed25519_seed",tN=Vt.ONE_DAY,eN="keychain",rN="0.3",iN="messages",nN="0.3",sN=Vt.SIX_HOURS,oN="publisher",Py="irn",aN="error",cN="wss://relay.walletconnect.org",hN="ws://123.157.213.104:3010",uN="relayer",Ti={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},lN="_subscription",dn={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},fN=.1,dN="2.14.0",pN=1e4,gN="0.3",mN="WALLETCONNECT_CLIENT_ID",us={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},vN="subscription",wN="0.3",yN=Vt.FIVE_SECONDS*1e3,bN="pairing",AN="0.3",_h={wc_pairingDelete:{req:{ttl:Vt.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:Vt.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:Vt.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:Vt.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:Vt.ONE_DAY,prompt:!1,tag:0},res:{ttl:Vt.ONE_DAY,prompt:!1,tag:0}}},Ja={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},$n={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},_N="history",EN="0.3",MN="expirer",pn={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},SN="0.3",Xd="verify-api",IN="https://verify.walletconnect.com",Ry="https://verify.walletconnect.org",Eh=Ry,xN=[IN,Ry],CN="echo",DN="https://echo.walletconnect.com";class ON{constructor(t,r){this.core=t,this.logger=r,this.keychain=new Map,this.name=eN,this.version=rN,this.initialized=!1,this.storagePrefix=no,this.init=async()=>{if(!this.initialized){const i=await this.getKeyChain();typeof i<"u"&&(this.keychain=i),this.initialized=!0}},this.has=i=>(this.isInitialized(),this.keychain.has(i)),this.set=async(i,n)=>{this.isInitialized(),this.keychain.set(i,n),await this.persist()},this.get=i=>{this.isInitialized();const n=this.keychain.get(i);if(typeof n>"u"){const{message:s}=Ve("NO_MATCHING_KEY",`${this.name}: ${i}`);throw new Error(s)}return n},this.del=async i=>{this.isInitialized(),this.keychain.delete(i),await this.persist()},this.core=t,this.logger=Ni(r,this.name)}get context(){return Oi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,Uv(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Lv(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=Ve("NOT_INITIALIZED",this.name);throw new Error(t)}}}class NN{constructor(t,r,i){this.core=t,this.logger=r,this.name=XO,this.randomSessionIdentifier=Fd(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=n=>(this.isInitialized(),this.keychain.has(n)),this.getClientId=async()=>{this.isInitialized();const n=await this.getClientSeed(),s=Rv(n);return Pv(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const n=rC();return this.setPrivateKey(n.publicKey,n.privateKey)},this.signJWT=async n=>{this.isInitialized();const s=await this.getClientSeed(),h=Rv(s),d=this.randomSessionIdentifier;return await ES(d,n,tN,h)},this.generateSharedKey=(n,s,h)=>{this.isInitialized();const d=this.getPrivateKey(n),g=iC(d,s);return this.setSymKey(g,h)},this.setSymKey=async(n,s)=>{this.isInitialized();const h=s||nC(n);return await this.keychain.set(h,n),h},this.deleteKeyPair=async n=>{this.isInitialized(),await this.keychain.del(n)},this.deleteSymKey=async n=>{this.isInitialized(),await this.keychain.del(n)},this.encode=async(n,s,h)=>{this.isInitialized();const d=zw(h),g=xs(s);if(Hw(d)){const D=d.senderPublicKey,O=d.receiverPublicKey;n=await this.generateSharedKey(D,O)}const p=this.getSymKey(n),{type:_,senderPublicKey:S}=d;return oC({type:_,symKey:p,message:g,senderPublicKey:S})},this.decode=async(n,s,h)=>{this.isInitialized();const d=hC(s,h);if(Hw(d)){const g=d.receiverPublicKey,p=d.senderPublicKey;n=await this.generateSharedKey(g,p)}try{const g=this.getSymKey(n),p=aC({symKey:g,encoded:s});return ih(p)}catch(g){this.logger.error(`Failed to decode message from topic: '${n}', clientId: '${await this.getClientId()}'`),this.logger.error(g)}},this.getPayloadType=n=>{const s=fl(n);return mh(s.type)},this.getPayloadSenderPublicKey=n=>{const s=fl(n);return s.senderPublicKey?Ii(s.senderPublicKey,fi):void 0},this.core=t,this.logger=Ni(r,this.name),this.keychain=i||new ON(this.core,this.logger)}get context(){return Oi(this.logger)}async setPrivateKey(t,r){return await this.keychain.set(t,r),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(Ny)}catch{t=Fd(),await this.keychain.set(Ny,t)}return QO(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=Ve("NOT_INITIALIZED",this.name);throw new Error(t)}}}class PN extends eS{constructor(t,r){super(t,r),this.logger=t,this.core=r,this.messages=new Map,this.name=iN,this.version=nN,this.initialized=!1,this.storagePrefix=no,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const i=await this.getRelayerMessages();typeof i<"u"&&(this.messages=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(i){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(i)}finally{this.initialized=!0}}},this.set=async(i,n)=>{this.isInitialized();const s=kd(n);let h=this.messages.get(i);return typeof h>"u"&&(h={}),typeof h[s]<"u"||(h[s]=n,this.messages.set(i,h),await this.persist()),s},this.get=i=>{this.isInitialized();let n=this.messages.get(i);return typeof n>"u"&&(n={}),n},this.has=(i,n)=>{this.isInitialized();const s=this.get(i),h=kd(n);return typeof s[h]<"u"},this.del=async i=>{this.isInitialized(),this.messages.delete(i),await this.persist()},this.logger=Ni(t,this.name),this.core=r}get context(){return Oi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,Uv(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?Lv(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=Ve("NOT_INITIALIZED",this.name);throw new Error(t)}}}class RN extends rS{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.events=new Kr.exports.EventEmitter,this.name=oN,this.queue=new Map,this.publishTimeout=Vt.toMiliseconds(Vt.ONE_MINUTE),this.failedPublishTimeout=Vt.toMiliseconds(Vt.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(i,n,s)=>{var h;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:i,message:n,opts:s}});const d=s?.ttl||sN,g=jd(s),p=s?.prompt||!1,_=s?.tag||0,S=s?.id||Fo().toString(),D={topic:i,message:n,opts:{ttl:d,relay:g,prompt:p,tag:_,id:S}},O=`Failed to publish payload, please try again. id:${S} tag:${_}`,N=Date.now();let L,z=1;try{for(;L===void 0;){if(Date.now()-N>this.publishTimeout)throw new Error(O);this.logger.trace({id:S,attempts:z},`publisher.publish - attempt ${z}`),L=await await La(this.rpcPublish(i,n,d,g,p,_,S).catch(G=>this.logger.warn(G)),this.publishTimeout,O),z++,L||await new Promise(G=>setTimeout(G,this.failedPublishTimeout))}this.relayer.events.emit(Ti.publish,D),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:S,topic:i,message:n,opts:s}})}catch(G){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(G),(h=s?.internal)!=null&&h.throwOnFailedPublish)throw G;this.queue.set(S,D)}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.relayer=t,this.logger=Ni(r,this.name),this.registerEventListeners()}get context(){return Oi(this.logger)}rpcPublish(t,r,i,n,s,h,d){var g,p,_,S;const D={method:vh(n.protocol).publish,params:{topic:t,message:r,ttl:i,prompt:s,tag:h},id:d};return dl((g=D.params)==null?void 0:g.prompt)&&((p=D.params)==null||delete p.prompt),dl((_=D.params)==null?void 0:_.tag)&&((S=D.params)==null||delete S.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:D}),this.relayer.request(D)}removeRequestFromQueue(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async t=>{const{topic:r,message:i,opts:n}=t;await this.publish(r,i,n)})}registerEventListeners(){this.relayer.core.heartbeat.on(nh.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Ti.connection_stalled);return}this.checkQueue()}),this.relayer.on(Ti.message_ack,t=>{this.removeRequestFromQueue(t.id.toString())})}}class TN{constructor(){this.map=new Map,this.set=(t,r)=>{const i=this.get(t);this.exists(t,r)||this.map.set(t,[...i,r])},this.get=t=>this.map.get(t)||[],this.exists=(t,r)=>this.get(t).includes(r),this.delete=(t,r)=>{if(typeof r>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const i=this.get(t);if(!this.exists(t,r))return;const n=i.filter(s=>s!==r);if(!n.length){this.map.delete(t);return}this.map.set(t,n)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var $N=Object.defineProperty,BN=Object.defineProperties,UN=Object.getOwnPropertyDescriptors,Ty=Object.getOwnPropertySymbols,LN=Object.prototype.hasOwnProperty,FN=Object.prototype.propertyIsEnumerable,$y=(e,t,r)=>t in e?$N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Mh=(e,t)=>{for(var r in t||(t={}))LN.call(t,r)&&$y(e,r,t[r]);if(Ty)for(var r of Ty(t))FN.call(t,r)&&$y(e,r,t[r]);return e},t1=(e,t)=>BN(e,UN(t));class kN extends sS{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.subscriptions=new Map,this.topicMap=new TN,this.events=new Kr.exports.EventEmitter,this.name=vN,this.version=wN,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=no,this.subscribeTimeout=Vt.toMiliseconds(Vt.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(i,n)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}});try{const s=jd(n),h={topic:i,relay:s};this.pending.set(i,h);const d=await this.rpcSubscribe(i,s);return typeof d=="string"&&(this.onSubscribe(d,h),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:i,opts:n}})),d}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(i,n)=>{await this.restartToComplete(),this.isInitialized(),typeof n?.id<"u"?await this.unsubscribeById(i,n.id,n):await this.unsubscribeByTopic(i,n)},this.isSubscribed=async i=>{if(this.topics.includes(i))return!0;const n=`${this.pendingSubscriptionWatchLabel}_${i}`;return await new Promise((s,h)=>{const d=new Vt.Watch;d.start(n);const g=setInterval(()=>{!this.pending.has(i)&&this.topics.includes(i)&&(clearInterval(g),d.stop(n),s(!0)),d.elapsed(n)>=yN&&(clearInterval(g),d.stop(n),h(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=Ni(r,this.name),this.clientId=""}get context(){return Oi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,r){let i=!1;try{i=this.getSubscription(t).topic===r}catch{}return i}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,r){const i=this.topicMap.get(t);await Promise.all(i.map(async n=>await this.unsubscribeById(t,n,r)))}async unsubscribeById(t,r,i){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:i}});try{const n=jd(i);await this.rpcUnsubscribe(t,r,n);const s=wh("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:i}})}catch(n){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(n),n}}async rpcSubscribe(t,r){const i={method:vh(r.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{return await await La(this.relayer.request(i).catch(n=>this.logger.warn(n)),this.subscribeTimeout)?kd(t+this.clientId):null}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Ti.connection_stalled)}return null}async rpcBatchSubscribe(t){if(!t.length)return;const r=t[0].relay,i={method:vh(r.protocol).batchSubscribe,params:{topics:t.map(n=>n.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});try{return await await La(this.relayer.request(i).catch(n=>this.logger.warn(n)),this.subscribeTimeout)}catch{this.relayer.events.emit(Ti.connection_stalled)}}async rpcBatchFetchMessages(t){if(!t.length)return;const r=t[0].relay,i={method:vh(r.protocol).batchFetchMessages,params:{topics:t.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i});let n;try{n=await await La(this.relayer.request(i).catch(s=>this.logger.warn(s)),this.subscribeTimeout)}catch{this.relayer.events.emit(Ti.connection_stalled)}return n}rpcUnsubscribe(t,r,i){const n={method:vh(i.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n}),this.relayer.request(n)}onSubscribe(t,r){this.setSubscription(t,t1(Mh({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,Mh({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(t,r,i){this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,i),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r)}addSubscription(t,r){this.subscriptions.set(t,Mh({},r)),this.topicMap.set(r.topic,t),this.events.emit(us.created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const r=this.subscriptions.get(t);if(!r){const{message:i}=Ve("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(i)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});const i=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(i.topic,t),this.events.emit(us.deleted,t1(Mh({},i),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(us.sync)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){const i=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(i),await this.batchSubscribe(i)}}this.events.emit(us.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:r}=Ve("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const r=await this.rpcBatchSubscribe(t);EC(r)&&this.onBatchSubscribe(r.map((i,n)=>t1(Mh({},t[n]),{id:i})))}async batchFetchMessages(t){if(!t.length)return;this.logger.trace(`Fetching batch messages for ${t.length} subscriptions`);const r=await this.rpcBatchFetchMessages(t);r&&r.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(r.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const t=[];this.pending.forEach(r=>{t.push(r)}),await this.batchSubscribe(t),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(nh.pulse,async()=>{await this.checkPending()}),this.events.on(us.created,async t=>{const r=us.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()}),this.events.on(us.deleted,async t=>{const r=us.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=Ve("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){this.restartInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),t())},this.pollingInterval)})}}var jN=Object.defineProperty,By=Object.getOwnPropertySymbols,qN=Object.prototype.hasOwnProperty,zN=Object.prototype.propertyIsEnumerable,Uy=(e,t,r)=>t in e?jN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,HN=(e,t)=>{for(var r in t||(t={}))qN.call(t,r)&&Uy(e,r,t[r]);if(By)for(var r of By(t))zN.call(t,r)&&Uy(e,r,t[r]);return e};class KN extends iS{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new Kr.exports.EventEmitter,this.name=uN,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=Vt.toMiliseconds(Vt.THIRTY_SECONDS+Vt.ONE_SECOND),this.request=async r=>{var i,n;this.logger.debug("Publishing Request Payload");const s=r.id||Fo().toString();await this.toEstablishConnection();try{const h=this.provider.request(r);this.requestsInFlight.set(s,{promise:h,request:r}),this.logger.trace({id:s,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - attempt to publish...");const d=await new Promise(async(g,p)=>{const _=()=>{p(new Error(`relayer.request - publish interrupted, id: ${s}`))};this.provider.on(dn.disconnect,_);const S=await h;this.provider.off(dn.disconnect,_),g(S)});return this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - published"),d}catch(h){throw this.logger.debug(`Failed to Publish Request: ${s}`),h}finally{this.requestsInFlight.delete(s)}},this.resetPingTimeout=()=>{if(ch())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,i,n;(n=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||n.terminate()},this.heartBeatTimeout)}catch(r){this.logger.warn(r)}},this.onPayloadHandler=r=>{this.onProviderPayload(r),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(Ti.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(Ti.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(dn.payload,this.onPayloadHandler),this.provider.on(dn.connect,this.onConnectHandler),this.provider.on(dn.disconnect,this.onDisconnectHandler),this.provider.on(dn.error,this.onProviderErrorHandler)},this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?Ni(t.logger,this.name):Zn(Gu({level:t.logger||aN})),this.messages=new PN(this.logger,t.core),this.subscriber=new kN(this,this.logger),this.publisher=new RN(this,this.logger),this.relayUrl=t?.relayUrl||cN,this.projectId=t.projectId,this.bundleId=DS(),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),await this.transportOpen(),this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&this.subscriber.pending.size===0&&(this.logger.info("No topics subscribed to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},pN)}get context(){return Oi(this.logger)}get connected(){var t,r,i;return((i=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:i.readyState)===1}get connecting(){var t,r,i;return((i=(r=(t=this.provider)==null?void 0:t.connection)==null?void 0:r.socket)==null?void 0:i.readyState)===0}async publish(t,r,i){this.isInitialized(),await this.publisher.publish(t,r,i),await this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now()})}async subscribe(t,r){var i;this.isInitialized();let n=((i=this.subscriber.topicMap.get(t))==null?void 0:i[0])||"",s;const h=d=>{d.topic===t&&(this.subscriber.off(us.created,h),s())};return await Promise.all([new Promise(d=>{s=d,this.subscriber.on(us.created,h)}),new Promise(async d=>{n=await this.subscriber.subscribe(t,r)||n,d()})]),n}async unsubscribe(t,r){this.isInitialized(),await this.subscriber.unsubscribe(t,r)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(t=>t.promise))}catch(t){this.logger.warn(t)}this.hasExperiencedNetworkDisruption||this.connected?await La(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(t){await this.confirmOnlineStateOrThrow(),t&&t!==this.relayUrl&&(this.relayUrl=t,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(r,i)=>{const n=()=>{this.provider.off(dn.disconnect,n),i(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(dn.disconnect,n),await La(this.provider.connect(),Vt.toMiliseconds(Vt.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(s=>{i(s)}),this.subscriber.start().catch(s=>{this.logger.error(s),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){this.logger.error(r);const i=r;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(i.message))throw r}finally{this.connectionAttemptInProgress=!1}}async restartTransport(t){this.connectionAttemptInProgress||(this.relayUrl=t||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await Yw())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(t){if(t?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=t.sort((i,n)=>i.publishedAt-n.publishedAt);this.logger.trace(`Batch of ${r.length} message events sorted`);for(const i of r)try{await this.onMessageEvent(i)}catch(n){this.logger.warn(n)}this.logger.trace(`Batch of ${r.length} message events processed`)}startPingTimeout(){var t,r,i,n,s;if(ch())try{(r=(t=this.provider)==null?void 0:t.connection)!=null&&r.socket&&((s=(n=(i=this.provider)==null?void 0:i.connection)==null?void 0:n.socket)==null||s.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(h){this.logger.warn(h)}}isConnectionStalled(t){return this.staleConnectionErrors.some(r=>t.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new hs(new bD(TS({sdkVersion:dN,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:r,message:i}=t;await this.messages.set(r,i)}async shouldIgnoreMessageEvent(t){const{topic:r,message:i}=t;if(!i||i.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${i}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const n=this.messages.has(r,i);return n&&this.logger.debug(`Ignoring duplicate message: ${i}`),n}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),Vd(t)){if(!t.method.endsWith(lN))return;const r=t.params,{topic:i,message:n,publishedAt:s}=r.data,h={topic:i,message:n,publishedAt:s};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(HN({type:"event",event:r.id},h)),this.events.emit(r.id,h),await this.acknowledgePayload(t),await this.onMessageEvent(h)}else ml(t)&&this.events.emit(Ti.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit(Ti.message,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const r=pl(t.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(dn.payload,this.onPayloadHandler),this.provider.off(dn.connect,this.onConnectHandler),this.provider.off(dn.disconnect,this.onDisconnectHandler),this.provider.off(dn.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let t=await Yw();OC(async r=>{t!==r&&(t=r,r?await this.restartTransport().catch(i=>this.logger.error(i)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(Ti.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&setTimeout(async()=>{await this.transportOpen().catch(t=>this.logger.error(t))},Vt.toMiliseconds(fN))}isInitialized(){if(!this.initialized){const{message:t}=Ve("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),t())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var WN=Object.defineProperty,Ly=Object.getOwnPropertySymbols,VN=Object.prototype.hasOwnProperty,GN=Object.prototype.propertyIsEnumerable,Fy=(e,t,r)=>t in e?WN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ky=(e,t)=>{for(var r in t||(t={}))VN.call(t,r)&&Fy(e,r,t[r]);if(Ly)for(var r of Ly(t))GN.call(t,r)&&Fy(e,r,t[r]);return e};class ko extends nS{constructor(t,r,i,n=no,s=void 0){super(t,r,i,n),this.core=t,this.logger=r,this.name=i,this.map=new Map,this.version=gN,this.cached=[],this.initialized=!1,this.storagePrefix=no,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(h=>{this.getKey&&h!==null&&!dl(h)?this.map.set(this.getKey(h),h):SC(h)?this.map.set(h.id,h):IC(h)&&this.map.set(h.topic,h)}),this.cached=[],this.initialized=!0)},this.set=async(h,d)=>{this.isInitialized(),this.map.has(h)?await this.update(h,d):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:h,value:d}),this.map.set(h,d),await this.persist())},this.get=h=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:h}),this.getData(h)),this.getAll=h=>(this.isInitialized(),h?this.values.filter(d=>Object.keys(h).every(g=>AD(d[g],h[g]))):this.values),this.update=async(h,d)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:h,update:d});const g=ky(ky({},this.getData(h)),d);this.map.set(h,g),await this.persist()},this.delete=async(h,d)=>{this.isInitialized(),this.map.has(h)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:h,reason:d}),this.map.delete(h),this.addToRecentlyDeleted(h),await this.persist())},this.logger=Ni(r,this.name),this.storagePrefix=n,this.getKey=s}get context(){return Oi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(t){this.recentlyDeleted.push(t),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const r=this.map.get(t);if(!r){if(this.recentlyDeleted.includes(t)){const{message:n}=Ve("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}const{message:i}=Ve("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(i),new Error(i)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:r}=Ve("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=Ve("NOT_INITIALIZED",this.name);throw new Error(t)}}}class QN{constructor(t,r){this.core=t,this.logger=r,this.name=bN,this.version=AN,this.events=new Kr.exports,this.initialized=!1,this.storagePrefix=no,this.ignoredPayloadTypes=[Qa],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:i})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...i])]},this.create=async i=>{this.isInitialized();const n=Fd(),s=await this.core.crypto.setSymKey(n),h=Zu(Vt.FIVE_MINUTES),d={protocol:Py},g={topic:s,expiry:h,relay:d,active:!1},p=bC({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:n,relay:d,expiryTimestamp:h,methods:i?.methods});return this.core.expirer.set(s,h),await this.pairings.set(s,g),await this.core.relayer.subscribe(s),{topic:s,uri:p}},this.pair=async i=>{this.isInitialized(),this.isValidPair(i);const{topic:n,symKey:s,relay:h,expiryTimestamp:d,methods:g}=Gw(i.uri);let p;if(this.pairings.keys.includes(n)&&(p=this.pairings.get(n),p.active))throw new Error(`Pairing already exists: ${n}. Please try again with a new connection URI.`);const _=d||Zu(Vt.FIVE_MINUTES),S={topic:n,relay:h,expiry:_,active:!1,methods:g};return this.core.expirer.set(n,_),await this.pairings.set(n,S),i.activatePairing&&await this.activate({topic:n}),this.events.emit(Ja.create,S),this.core.crypto.keychain.has(n)||await this.core.crypto.setSymKey(s,n),await this.core.relayer.subscribe(n,{relay:h}),S},this.activate=async({topic:i})=>{this.isInitialized();const n=Zu(Vt.THIRTY_DAYS);this.core.expirer.set(i,n),await this.pairings.update(i,{active:!0,expiry:n})},this.ping=async i=>{this.isInitialized(),await this.isValidPing(i);const{topic:n}=i;if(this.pairings.keys.includes(n)){const s=await this.sendRequest(n,"wc_pairingPing",{}),{done:h,resolve:d,reject:g}=$S();this.events.once(pd("pairing_ping",s),({error:p})=>{p?g(p):d()}),await h()}},this.updateExpiry=async({topic:i,expiry:n})=>{this.isInitialized(),await this.pairings.update(i,{expiry:n})},this.updateMetadata=async({topic:i,metadata:n})=>{this.isInitialized(),await this.pairings.update(i,{peerMetadata:n})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async i=>{this.isInitialized(),await this.isValidDisconnect(i);const{topic:n}=i;this.pairings.keys.includes(n)&&(await this.sendRequest(n,"wc_pairingDelete",wh("USER_DISCONNECTED")),await this.deletePairing(n))},this.sendRequest=async(i,n,s)=>{const h=Ya(n,s),d=await this.core.crypto.encode(i,h),g=_h[n].req;return this.core.history.set(i,h),this.core.relayer.publish(i,d,g),h.id},this.sendResult=async(i,n,s)=>{const h=pl(i,s),d=await this.core.crypto.encode(n,h),g=await this.core.history.get(n,i),p=_h[g.request.method].res;await this.core.relayer.publish(n,d,p),await this.core.history.resolve(h)},this.sendError=async(i,n,s)=>{const h=gl(i,s),d=await this.core.crypto.encode(n,h),g=await this.core.history.get(n,i),p=_h[g.request.method]?_h[g.request.method].res:_h.unregistered_method.res;await this.core.relayer.publish(n,d,p),await this.core.history.resolve(h)},this.deletePairing=async(i,n)=>{await this.core.relayer.unsubscribe(i),await Promise.all([this.pairings.delete(i,wh("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(i),n?Promise.resolve():this.core.expirer.del(i)])},this.cleanup=async()=>{const i=this.pairings.getAll().filter(n=>kv(n.expiry));await Promise.all(i.map(n=>this.deletePairing(n.topic)))},this.onRelayEventRequest=i=>{const{topic:n,payload:s}=i;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(n,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(n,s);default:return this.onUnknownRpcMethodRequest(n,s)}},this.onRelayEventResponse=async i=>{const{topic:n,payload:s}=i,h=(await this.core.history.get(n,s.id)).request.method;switch(h){case"wc_pairingPing":return this.onPairingPingResponse(n,s);default:return this.onUnknownRpcMethodResponse(h)}},this.onPairingPingRequest=async(i,n)=>{const{id:s}=n;try{this.isValidPing({topic:i}),await this.sendResult(s,i,!0),this.events.emit(Ja.ping,{id:s,topic:i})}catch(h){await this.sendError(s,i,h),this.logger.error(h)}},this.onPairingPingResponse=(i,n)=>{const{id:s}=n;setTimeout(()=>{cs(n)?this.events.emit(pd("pairing_ping",s),{}):fn(n)&&this.events.emit(pd("pairing_ping",s),{error:n.error})},500)},this.onPairingDeleteRequest=async(i,n)=>{const{id:s}=n;try{this.isValidDisconnect({topic:i}),await this.deletePairing(i),this.events.emit(Ja.delete,{id:s,topic:i})}catch(h){await this.sendError(s,i,h),this.logger.error(h)}},this.onUnknownRpcMethodRequest=async(i,n)=>{const{id:s,method:h}=n;try{if(this.registeredMethods.includes(h))return;const d=wh("WC_METHOD_UNSUPPORTED",h);await this.sendError(s,i,d),this.logger.error(d)}catch(d){await this.sendError(s,i,d),this.logger.error(d)}},this.onUnknownRpcMethodResponse=i=>{this.registeredMethods.includes(i)||this.logger.error(wh("WC_METHOD_UNSUPPORTED",i))},this.isValidPair=i=>{var n;if(!qd(i)){const{message:h}=Ve("MISSING_OR_INVALID",`pair() params: ${i}`);throw new Error(h)}if(!MC(i.uri)){const{message:h}=Ve("MISSING_OR_INVALID",`pair() uri: ${i.uri}`);throw new Error(h)}const s=Gw(i.uri);if(!((n=s?.relay)!=null&&n.protocol)){const{message:h}=Ve("MISSING_OR_INVALID","pair() uri#relay-protocol");throw new Error(h)}if(!(s!=null&&s.symKey)){const{message:h}=Ve("MISSING_OR_INVALID","pair() uri#symKey");throw new Error(h)}if(s!=null&&s.expiryTimestamp&&Vt.toMiliseconds(s?.expiryTimestamp)<Date.now()){const{message:h}=Ve("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(h)}},this.isValidPing=async i=>{if(!qd(i)){const{message:s}=Ve("MISSING_OR_INVALID",`ping() params: ${i}`);throw new Error(s)}const{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidDisconnect=async i=>{if(!qd(i)){const{message:s}=Ve("MISSING_OR_INVALID",`disconnect() params: ${i}`);throw new Error(s)}const{topic:n}=i;await this.isValidPairingTopic(n)},this.isValidPairingTopic=async i=>{if(!Qw(i,!1)){const{message:n}=Ve("MISSING_OR_INVALID",`pairing topic should be a string: ${i}`);throw new Error(n)}if(!this.pairings.keys.includes(i)){const{message:n}=Ve("NO_MATCHING_KEY",`pairing topic doesn't exist: ${i}`);throw new Error(n)}if(kv(this.pairings.get(i).expiry)){await this.deletePairing(i);const{message:n}=Ve("EXPIRED",`pairing topic: ${i}`);throw new Error(n)}},this.core=t,this.logger=Ni(r,this.name),this.pairings=new ko(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Oi(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=Ve("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on(Ti.message,async t=>{const{topic:r,message:i}=t;if(!this.pairings.keys.includes(r)||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(i)))return;const n=await this.core.crypto.decode(r,i);try{Vd(n)?(this.core.history.set(r,n),this.onRelayEventRequest({topic:r,payload:n})):ml(n)&&(await this.core.history.resolve(n),await this.onRelayEventResponse({topic:r,payload:n}),this.core.history.delete(r,n.id))}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(pn.expired,async t=>{const{topic:r}=LS(t.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Ja.expire,{topic:r}))})}}class YN extends tS{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.records=new Map,this.events=new Kr.exports.EventEmitter,this.name=_N,this.version=EN,this.cached=[],this.initialized=!1,this.storagePrefix=no,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.records.set(i.id,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(i,n,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:i,request:n,chainId:s}),this.records.has(n.id))return;const h={id:n.id,topic:i,request:{method:n.method,params:n.params||null},chainId:s,expiry:Zu(Vt.THIRTY_DAYS)};this.records.set(h.id,h),this.persist(),this.events.emit($n.created,h)},this.resolve=async i=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:i}),!this.records.has(i.id))return;const n=await this.getRecord(i.id);typeof n.response>"u"&&(n.response=fn(i)?{error:i.error}:{result:i.result},this.records.set(n.id,n),this.persist(),this.events.emit($n.updated,n))},this.get=async(i,n)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:i,id:n}),await this.getRecord(n)),this.delete=(i,n)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:n}),this.values.forEach(s=>{if(s.topic===i){if(typeof n<"u"&&s.id!==n)return;this.records.delete(s.id),this.events.emit($n.deleted,s)}}),this.persist()},this.exists=async(i,n)=>(this.isInitialized(),this.records.has(n)?(await this.getRecord(n)).topic===i:!1),this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=Ni(r,this.name)}get context(){return Oi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const i={topic:r.topic,request:Ya(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(i)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const r=this.records.get(t);if(!r){const{message:i}=Ve("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(i)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit($n.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:r}=Ve("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on($n.created,t=>{const r=$n.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on($n.updated,t=>{const r=$n.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.events.on($n.deleted,t=>{const r=$n.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t})}),this.core.heartbeat.on(nh.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let t=!1;this.records.forEach(r=>{Vt.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit($n.deleted,r,!1),t=!0)}),t&&this.persist()}catch(t){this.logger.warn(t)}}isInitialized(){if(!this.initialized){const{message:t}=Ve("NOT_INITIALIZED",this.name);throw new Error(t)}}}class JN extends oS{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.expirations=new Map,this.events=new Kr.exports.EventEmitter,this.name=MN,this.version=SN,this.cached=[],this.initialized=!1,this.storagePrefix=no,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(i=>this.expirations.set(i.target,i)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=i=>{try{const n=this.formatTarget(i);return typeof this.getExpiration(n)<"u"}catch{return!1}},this.set=(i,n)=>{this.isInitialized();const s=this.formatTarget(i),h={target:s,expiry:n};this.expirations.set(s,h),this.checkExpiry(s,h),this.events.emit(pn.created,{target:s,expiration:h})},this.get=i=>{this.isInitialized();const n=this.formatTarget(i);return this.getExpiration(n)},this.del=i=>{if(this.isInitialized(),this.has(i)){const n=this.formatTarget(i),s=this.getExpiration(n);this.expirations.delete(n),this.events.emit(pn.deleted,{target:n,expiration:s})}},this.on=(i,n)=>{this.events.on(i,n)},this.once=(i,n)=>{this.events.once(i,n)},this.off=(i,n)=>{this.events.off(i,n)},this.removeListener=(i,n)=>{this.events.removeListener(i,n)},this.logger=Ni(r,this.name)}get context(){return Oi(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return BS(t);if(typeof t=="number")return US(t);const{message:r}=Ve("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(r)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(pn.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:r}=Ve("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const r=this.expirations.get(t);if(!r){const{message:i}=Ve("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.warn(i),new Error(i)}return r}checkExpiry(t,r){const{expiry:i}=r;Vt.toMiliseconds(i)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(pn.expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(nh.pulse,()=>this.checkExpirations()),this.events.on(pn.created,t=>{const r=pn.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(pn.expired,t=>{const r=pn.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(pn.deleted,t=>{const r=pn.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=Ve("NOT_INITIALIZED",this.name);throw new Error(t)}}}class ZN extends aS{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,this.name=Xd,this.initialized=!1,this.queue=[],this.verifyDisabled=!1,this.init=async i=>{if(this.verifyDisabled||Ua()||!Yu())return;const n=this.getVerifyUrl(i?.verifyUrl);this.verifyUrl!==n&&this.removeIframe(),this.verifyUrl=n;try{await this.createIframe()}catch(s){this.logger.info(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.info(s),this.verifyDisabled=!0}},this.register=async i=>{this.initialized?this.sendPost(i.attestationId):(this.addToQueue(i.attestationId),await this.init())},this.resolve=async i=>{if(this.isDevEnv)return"";const n=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(i.attestationId,n)},this.fetchAttestation=async(i,n)=>{this.logger.info(`resolving attestation: ${i} from url: ${n}`);const s=this.startAbortTimer(Vt.ONE_SECOND*5),h=await fetch(`${n}/attestation/${i}`,{signal:this.abortController.signal});return clearTimeout(s),h.status===200?await h.json():void 0},this.addToQueue=i=>{this.queue.push(i)},this.processQueue=()=>{this.queue.length!==0&&(this.queue.forEach(i=>this.sendPost(i)),this.queue=[])},this.sendPost=i=>{var n;try{if(!this.iframe)return;(n=this.iframe.contentWindow)==null||n.postMessage(i,"*"),this.logger.info(`postMessage sent: ${i} ${this.verifyUrl}`)}catch{}},this.createIframe=async()=>{let i;const n=s=>{s.data==="verify_ready"&&(this.onInit(),window.removeEventListener("message",n),i())};await Promise.race([new Promise(s=>{const h=document.getElementById(Xd);if(h)return this.iframe=h,this.onInit(),s();window.addEventListener("message",n);const d=document.createElement("iframe");d.id=Xd,d.src=`${this.verifyUrl}/${this.projectId}`,d.style.display="none",document.body.append(d),this.iframe=d,i=s}),new Promise((s,h)=>setTimeout(()=>{window.removeEventListener("message",n),h("verify iframe load timeout")},Vt.toMiliseconds(Vt.FIVE_SECONDS)))])},this.onInit=()=>{this.initialized=!0,this.processQueue()},this.removeIframe=()=>{this.iframe&&(this.iframe.remove(),this.iframe=void 0,this.initialized=!1)},this.getVerifyUrl=i=>{let n=i||Eh;return xN.includes(n)||(this.logger.info(`verify url: ${n}, not included in trusted list, assigning default: ${Eh}`),n=Eh),n},this.logger=Ni(r,this.name),this.verifyUrl=Eh,this.abortController=new AbortController,this.isDevEnv=ch()&&process.env.IS_VITEST}get context(){return Oi(this.logger)}startAbortTimer(t){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),Vt.toMiliseconds(t))}}class XN extends cS{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,this.context=CN,this.registerDeviceToken=async i=>{const{clientId:n,token:s,notificationType:h,enableEncrypted:d=!1}=i,g=`${DN}/${this.projectId}/clients`;await MD(g,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:n,type:h,token:s,always_raw:d})})},this.logger=Ni(r,this.context)}}var tP=Object.defineProperty,jy=Object.getOwnPropertySymbols,eP=Object.prototype.hasOwnProperty,rP=Object.prototype.propertyIsEnumerable,qy=(e,t,r)=>t in e?tP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,zy=(e,t)=>{for(var r in t||(t={}))eP.call(t,r)&&qy(e,r,t[r]);if(jy)for(var r of jy(t))rP.call(t,r)&&qy(e,r,t[r]);return e};class e1 extends XM{constructor(t){var r;super(t),this.protocol=Oy,this.version=YO,this.name=Zd,this.events=new Kr.exports.EventEmitter,this.initialized=!1,this.on=(h,d)=>this.events.on(h,d),this.once=(h,d)=>this.events.once(h,d),this.off=(h,d)=>this.events.off(h,d),this.removeListener=(h,d)=>this.events.removeListener(h,d),this.projectId=t?.projectId,this.relayUrl=t?.relayUrl||hN,this.customStoragePrefix=t!=null&&t.customStoragePrefix?`:${t.customStoragePrefix}`:"";const i=Gu({level:typeof t?.logger=="string"&&t.logger?t.logger:JO.logger}),{logger:n,chunkLoggerController:s}=ZM({opts:i,maxSizeInBytes:t?.maxLogBlobSizeInBytes,loggerOverride:t?.logger});this.logChunkController=s,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var h,d;(h=this.logChunkController)!=null&&h.downloadLogsBlobInBrowser&&((d=this.logChunkController)==null||d.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Ni(n,this.name),this.heartbeat=new sd,this.crypto=new NN(this,this.logger,t?.keychain),this.history=new YN(this,this.logger),this.expirer=new JN(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new EM(zy(zy({},ZO),t?.storageOptions)),this.relayer=new KN({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new QN(this,this.logger),this.verify=new ZN(this.projectId||"",this.logger),this.echoClient=new XN(this.projectId||"",this.logger)}static async init(t){const r=new e1(t);await r.initialize();const i=await r.crypto.getClientId();return await r.storage.setItem(mN,i),r}get context(){return Oi(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var t;return(t=this.logChunkController)==null?void 0:t.logsToBlob({clientId:await this.crypto.getClientId()})}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}}const iP=e1;class nP{constructor(t){this.opts=t,this.protocol="wc",this.version=2}}class sP{constructor(t){this.client=t}}const Hy="wc",Ky=2,Wy="client",r1=`${Hy}@${Ky}:${Wy}:`,i1={name:Wy,logger:"error",controller:!1,relayUrl:"ws://123.157.213.104:3010"},Vy="WALLETCONNECT_DEEPLINK_CHOICE",oP="proposal",Gy="Proposal expired",aP="session",Za=Vt.SEVEN_DAYS,cP="engine",Zr={wc_sessionPropose:{req:{ttl:Vt.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:Vt.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:Vt.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:Vt.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:Vt.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:Vt.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:Vt.ONE_DAY,prompt:!1,tag:1104},res:{ttl:Vt.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:Vt.ONE_DAY,prompt:!1,tag:1106},res:{ttl:Vt.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:Vt.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:Vt.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:Vt.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:Vt.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:Vt.ONE_DAY,prompt:!1,tag:1112},res:{ttl:Vt.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:Vt.ONE_DAY,prompt:!1,tag:1114},res:{ttl:Vt.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:Vt.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:Vt.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:Vt.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:Vt.FIVE_MINUTES,prompt:!1,tag:1119}}},n1={min:Vt.FIVE_MINUTES,max:Vt.SEVEN_DAYS},ls={idle:"IDLE",active:"ACTIVE"},hP="request",uP=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],lP="wc",fP="auth",dP="authKeys",pP="pairingTopics",gP="requests",wl=`${lP}@${1.5}:${fP}:`,yl=`${wl}:PUB_KEY`;var mP=Object.defineProperty,vP=Object.defineProperties,wP=Object.getOwnPropertyDescriptors,Qy=Object.getOwnPropertySymbols,yP=Object.prototype.hasOwnProperty,bP=Object.prototype.propertyIsEnumerable,Yy=(e,t,r)=>t in e?mP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pr=(e,t)=>{for(var r in t||(t={}))yP.call(t,r)&&Yy(e,r,t[r]);if(Qy)for(var r of Qy(t))bP.call(t,r)&&Yy(e,r,t[r]);return e},jo=(e,t)=>vP(e,wP(t));class AP extends sP{constructor(t){super(t),this.name=cP,this.events=new Kr.exports,this.initialized=!1,this.requestQueue={state:ls.idle,queue:[]},this.sessionRequestQueue={state:ls.idle,queue:[]},this.requestQueueDelay=Vt.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),this.client.core.pairing.register({methods:Object.keys(Zr)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},Vt.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{await this.isInitialized();const i=jo(Pr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(i);const{pairingTopic:n,requiredNamespaces:s,optionalNamespaces:h,sessionProperties:d,relays:g}=i;let p=n,_,S=!1;try{p&&(S=this.client.core.pairing.pairings.get(p).active)}catch(B){throw this.client.logger.error(`connect() -> pairing.get(${p}) failed`),B}if(!p||!S){const{topic:B,uri:k}=await this.client.core.pairing.create();p=B,_=k}if(!p){const{message:B}=ae("NO_MATCHING_KEY",`connect() pairing topic: ${p}`);throw new Error(B)}const D=await this.client.core.crypto.generateKeyPair(),O=Zr.wc_sessionPropose.req.ttl||Vt.FIVE_MINUTES,N=Hi(O),L=Pr({requiredNamespaces:s,optionalNamespaces:h,relays:g??[{protocol:Py}],proposer:{publicKey:D,metadata:this.client.metadata},expiryTimestamp:N,pairingTopic:p},d&&{sessionProperties:d}),{reject:z,resolve:G,done:q}=Aa(O,Gy);this.events.once(ke("session_connect"),async({error:B,session:k})=>{if(B)z(B);else if(k){k.self.publicKey=D;const j=jo(Pr({},k),{pairingTopic:L.pairingTopic,requiredNamespaces:L.requiredNamespaces,optionalNamespaces:L.optionalNamespaces});await this.client.session.set(k.topic,j),await this.setExpiry(k.topic,k.expiry),p&&await this.client.core.pairing.updateMetadata({topic:p,metadata:k.peer.metadata}),this.cleanupDuplicatePairings(j),G(j)}});const W=await this.sendRequest({topic:p,method:"wc_sessionPropose",params:L,throwOnFailedPublish:!0});return await this.setProposal(W,Pr({id:W},L)),{uri:_,approval:q}},this.pair=async r=>{await this.isInitialized();try{return await this.client.core.pairing.pair(r)}catch(i){throw this.client.logger.error("pair() failed"),i}},this.approve=async r=>{await this.isInitialized();try{await this.isValidApprove(r)}catch(q){throw this.client.logger.error("approve() -> isValidApprove() failed"),q}const{id:i,relayProtocol:n,namespaces:s,sessionProperties:h,sessionConfig:d}=r;let g;try{g=this.client.proposal.get(i)}catch(q){throw this.client.logger.error(`approve() -> proposal.get(${i}) failed`),q}const{pairingTopic:p,proposer:_,requiredNamespaces:S,optionalNamespaces:D}=g,O=await this.client.core.crypto.generateKeyPair(),N=_.publicKey,L=await this.client.core.crypto.generateSharedKey(O,N),z=Pr(Pr({relay:{protocol:n??"irn"},namespaces:s,controller:{publicKey:O,metadata:this.client.metadata},expiry:Hi(Za)},h&&{sessionProperties:h}),d&&{sessionConfig:d});await this.client.core.relayer.subscribe(L);const G=jo(Pr({},z),{topic:L,requiredNamespaces:S,optionalNamespaces:D,pairingTopic:p,acknowledged:!1,self:z.controller,peer:{publicKey:_.publicKey,metadata:_.metadata},controller:O});await this.client.session.set(L,G);try{await this.sendResult({id:i,topic:p,result:{relay:{protocol:n??"irn"},responderPublicKey:O},throwOnFailedPublish:!0}),await this.sendRequest({topic:L,method:"wc_sessionSettle",params:z,throwOnFailedPublish:!0})}catch(q){throw this.client.logger.error(q),this.client.session.delete(L,gr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(L),q}return await this.client.core.pairing.updateMetadata({topic:p,metadata:_.metadata}),await this.client.proposal.delete(i,gr("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:p}),await this.setExpiry(L,Hi(Za)),{topic:L,acknowledged:()=>Promise.resolve(this.client.session.get(L))}},this.reject=async r=>{await this.isInitialized();try{await this.isValidReject(r)}catch(h){throw this.client.logger.error("reject() -> isValidReject() failed"),h}const{id:i,reason:n}=r;let s;try{s=this.client.proposal.get(i).pairingTopic}catch(h){throw this.client.logger.error(`reject() -> proposal.get(${i}) failed`),h}s&&(await this.sendError({id:i,topic:s,error:n,rpcOpts:Zr.wc_sessionPropose.reject}),await this.client.proposal.delete(i,gr("USER_DISCONNECTED")))},this.update=async r=>{await this.isInitialized();try{await this.isValidUpdate(r)}catch(S){throw this.client.logger.error("update() -> isValidUpdate() failed"),S}const{topic:i,namespaces:n}=r,{done:s,resolve:h,reject:d}=Aa(),g=io(),p=Fo().toString(),_=this.client.session.get(i).namespaces;return this.events.once(ke("session_update",g),({error:S})=>{S?d(S):h()}),await this.client.session.update(i,{namespaces:n}),await this.sendRequest({topic:i,method:"wc_sessionUpdate",params:{namespaces:n},throwOnFailedPublish:!0,clientRpcId:g,relayRpcId:p}).catch(S=>{this.client.logger.error(S),this.client.session.update(i,{namespaces:_}),d(S)}),{acknowledged:s}},this.extend=async r=>{await this.isInitialized();try{await this.isValidExtend(r)}catch(g){throw this.client.logger.error("extend() -> isValidExtend() failed"),g}const{topic:i}=r,n=io(),{done:s,resolve:h,reject:d}=Aa();return this.events.once(ke("session_extend",n),({error:g})=>{g?d(g):h()}),await this.setExpiry(i,Hi(Za)),this.sendRequest({topic:i,method:"wc_sessionExtend",params:{},clientRpcId:n,throwOnFailedPublish:!0}).catch(g=>{d(g)}),{acknowledged:s}},this.request=async r=>{await this.isInitialized();try{await this.isValidRequest(r)}catch(O){throw this.client.logger.error("request() -> isValidRequest() failed"),O}const{chainId:i,request:n,topic:s,expiry:h=Zr.wc_sessionRequest.req.ttl}=r,d=this.client.session.get(s),g=io(),p=Fo().toString(),{done:_,resolve:S,reject:D}=Aa(h,"Request expired. Please try again.");return this.events.once(ke("session_request",g),({error:O,result:N})=>{O?D(O):S(N)}),await Promise.all([new Promise(async O=>{await this.sendRequest({clientRpcId:g,relayRpcId:p,topic:s,method:"wc_sessionRequest",params:{request:jo(Pr({},n),{expiryTimestamp:Hi(h)}),chainId:i},expiry:h,throwOnFailedPublish:!0}).catch(N=>D(N)),this.client.events.emit("session_request_sent",{topic:s,request:n,chainId:i,id:g}),O()}),new Promise(async O=>{var N;if(!((N=d.sessionConfig)!=null&&N.disableDeepLink)){const L=await y7(this.client.core.storage,Vy);w7({id:g,topic:s,wcDeepLink:L})}O()}),_()]).then(O=>O[2])},this.respond=async r=>{await this.isInitialized(),await this.isValidRespond(r);const{topic:i,response:n}=r,{id:s}=n;cs(n)?await this.sendResult({id:s,topic:i,result:n.result,throwOnFailedPublish:!0}):fn(n)&&await this.sendError({id:s,topic:i,error:n.error}),this.cleanupAfterResponse(r)},this.ping=async r=>{await this.isInitialized();try{await this.isValidPing(r)}catch(n){throw this.client.logger.error("ping() -> isValidPing() failed"),n}const{topic:i}=r;if(this.client.session.keys.includes(i)){const n=io(),s=Fo().toString(),{done:h,resolve:d,reject:g}=Aa();this.events.once(ke("session_ping",n),({error:p})=>{p?g(p):d()}),await Promise.all([this.sendRequest({topic:i,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:n,relayRpcId:s}),h()])}else this.client.core.pairing.pairings.keys.includes(i)&&await this.client.core.pairing.ping({topic:i})},this.emit=async r=>{await this.isInitialized(),await this.isValidEmit(r);const{topic:i,event:n,chainId:s}=r,h=Fo().toString();await this.sendRequest({topic:i,method:"wc_sessionEvent",params:{event:n,chainId:s},throwOnFailedPublish:!0,relayRpcId:h})},this.disconnect=async r=>{await this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;if(this.client.session.keys.includes(i))await this.sendRequest({topic:i,method:"wc_sessionDelete",params:gr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:i,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(i))await this.client.core.pairing.disconnect({topic:i});else{const{message:n}=ae("MISMATCHED_TOPIC",`Session or pairing topic not found: ${i}`);throw new Error(n)}},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(i=>I9(i,r))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async r=>{this.isInitialized(),this.isValidAuthenticate(r);const{chains:i,statement:n="",uri:s,domain:h,nonce:d,type:g,exp:p,nbf:_,methods:S=[],expiry:D}=r,O=[...r.resources||[]],{topic:N,uri:L}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"]});this.client.logger.info({message:"Generated new pairing",pairing:{topic:N,uri:L}});const z=await this.client.core.crypto.generateKeyPair(),G=J0(z);if(await Promise.all([this.client.auth.authKeys.set(yl,{responseTopic:G,publicKey:z}),this.client.auth.pairingTopics.set(G,{topic:G,pairingTopic:N})]),await this.client.core.relayer.subscribe(G),this.client.logger.info(`sending request to new pairing topic: ${N}`),S.length>0){const{namespace:o}=zc(i[0]);let u=p9(o,"request",S);Uu(O)&&(u=m9(u,O.pop())),O.push(u)}const q=D&&D>Zr.wc_sessionAuthenticate.req.ttl?D:Zr.wc_sessionAuthenticate.req.ttl,W={authPayload:{type:g??"caip122",chains:i,statement:n,aud:s,domain:h,version:"1",nonce:d,iat:new Date().toISOString(),exp:p,nbf:_,resources:O},requester:{publicKey:z,metadata:this.client.metadata},expiryTimestamp:Hi(q)},B={eip155:{chains:i,methods:[...new Set(["personal_sign",...S])],events:["chainChanged","accountsChanged"]}},k={requiredNamespaces:{},optionalNamespaces:B,relays:[{protocol:"irn"}],pairingTopic:N,proposer:{publicKey:z,metadata:this.client.metadata},expiryTimestamp:Hi(Zr.wc_sessionPropose.req.ttl)},{done:j,resolve:I,reject:U}=Aa(q,"Request expired"),et=async({error:o,session:u})=>{if(this.events.off(ke("session_request",Z),ct),o)U(o);else if(u){u.self.publicKey=z,await this.client.session.set(u.topic,u),await this.setExpiry(u.topic,u.expiry),N&&await this.client.core.pairing.updateMetadata({topic:N,metadata:u.peer.metadata});const f=this.client.session.get(u.topic);await this.deleteProposal(ut),I({session:f})}},ct=async o=>{if(await this.deletePendingAuthRequest(Z,{message:"fulfilled",code:0}),o.error){const y=gr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return o.error.code===y.code?void 0:(this.events.off(ke("session_connect"),et),U(o.error.message))}await this.deleteProposal(ut),this.events.off(ke("session_connect"),et);const{cacaos:u,responder:f}=o.result,v=[],A=[];for(const y of u){await Z2({cacao:y,projectId:this.client.core.projectId})||(this.client.logger.error(y,"Signature verification failed"),U(gr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:c}=y,b=Uu(c.resources),J=[J2(c.iss)],X=Bu(c.iss);if(b){const w=ev(b),V=rv(b);v.push(...w),J.push(...V)}for(const w of J)A.push(`${w}:${X}`)}const E=await this.client.core.crypto.generateSharedKey(z,f.publicKey);let x;v.length>0&&(x={topic:E,acknowledged:!0,self:{publicKey:z,metadata:this.client.metadata},peer:f,controller:f.publicKey,expiry:Hi(Za),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:N,namespaces:iv([...new Set(v)],[...new Set(A)])},await this.client.core.relayer.subscribe(E),await this.client.session.set(E,x),N&&await this.client.core.pairing.updateMetadata({topic:N,metadata:f.metadata}),x=this.client.session.get(E)),I({auths:u,session:x})},Z=io(),ut=io();this.events.once(ke("session_connect"),et),this.events.once(ke("session_request",Z),ct);try{await Promise.all([this.sendRequest({topic:N,method:"wc_sessionAuthenticate",params:W,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:Z}),this.sendRequest({topic:N,method:"wc_sessionPropose",params:k,expiry:Zr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:ut})])}catch(o){throw this.events.off(ke("session_connect"),et),this.events.off(ke("session_request",Z),ct),o}return await this.setProposal(ut,Pr({id:ut},k)),await this.setAuthRequest(Z,{request:jo(Pr({},W),{verifyContext:{}}),pairingTopic:N}),{uri:L,response:j}},this.approveSessionAuthenticate=async r=>{this.isInitialized();const{id:i,auths:n}=r,s=this.getPendingAuthRequest(i);if(!s)throw new Error(`Could not find pending auth request with id ${i}`);const h=s.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),g=J0(h),p={type:Y0,receiverPublicKey:h,senderPublicKey:d},_=[],S=[];for(const N of n){if(!await Z2({cacao:N,projectId:this.client.core.projectId})){const W=gr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:i,topic:g,error:W,encodeOpts:p}),new Error(W.message)}const{p:L}=N,z=Uu(L.resources),G=[J2(L.iss)],q=Bu(L.iss);if(z){const W=ev(z),B=rv(z);_.push(...W),G.push(...B)}for(const W of G)S.push(`${W}:${q}`)}const D=await this.client.core.crypto.generateSharedKey(d,h);let O;return _?.length>0&&(O={topic:D,acknowledged:!0,self:{publicKey:d,metadata:this.client.metadata},peer:{publicKey:h,metadata:s.requester.metadata},controller:h,expiry:Hi(Za),authentication:n,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:s.pairingTopic,namespaces:iv([...new Set(_)],[...new Set(S)])},await this.client.core.relayer.subscribe(D),await this.client.session.set(D,O),await this.client.core.pairing.updateMetadata({topic:s.pairingTopic,metadata:s.requester.metadata})),await this.sendResult({topic:g,id:i,result:{cacaos:n,responder:{publicKey:d,metadata:this.client.metadata}},encodeOpts:p,throwOnFailedPublish:!0}),await this.client.auth.requests.delete(i,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:s.pairingTopic}),{session:O}},this.rejectSessionAuthenticate=async r=>{await this.isInitialized();const{id:i,reason:n}=r,s=this.getPendingAuthRequest(i);if(!s)throw new Error(`Could not find pending auth request with id ${i}`);const h=s.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),g=J0(h),p={type:Y0,receiverPublicKey:h,senderPublicKey:d};await this.sendError({id:i,topic:g,error:n,encodeOpts:p,rpcOpts:Zr.wc_sessionAuthenticate.reject}),await this.client.auth.requests.delete(i,{message:"rejected",code:0}),await this.client.proposal.delete(i,gr("USER_DISCONNECTED"))},this.formatAuthMessage=r=>{this.isInitialized();const{request:i,iss:n}=r;return X2(i,n)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)},this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const i=this.client.core.pairing.pairings.get(r.pairingTopic),n=this.client.core.pairing.pairings.getAll().filter(s=>{var h,d;return((h=s.peerMetadata)==null?void 0:h.url)&&((d=s.peerMetadata)==null?void 0:d.url)===r.peer.metadata.url&&s.topic&&s.topic!==i.topic});if(n.length===0)return;this.client.logger.info(`Cleaning up ${n.length} duplicate pairing(s)`),await Promise.all(n.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(i){this.client.logger.error(i)}},this.deleteSession=async r=>{var i;const{topic:n,expirerHasDeleted:s=!1,emitEvent:h=!0,id:d=0}=r,{self:g}=this.client.session.get(n);await this.client.core.relayer.unsubscribe(n),await this.client.session.delete(n,gr("USER_DISCONNECTED")),this.addToRecentlyDeleted(n,"session"),this.client.core.crypto.keychain.has(g.publicKey)&&await this.client.core.crypto.deleteKeyPair(g.publicKey),this.client.core.crypto.keychain.has(n)&&await this.client.core.crypto.deleteSymKey(n),s||this.client.core.expirer.del(n),this.client.core.storage.removeItem(Vy).catch(p=>this.client.logger.warn(p)),this.getPendingSessionRequests().forEach(p=>{p.topic===n&&this.deletePendingSessionRequest(p.id,gr("USER_DISCONNECTED"))}),n===((i=this.sessionRequestQueue.queue[0])==null?void 0:i.topic)&&(this.sessionRequestQueue.state=ls.idle),h&&this.client.events.emit("session_delete",{id:d,topic:n})},this.deleteProposal=async(r,i)=>{await Promise.all([this.client.proposal.delete(r,gr("USER_DISCONNECTED")),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")},this.deletePendingSessionRequest=async(r,i,n=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,i),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),n&&(this.sessionRequestQueue.state=ls.idle,this.client.events.emit("session_request_expire",{id:r}))},this.deletePendingAuthRequest=async(r,i,n=!1)=>{await Promise.all([this.client.auth.requests.delete(r,i),n?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,i)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,i),await this.client.session.update(r,{expiry:i}))},this.setProposal=async(r,i)=>{this.client.core.expirer.set(r,Hi(Zr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,i)},this.setAuthRequest=async(r,i)=>{const{request:n,pairingTopic:s}=i;this.client.core.expirer.set(r,n.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:n.authPayload,requester:n.requester,expiryTimestamp:n.expiryTimestamp,id:r,pairingTopic:s,verifyContext:n.verifyContext})},this.setPendingSessionRequest=async r=>{const{id:i,topic:n,params:s,verifyContext:h}=r,d=s.request.expiryTimestamp||Hi(Zr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(i,d),await this.client.pendingRequest.set(i,{id:i,topic:n,params:s,verifyContext:h})},this.sendRequest=async r=>{const{topic:i,method:n,params:s,expiry:h,relayRpcId:d,clientRpcId:g,throwOnFailedPublish:p}=r,_=Ya(n,s,g);if(_0()&&uP.includes(n)){const O=Lu(JSON.stringify(_));this.client.core.verify.register({attestationId:O})}let S;try{S=await this.client.core.crypto.encode(i,_)}catch(O){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${i} failed`),O}const D=Zr[n].req;return h&&(D.ttl=h),d&&(D.id=d),this.client.core.history.set(i,_),p?(D.internal=jo(Pr({},D.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,S,D)):this.client.core.relayer.publish(i,S,D).catch(O=>this.client.logger.error(O)),_.id},this.sendResult=async r=>{const{id:i,topic:n,result:s,throwOnFailedPublish:h,encodeOpts:d}=r,g=pl(i,s);let p;try{p=await this.client.core.crypto.encode(n,g,d)}catch(D){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${n} failed`),D}let _;try{_=await this.client.core.history.get(n,i)}catch(D){throw this.client.logger.error(`sendResult() -> history.get(${n}, ${i}) failed`),D}const S=Zr[_.request.method].res;h?(S.internal=jo(Pr({},S.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,p,S)):this.client.core.relayer.publish(n,p,S).catch(D=>this.client.logger.error(D)),await this.client.core.history.resolve(g)},this.sendError=async r=>{const{id:i,topic:n,error:s,encodeOpts:h,rpcOpts:d}=r,g=gl(i,s);let p;try{p=await this.client.core.crypto.encode(n,g,h)}catch(D){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${n} failed`),D}let _;try{_=await this.client.core.history.get(n,i)}catch(D){throw this.client.logger.error(`sendError() -> history.get(${n}, ${i}) failed`),D}const S=d||Zr[_.request.method].res;this.client.core.relayer.publish(n,p,S),await this.client.core.history.resolve(g)},this.cleanup=async()=>{const r=[],i=[];this.client.session.getAll().forEach(n=>{let s=!1;_a(n.expiry)&&(s=!0),this.client.core.crypto.keychain.has(n.topic)||(s=!0),s&&r.push(n.topic)}),this.client.proposal.getAll().forEach(n=>{_a(n.expiryTimestamp)&&i.push(n.id)}),await Promise.all([...r.map(n=>this.deleteSession({topic:n})),...i.map(n=>this.deleteProposal(n))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===ls.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=ls.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(i){this.client.logger.warn(i)}}this.requestQueue.state=ls.idle},this.processRequest=async r=>{const{topic:i,payload:n}=r,s=n.method;if(!this.shouldIgnorePairingRequest({topic:i,requestMethod:s}))switch(s){case"wc_sessionPropose":return await this.onSessionProposeRequest(i,n);case"wc_sessionSettle":return await this.onSessionSettleRequest(i,n);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(i,n);case"wc_sessionExtend":return await this.onSessionExtendRequest(i,n);case"wc_sessionPing":return await this.onSessionPingRequest(i,n);case"wc_sessionDelete":return await this.onSessionDeleteRequest(i,n);case"wc_sessionRequest":return await this.onSessionRequest(i,n);case"wc_sessionEvent":return await this.onSessionEventRequest(i,n);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest(i,n);default:return this.client.logger.info(`Unsupported request method ${s}`)}},this.onRelayEventResponse=async r=>{const{topic:i,payload:n}=r,s=(await this.client.core.history.get(i,n.id)).request.method;switch(s){case"wc_sessionPropose":return this.onSessionProposeResponse(i,n);case"wc_sessionSettle":return this.onSessionSettleResponse(i,n);case"wc_sessionUpdate":return this.onSessionUpdateResponse(i,n);case"wc_sessionExtend":return this.onSessionExtendResponse(i,n);case"wc_sessionPing":return this.onSessionPingResponse(i,n);case"wc_sessionRequest":return this.onSessionRequestResponse(i,n);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(i,n);default:return this.client.logger.info(`Unsupported response method ${s}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:i}=r,{message:n}=ae("MISSING_OR_INVALID",`Decoded payload on topic ${i} is not identifiable as a JSON-RPC request or a response.`);throw new Error(n)},this.shouldIgnorePairingRequest=r=>{const{topic:i,requestMethod:n}=r,s=this.expectedPairingMethodMap.get(i);return!s||s.includes(n)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async(r,i)=>{const{params:n,id:s}=i;try{this.isValidConnect(Pr({},i.params));const h=n.expiryTimestamp||Hi(Zr.wc_sessionPropose.req.ttl),d=Pr({id:s,pairingTopic:r,expiryTimestamp:h},n);await this.setProposal(s,d);const g=Lu(JSON.stringify(i)),p=await this.getVerifyContext(g,d.proposer.metadata);this.client.events.emit("session_proposal",{id:s,params:d,verifyContext:p})}catch(h){await this.sendError({id:s,topic:r,error:h,rpcOpts:Zr.wc_sessionPropose.autoReject}),this.client.logger.error(h)}},this.onSessionProposeResponse=async(r,i)=>{const{id:n}=i;if(cs(i)){const{result:s}=i;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:s});const h=this.client.proposal.get(n);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:h});const d=h.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:d});const g=s.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:g});const p=await this.client.core.crypto.generateSharedKey(d,g);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:p});const _=await this.client.core.relayer.subscribe(p);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:_}),await this.client.core.pairing.activate({topic:r})}else if(fn(i)){await this.client.proposal.delete(n,gr("USER_DISCONNECTED"));const s=ke("session_connect");if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners, 954`);this.events.emit(ke("session_connect"),{error:i.error})}},this.onSessionSettleRequest=async(r,i)=>{const{id:n,params:s}=i;try{this.isValidSessionSettleRequest(s);const{relay:h,controller:d,expiry:g,namespaces:p,sessionProperties:_,sessionConfig:S}=i.params,D=Pr(Pr({topic:r,relay:h,expiry:g,namespaces:p,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:d.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:d.publicKey,metadata:d.metadata}},_&&{sessionProperties:_}),S&&{sessionConfig:S});await this.sendResult({id:i.id,topic:r,result:!0,throwOnFailedPublish:!0});const O=ke("session_connect");if(this.events.listenerCount(O)===0)throw new Error(`emitting ${O} without any listeners 997`);this.events.emit(ke("session_connect"),{session:D})}catch(h){await this.sendError({id:n,topic:r,error:h}),this.client.logger.error(h)}},this.onSessionSettleResponse=async(r,i)=>{const{id:n}=i;cs(i)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(ke("session_approve",n),{})):fn(i)&&(await this.client.session.delete(r,gr("USER_DISCONNECTED")),this.events.emit(ke("session_approve",n),{error:i.error}))},this.onSessionUpdateRequest=async(r,i)=>{const{params:n,id:s}=i;try{const h=`${r}_session_update`,d=eh.get(h);if(d&&this.isRequestOutOfSync(d,s)){this.client.logger.info(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:gr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Pr({topic:r},n));try{eh.set(h,s),await this.client.session.update(r,{namespaces:n.namespaces}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0})}catch(g){throw eh.delete(h),g}this.client.events.emit("session_update",{id:s,topic:r,params:n})}catch(h){await this.sendError({id:s,topic:r,error:h}),this.client.logger.error(h)}},this.isRequestOutOfSync=(r,i)=>parseInt(i.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,i)=>{const{id:n}=i,s=ke("session_update",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);cs(i)?this.events.emit(ke("session_update",n),{}):fn(i)&&this.events.emit(ke("session_update",n),{error:i.error})},this.onSessionExtendRequest=async(r,i)=>{const{id:n}=i;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Hi(Za)),await this.sendResult({id:n,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:n,topic:r})}catch(s){await this.sendError({id:n,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,i)=>{const{id:n}=i,s=ke("session_extend",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);cs(i)?this.events.emit(ke("session_extend",n),{}):fn(i)&&this.events.emit(ke("session_extend",n),{error:i.error})},this.onSessionPingRequest=async(r,i)=>{const{id:n}=i;try{this.isValidPing({topic:r}),await this.sendResult({id:n,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:n,topic:r})}catch(s){await this.sendError({id:n,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionPingResponse=(r,i)=>{const{id:n}=i,s=ke("session_ping",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);setTimeout(()=>{cs(i)?this.events.emit(ke("session_ping",n),{}):fn(i)&&this.events.emit(ke("session_ping",n),{error:i.error})},500)},this.onSessionDeleteRequest=async(r,i)=>{const{id:n}=i;try{this.isValidDisconnect({topic:r,reason:i.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(Ti.publish,async()=>{s(await this.deleteSession({topic:r,id:n}))})}),this.sendResult({id:n,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:gr("USER_DISCONNECTED")})])}catch(s){this.client.logger.error(s)}},this.onSessionRequest=async(r,i)=>{var n;const{id:s,params:h}=i;try{await this.isValidRequest(Pr({topic:r},h));const d=Lu(JSON.stringify(Ya("wc_sessionRequest",h,s))),g=this.client.session.get(r),p=await this.getVerifyContext(d,g.peer.metadata),_={id:s,topic:r,params:h,verifyContext:p};await this.setPendingSessionRequest(_),(n=this.client.signConfig)!=null&&n.disableRequestQueue?this.emitSessionRequest(_):(this.addSessionRequestToSessionRequestQueue(_),this.processSessionRequestQueue())}catch(d){await this.sendError({id:s,topic:r,error:d}),this.client.logger.error(d)}},this.onSessionRequestResponse=(r,i)=>{const{id:n}=i,s=ke("session_request",n);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);cs(i)?this.events.emit(ke("session_request",n),{result:i.result}):fn(i)&&this.events.emit(ke("session_request",n),{error:i.error})},this.onSessionEventRequest=async(r,i)=>{const{id:n,params:s}=i;try{const h=`${r}_session_event_${s.event.name}`,d=eh.get(h);if(d&&this.isRequestOutOfSync(d,n)){this.client.logger.info(`Discarding out of sync request - ${n}`);return}this.isValidEmit(Pr({topic:r},s)),this.client.events.emit("session_event",{id:n,topic:r,params:s}),eh.set(h,n)}catch(h){await this.sendError({id:n,topic:r,error:h}),this.client.logger.error(h)}},this.onSessionAuthenticateResponse=(r,i)=>{const{id:n}=i;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:i}),cs(i)?this.events.emit(ke("session_request",n),{result:i.result}):fn(i)&&this.events.emit(ke("session_request",n),{error:i.error})},this.onSessionAuthenticateRequest=async(r,i)=>{try{const{requester:n,authPayload:s,expiryTimestamp:h}=i.params,d=Lu(JSON.stringify(i)),g=await this.getVerifyContext(d,this.client.metadata),p={requester:n,pairingTopic:r,id:i.id,authPayload:s,verifyContext:g,expiryTimestamp:h};await this.setAuthRequest(i.id,{request:p,pairingTopic:r}),this.client.events.emit("session_authenticate",{topic:r,params:i.params,id:i.id,verifyContext:g})}catch(n){this.client.logger.error(n);const s=i.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),d={type:Y0,receiverPublicKey:s,senderPublicKey:h};await this.sendError({id:i.id,topic:r,error:n,encodeOpts:d,rpcOpts:Zr.wc_sessionAuthenticate.autoReject})}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=ls.idle,this.processSessionRequestQueue()},Vt.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:r,error:i})=>{const n=this.client.core.history.pending;n.length>0&&n.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const h=s.request.id,d=ke("session_request",h);if(this.events.listenerCount(d)===0)throw new Error(`emitting ${d} without any listeners`);this.events.emit(ke("session_request",s.request.id),{error:i})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===ls.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=ls.active,this.emitSessionRequest(r)}catch(i){this.client.logger.error(i)}},this.emitSessionRequest=r=>{this.client.events.emit("session_request",r)},this.onPairingCreated=r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const i=this.client.proposal.getAll().find(n=>n.pairingTopic===r.topic);i&&this.onSessionProposeRequest(r.topic,Ya("wc_sessionPropose",{requiredNamespaces:i.requiredNamespaces,optionalNamespaces:i.optionalNamespaces,relays:i.relays,proposer:i.proposer,sessionProperties:i.sessionProperties},i.id))},this.isValidConnect=async r=>{if(!Dn(r)){const{message:g}=ae("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(g)}const{pairingTopic:i,requiredNamespaces:n,optionalNamespaces:s,sessionProperties:h,relays:d}=r;if(an(i)||await this.isValidPairingTopic(i),!$9(d,!0)){const{message:g}=ae("MISSING_OR_INVALID",`connect() relays: ${d}`);throw new Error(g)}!an(n)&&th(n)!==0&&this.validateNamespaces(n,"requiredNamespaces"),!an(s)&&th(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),an(h)||this.validateSessionProps(h,"sessionProperties")},this.validateNamespaces=(r,i)=>{const n=T9(r,"connect()",i);if(n)throw new Error(n.message)},this.isValidApprove=async r=>{if(!Dn(r))throw new Error(ae("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:i,namespaces:n,relayProtocol:s,sessionProperties:h}=r;this.checkRecentlyDeleted(i),await this.isValidProposalId(i);const d=this.client.proposal.get(i),g=td(n,"approve()");if(g)throw new Error(g.message);const p=cv(d.requiredNamespaces,n,"approve()");if(p)throw new Error(p.message);if(!Nr(s,!0)){const{message:_}=ae("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(_)}an(h)||this.validateSessionProps(h,"sessionProperties")},this.isValidReject=async r=>{if(!Dn(r)){const{message:s}=ae("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:i,reason:n}=r;if(this.checkRecentlyDeleted(i),await this.isValidProposalId(i),!U9(n)){const{message:s}=ae("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(n)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!Dn(r)){const{message:p}=ae("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(p)}const{relay:i,controller:n,namespaces:s,expiry:h}=r;if(!ov(i)){const{message:p}=ae("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(p)}const d=C9(n,"onSessionSettleRequest()");if(d)throw new Error(d.message);const g=td(s,"onSessionSettleRequest()");if(g)throw new Error(g.message);if(_a(h)){const{message:p}=ae("EXPIRED","onSessionSettleRequest()");throw new Error(p)}},this.isValidUpdate=async r=>{if(!Dn(r)){const{message:g}=ae("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(g)}const{topic:i,namespaces:n}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const s=this.client.session.get(i),h=td(n,"update()");if(h)throw new Error(h.message);const d=cv(s.requiredNamespaces,n,"update()");if(d)throw new Error(d.message)},this.isValidExtend=async r=>{if(!Dn(r)){const{message:n}=ae("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(n)}const{topic:i}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i)},this.isValidRequest=async r=>{if(!Dn(r)){const{message:g}=ae("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(g)}const{topic:i,request:n,chainId:s,expiry:h}=r;this.checkRecentlyDeleted(i),await this.isValidSessionTopic(i);const{namespaces:d}=this.client.session.get(i);if(!av(d,s)){const{message:g}=ae("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(g)}if(!L9(n)){const{message:g}=ae("MISSING_OR_INVALID",`request() ${JSON.stringify(n)}`);throw new Error(g)}if(!j9(d,s,n.method)){const{message:g}=ae("MISSING_OR_INVALID",`request() method: ${n.method}`);throw new Error(g)}if(h&&!K9(h,n1)){const{message:g}=ae("MISSING_OR_INVALID",`request() expiry: ${h}. Expiry must be a number (in seconds) between ${n1.min} and ${n1.max}`);throw new Error(g)}},this.isValidRespond=async r=>{var i;if(!Dn(r)){const{message:h}=ae("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(h)}const{topic:n,response:s}=r;try{await this.isValidSessionTopic(n)}catch(h){throw(i=r?.response)!=null&&i.id&&this.cleanupAfterResponse(r),h}if(!F9(s)){const{message:h}=ae("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(h)}},this.isValidPing=async r=>{if(!Dn(r)){const{message:n}=ae("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(n)}const{topic:i}=r;await this.isValidSessionOrPairingTopic(i)},this.isValidEmit=async r=>{if(!Dn(r)){const{message:d}=ae("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(d)}const{topic:i,event:n,chainId:s}=r;await this.isValidSessionTopic(i);const{namespaces:h}=this.client.session.get(i);if(!av(h,s)){const{message:d}=ae("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(d)}if(!k9(n)){const{message:d}=ae("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(d)}if(!q9(h,s,n.name)){const{message:d}=ae("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(n)}`);throw new Error(d)}},this.isValidDisconnect=async r=>{if(!Dn(r)){const{message:n}=ae("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(n)}const{topic:i}=r;await this.isValidSessionOrPairingTopic(i)},this.isValidAuthenticate=r=>{const{chains:i,uri:n,domain:s,nonce:h}=r;if(!Array.isArray(i)||i.length===0)throw new Error("chains is required and must be a non-empty array");if(!Nr(n,!1))throw new Error("uri is required parameter");if(!Nr(s,!1))throw new Error("domain is required parameter");if(!Nr(h,!1))throw new Error("nonce is required parameter");if([...new Set(i.map(g=>zc(g).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:d}=zc(i[0]);if(d!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async(r,i)=>{const n={verified:{verifyUrl:i.verifyUrl||Eh,validation:"UNKNOWN",origin:i.url||""}};try{const s=await this.client.core.verify.resolve({attestationId:r,verifyUrl:i.verifyUrl});s&&(n.verified.origin=s.origin,n.verified.isScam=s.isScam,n.verified.validation=s.origin===new URL(i.url).origin?"VALID":"INVALID")}catch(s){this.client.logger.info(s)}return this.client.logger.info(`Verify context: ${JSON.stringify(n)}`),n},this.validateSessionProps=(r,i)=>{Object.values(r).forEach(n=>{if(!Nr(n,!1)){const{message:s}=ae("MISSING_OR_INVALID",`${i} must be in Record<string, string> format. Received: ${JSON.stringify(n)}`);throw new Error(s)}})},this.getPendingAuthRequest=r=>{const i=this.client.auth.requests.get(r);return typeof i=="object"?i:void 0},this.addToRecentlyDeleted=(r,i)=>{if(this.recentlyDeletedMap.set(r,i),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let n=0;const s=this.recentlyDeletedLimit/2;for(const h of this.recentlyDeletedMap.keys()){if(n++>=s)break;this.recentlyDeletedMap.delete(h)}}},this.checkRecentlyDeleted=r=>{const i=this.recentlyDeletedMap.get(r);if(i){const{message:n}=ae("MISSING_OR_INVALID",`Record was recently deleted - ${i}: ${r}`);throw new Error(n)}}}async isInitialized(){if(!this.initialized){const{message:t}=ae("NOT_INITIALIZED",this.name);throw new Error(t)}await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Ti.message,t=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(t):this.onRelayMessage(t)})}async onRelayMessage(t){const{topic:r,message:i}=t,{publicKey:n}=this.client.auth.authKeys.keys.includes(yl)?this.client.auth.authKeys.get(yl):{responseTopic:void 0,publicKey:void 0},s=await this.client.core.crypto.decode(r,i,{receiverPublicKey:n});try{Vd(s)?(this.client.core.history.set(r,s),this.onRelayEventRequest({topic:r,payload:s})):ml(s)?(await this.client.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.client.core.history.delete(r,s.id)):this.onRelayEventUnknownPayload({topic:r,payload:s})}catch(h){this.client.logger.error(h)}}registerExpirerEvents(){this.client.core.expirer.on(pn.expired,async t=>{const{topic:r,id:i}=v7(t.target);if(i&&this.client.pendingRequest.keys.includes(i))return await this.deletePendingSessionRequest(i,ae("EXPIRED"),!0);if(i&&this.client.auth.requests.keys.includes(i))return await this.deletePendingAuthRequest(i,ae("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):i&&(await this.deleteProposal(i,!0),this.client.events.emit("proposal_expire",{id:i}))})}registerPairingEvents(){this.client.core.pairing.events.on(Ja.create,t=>this.onPairingCreated(t)),this.client.core.pairing.events.on(Ja.delete,t=>{this.addToRecentlyDeleted(t.topic,"pairing")})}isValidPairingTopic(t){if(!Nr(t,!1)){const{message:r}=ae("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:r}=ae("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(_a(this.client.core.pairing.pairings.get(t).expiry)){const{message:r}=ae("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}async isValidSessionTopic(t){if(!Nr(t,!1)){const{message:r}=ae("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(r)}if(this.checkRecentlyDeleted(t),!this.client.session.keys.includes(t)){const{message:r}=ae("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(r)}if(_a(this.client.session.get(t).expiry)){await this.deleteSession({topic:t});const{message:r}=ae("EXPIRED",`session topic: ${t}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(t)){const{message:r}=ae("MISSING_OR_INVALID",`session topic does not exist in keychain: ${t}`);throw await this.deleteSession({topic:t}),new Error(r)}}async isValidSessionOrPairingTopic(t){if(this.checkRecentlyDeleted(t),this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(Nr(t,!1)){const{message:r}=ae("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(r)}else{const{message:r}=ae("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(r)}}async isValidProposalId(t){if(!B9(t)){const{message:r}=ae("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(r)}if(!this.client.proposal.keys.includes(t)){const{message:r}=ae("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(r)}if(_a(this.client.proposal.get(t).expiryTimestamp)){await this.deleteProposal(t);const{message:r}=ae("EXPIRED",`proposal id: ${t}`);throw new Error(r)}}}class _P extends ko{constructor(t,r){super(t,r,oP,r1),this.core=t,this.logger=r}}class EP extends ko{constructor(t,r){super(t,r,aP,r1),this.core=t,this.logger=r}}class MP extends ko{constructor(t,r){super(t,r,hP,r1,i=>i.id),this.core=t,this.logger=r}}class SP extends ko{constructor(t,r){super(t,r,dP,wl,()=>yl),this.core=t,this.logger=r}}class IP extends ko{constructor(t,r){super(t,r,pP,wl),this.core=t,this.logger=r}}class xP extends ko{constructor(t,r){super(t,r,gP,wl,i=>i.id),this.core=t,this.logger=r}}class CP{constructor(t,r){this.core=t,this.logger=r,this.authKeys=new SP(this.core,this.logger),this.pairingTopics=new IP(this.core,this.logger),this.requests=new xP(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class s1 extends nP{constructor(t){super(t),this.protocol=Hy,this.version=Ky,this.name=i1.name,this.events=new Kr.exports.EventEmitter,this.on=(i,n)=>this.events.on(i,n),this.once=(i,n)=>this.events.once(i,n),this.off=(i,n)=>this.events.off(i,n),this.removeListener=(i,n)=>this.events.removeListener(i,n),this.removeAllListeners=i=>this.events.removeAllListeners(i),this.connect=async i=>{try{return await this.engine.connect(i)}catch(n){throw this.logger.error(n.message),n}},this.pair=async i=>{try{return await this.engine.pair(i)}catch(n){throw this.logger.error(n.message),n}},this.approve=async i=>{try{return await this.engine.approve(i)}catch(n){throw this.logger.error(n.message),n}},this.reject=async i=>{try{return await this.engine.reject(i)}catch(n){throw this.logger.error(n.message),n}},this.update=async i=>{try{return await this.engine.update(i)}catch(n){throw this.logger.error(n.message),n}},this.extend=async i=>{try{return await this.engine.extend(i)}catch(n){throw this.logger.error(n.message),n}},this.request=async i=>{try{return await this.engine.request(i)}catch(n){throw this.logger.error(n.message),n}},this.respond=async i=>{try{return await this.engine.respond(i)}catch(n){throw this.logger.error(n.message),n}},this.ping=async i=>{try{return await this.engine.ping(i)}catch(n){throw this.logger.error(n.message),n}},this.emit=async i=>{try{return await this.engine.emit(i)}catch(n){throw this.logger.error(n.message),n}},this.disconnect=async i=>{try{return await this.engine.disconnect(i)}catch(n){throw this.logger.error(n.message),n}},this.find=i=>{try{return this.engine.find(i)}catch(n){throw this.logger.error(n.message),n}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(i){throw this.logger.error(i.message),i}},this.authenticate=async i=>{try{return await this.engine.authenticate(i)}catch(n){throw this.logger.error(n.message),n}},this.formatAuthMessage=i=>{try{return this.engine.formatAuthMessage(i)}catch(n){throw this.logger.error(n.message),n}},this.approveSessionAuthenticate=async i=>{try{return await this.engine.approveSessionAuthenticate(i)}catch(n){throw this.logger.error(n.message),n}},this.rejectSessionAuthenticate=async i=>{try{return await this.engine.rejectSessionAuthenticate(i)}catch(n){throw this.logger.error(n.message),n}},this.name=t?.name||i1.name,this.metadata=t?.metadata||m7(),this.signConfig=t?.signConfig;const r=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:Zn(Gu({level:t?.logger||i1.logger}));this.core=t?.core||new iP(t),this.logger=Ni(r,this.name),this.session=new EP(this.core,this.logger),this.proposal=new _P(this.core,this.logger),this.pendingRequest=new MP(this.core,this.logger),this.engine=new AP(this),this.auth=new CP(this.core,this.logger)}static async init(t){const r=new s1(t);return await r.initialize(),r}get context(){return Oi(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),await this.auth.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}var o1={exports:{}};(function(e,t){var r=typeof self<"u"?self:ci,i=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(h){var d={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function g(u){return u&&DataView.prototype.isPrototypeOf(u)}if(d.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],_=ArrayBuffer.isView||function(u){return u&&p.indexOf(Object.prototype.toString.call(u))>-1};function S(u){if(typeof u!="string"&&(u=String(u)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(u))throw new TypeError("Invalid character in header field name");return u.toLowerCase()}function D(u){return typeof u!="string"&&(u=String(u)),u}function O(u){var f={next:function(){var v=u.shift();return{done:v===void 0,value:v}}};return d.iterable&&(f[Symbol.iterator]=function(){return f}),f}function N(u){this.map={},u instanceof N?u.forEach(function(f,v){this.append(v,f)},this):Array.isArray(u)?u.forEach(function(f){this.append(f[0],f[1])},this):u&&Object.getOwnPropertyNames(u).forEach(function(f){this.append(f,u[f])},this)}N.prototype.append=function(u,f){u=S(u),f=D(f);var v=this.map[u];this.map[u]=v?v+", "+f:f},N.prototype.delete=function(u){delete this.map[S(u)]},N.prototype.get=function(u){return u=S(u),this.has(u)?this.map[u]:null},N.prototype.has=function(u){return this.map.hasOwnProperty(S(u))},N.prototype.set=function(u,f){this.map[S(u)]=D(f)},N.prototype.forEach=function(u,f){for(var v in this.map)this.map.hasOwnProperty(v)&&u.call(f,this.map[v],v,this)},N.prototype.keys=function(){var u=[];return this.forEach(function(f,v){u.push(v)}),O(u)},N.prototype.values=function(){var u=[];return this.forEach(function(f){u.push(f)}),O(u)},N.prototype.entries=function(){var u=[];return this.forEach(function(f,v){u.push([v,f])}),O(u)},d.iterable&&(N.prototype[Symbol.iterator]=N.prototype.entries);function L(u){if(u.bodyUsed)return Promise.reject(new TypeError("Already read"));u.bodyUsed=!0}function z(u){return new Promise(function(f,v){u.onload=function(){f(u.result)},u.onerror=function(){v(u.error)}})}function G(u){var f=new FileReader,v=z(f);return f.readAsArrayBuffer(u),v}function q(u){var f=new FileReader,v=z(f);return f.readAsText(u),v}function W(u){for(var f=new Uint8Array(u),v=new Array(f.length),A=0;A<f.length;A++)v[A]=String.fromCharCode(f[A]);return v.join("")}function B(u){if(u.slice)return u.slice(0);var f=new Uint8Array(u.byteLength);return f.set(new Uint8Array(u)),f.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(u){this._bodyInit=u,u?typeof u=="string"?this._bodyText=u:d.blob&&Blob.prototype.isPrototypeOf(u)?this._bodyBlob=u:d.formData&&FormData.prototype.isPrototypeOf(u)?this._bodyFormData=u:d.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)?this._bodyText=u.toString():d.arrayBuffer&&d.blob&&g(u)?(this._bodyArrayBuffer=B(u.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):d.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(u)||_(u))?this._bodyArrayBuffer=B(u):this._bodyText=u=Object.prototype.toString.call(u):this._bodyText="",this.headers.get("content-type")||(typeof u=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(u)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var u=L(this);if(u)return u;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?L(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(G)}),this.text=function(){var u=L(this);if(u)return u;if(this._bodyBlob)return q(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(W(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(et)}),this.json=function(){return this.text().then(JSON.parse)},this}var j=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function I(u){var f=u.toUpperCase();return j.indexOf(f)>-1?f:u}function U(u,f){f=f||{};var v=f.body;if(u instanceof U){if(u.bodyUsed)throw new TypeError("Already read");this.url=u.url,this.credentials=u.credentials,f.headers||(this.headers=new N(u.headers)),this.method=u.method,this.mode=u.mode,this.signal=u.signal,!v&&u._bodyInit!=null&&(v=u._bodyInit,u.bodyUsed=!0)}else this.url=String(u);if(this.credentials=f.credentials||this.credentials||"same-origin",(f.headers||!this.headers)&&(this.headers=new N(f.headers)),this.method=I(f.method||this.method||"GET"),this.mode=f.mode||this.mode||null,this.signal=f.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&v)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(v)}U.prototype.clone=function(){return new U(this,{body:this._bodyInit})};function et(u){var f=new FormData;return u.trim().split("&").forEach(function(v){if(v){var A=v.split("="),E=A.shift().replace(/\+/g," "),x=A.join("=").replace(/\+/g," ");f.append(decodeURIComponent(E),decodeURIComponent(x))}}),f}function ct(u){var f=new N,v=u.replace(/\r?\n[\t ]+/g," ");return v.split(/\r?\n/).forEach(function(A){var E=A.split(":"),x=E.shift().trim();if(x){var y=E.join(":").trim();f.append(x,y)}}),f}k.call(U.prototype);function Z(u,f){f||(f={}),this.type="default",this.status=f.status===void 0?200:f.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in f?f.statusText:"OK",this.headers=new N(f.headers),this.url=f.url||"",this._initBody(u)}k.call(Z.prototype),Z.prototype.clone=function(){return new Z(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new N(this.headers),url:this.url})},Z.error=function(){var u=new Z(null,{status:0,statusText:""});return u.type="error",u};var ut=[301,302,303,307,308];Z.redirect=function(u,f){if(ut.indexOf(f)===-1)throw new RangeError("Invalid status code");return new Z(null,{status:f,headers:{location:u}})},h.DOMException=s.DOMException;try{new h.DOMException}catch{h.DOMException=function(f,v){this.message=f,this.name=v;var A=Error(f);this.stack=A.stack},h.DOMException.prototype=Object.create(Error.prototype),h.DOMException.prototype.constructor=h.DOMException}function o(u,f){return new Promise(function(v,A){var E=new U(u,f);if(E.signal&&E.signal.aborted)return A(new h.DOMException("Aborted","AbortError"));var x=new XMLHttpRequest;function y(){x.abort()}x.onload=function(){var c={status:x.status,statusText:x.statusText,headers:ct(x.getAllResponseHeaders()||"")};c.url="responseURL"in x?x.responseURL:c.headers.get("X-Request-URL");var b="response"in x?x.response:x.responseText;v(new Z(b,c))},x.onerror=function(){A(new TypeError("Network request failed"))},x.ontimeout=function(){A(new TypeError("Network request failed"))},x.onabort=function(){A(new h.DOMException("Aborted","AbortError"))},x.open(E.method,E.url,!0),E.credentials==="include"?x.withCredentials=!0:E.credentials==="omit"&&(x.withCredentials=!1),"responseType"in x&&d.blob&&(x.responseType="blob"),E.headers.forEach(function(c,b){x.setRequestHeader(b,c)}),E.signal&&(E.signal.addEventListener("abort",y),x.onreadystatechange=function(){x.readyState===4&&E.signal.removeEventListener("abort",y)}),x.send(typeof E._bodyInit>"u"?null:E._bodyInit)})}return o.polyfill=!0,s.fetch||(s.fetch=o,s.Headers=N,s.Request=U,s.Response=Z),h.Headers=N,h.Request=U,h.Response=Z,h.fetch=o,Object.defineProperty(h,"__esModule",{value:!0}),h})({})})(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var n=i;t=n.fetch,t.default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t})(o1,o1.exports);var Jy=K5(o1.exports),DP=Object.defineProperty,OP=Object.defineProperties,NP=Object.getOwnPropertyDescriptors,Zy=Object.getOwnPropertySymbols,PP=Object.prototype.hasOwnProperty,RP=Object.prototype.propertyIsEnumerable,Xy=(e,t,r)=>t in e?DP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,t3=(e,t)=>{for(var r in t||(t={}))PP.call(t,r)&&Xy(e,r,t[r]);if(Zy)for(var r of Zy(t))RP.call(t,r)&&Xy(e,r,t[r]);return e},e3=(e,t)=>OP(e,NP(t));const TP={Accept:"application/json","Content-Type":"application/json"},$P="POST",r3={headers:TP,method:$P},i3=10;class Ts{constructor(t,r=!1){if(this.url=t,this.disableProviderPing=r,this.events=new Kr.exports.EventEmitter,this.isAvailable=!1,this.registering=!1,!oy(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);this.url=t,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(t){this.isAvailable||await this.register();try{const r=xs(t),i=await(await Jy(this.url,e3(t3({},r3),{body:r}))).json();this.onPayload({data:i})}catch(r){this.onError(t.id,r)}}async register(t=this.url){if(!oy(t))throw new Error(`Provided URL is not compatible with HTTP connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((i,n)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),n(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return n(new Error("HTTP connection is missing or invalid"));i()})})}this.url=t,this.registering=!0;try{if(!this.disableProviderPing){const r=xs({id:1,jsonrpc:"2.0",method:"test",params:[]});await Jy(t,e3(t3({},r3),{body:r}))}this.onOpen()}catch(r){const i=this.parseError(r);throw this.events.emit("register_error",i),this.onClose(),i}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?ih(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const i=this.parseError(r),n=i.message||i.toString(),s=gl(t,n);this.events.emit("payload",s)}parseError(t,r=this.url){return ty(t,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>i3&&this.events.setMaxListeners(i3)}}const n3="error",BP="ws://123.157.213.104:3010",UP="wc",LP="universal_provider",s3=`${UP}@2:${LP}:`,FP="https://rpc.walletconnect.com/v1/",Xa="generic",fs={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},a1={exports:{}};/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(e,t){(function(){var r,i="4.17.21",n=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",d="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",p=500,_="__lodash_placeholder__",S=1,D=2,O=4,N=1,L=2,z=1,G=2,q=4,W=8,B=16,k=32,j=64,I=128,U=256,et=512,ct=30,Z="...",ut=800,o=16,u=1,f=2,v=3,A=1/0,E=9007199254740991,x=17976931348623157e292,y=0/0,c=4294967295,b=c-1,J=c>>>1,X=[["ary",I],["bind",z],["bindKey",G],["curry",W],["curryRight",B],["flip",et],["partial",k],["partialRight",j],["rearg",U]],w="[object Arguments]",V="[object Array]",P="[object AsyncFunction]",T="[object Boolean]",K="[object Date]",M="[object DOMException]",$="[object Error]",it="[object Function]",ot="[object GeneratorFunction]",rt="[object Map]",Ut="[object Number]",_t="[object Null]",wt="[object Object]",pe="[object Promise]",Ot="[object Proxy]",bt="[object RegExp]",ee="[object Set]",pt="[object String]",gt="[object Symbol]",ne="[object Undefined]",ft="[object WeakMap]",mt="[object WeakSet]",Zt="[object ArrayBuffer]",dt="[object DataView]",At="[object Float32Array]",re="[object Float64Array]",Et="[object Int8Array]",Mt="[object Int16Array]",oe="[object Int32Array]",xt="[object Uint8Array]",St="[object Uint8ClampedArray]",qe="[object Uint16Array]",qt="[object Uint32Array]",Ht=/\b__p \+= '';/g,ze=/\b(__p \+=) '' \+/g,Kt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Wt=/&(?:amp|lt|gt|quot|#39);/g,ar=/[&<>"']/g,Rt=RegExp(Wt.source),Nt=RegExp(ar.source),Ee=/<%-([\s\S]+?)%>/g,Tt=/<%([\s\S]+?)%>/g,Pt=/<%=([\s\S]+?)%>/g,ge=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Lt=/^\w*$/,Ft=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Me=/[\\^$.*+?()[\]{}|]/g,kt=RegExp(Me.source),$t=/^\s+/,Ie=/\s/,Bt=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Dt=/\{\n\/\* \[wrapped with (.+)\] \*/,Ce=/,? & /,jt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Qt=/[()=,{}\[\]\/\s]/,_r=/\\(\\)?/g,Yt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,zt=/\w*$/,cr=/^[-+]0x[0-9a-f]+$/i,hr=/^0b[01]+$/i,ur=/^\[object .+?Constructor\]$/,lr=/^0o[0-7]+$/i,fr=/^(?:0|[1-9]\d*)$/,Ke=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,kr=/($^)/,gi=/['\n\r\u2028\u2029\\]/g,jr="\\ud800-\\udfff",mi="\\u0300-\\u036f",vi="\\ufe20-\\ufe2f",qr="\\u20d0-\\u20ff",ni=mi+vi+qr,si="\\u2700-\\u27bf",wr="a-z\\xdf-\\xf6\\xf8-\\xff",wi="\\xac\\xb1\\xd7\\xf7",yi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",bi="\\u2000-\\u206f",Ai=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xl="A-Z\\xc0-\\xd6\\xd8-\\xde",tf="\\ufe0e\\ufe0f",ra=wi+yi+bi+Ai,Kh="['\u2019]",ia="["+jr+"]",Wh="["+ra+"]",na="["+ni+"]",ef="\\d+",Ep="["+si+"]",rf="["+wr+"]",nf="[^"+jr+ra+ef+si+wr+Xl+"]",wc="\\ud83c[\\udffb-\\udfff]",Mp="(?:"+na+"|"+wc+")",sf="[^"+jr+"]",yc="(?:\\ud83c[\\udde6-\\uddff]){2}",wo="[\\ud800-\\udbff][\\udc00-\\udfff]",Yi="["+Xl+"]",of="\\u200d",af="(?:"+rf+"|"+nf+")",vs="(?:"+Yi+"|"+nf+")",cf="(?:"+Kh+"(?:d|ll|m|re|s|t|ve))?",hf="(?:"+Kh+"(?:D|LL|M|RE|S|T|VE))?",uf=Mp+"?",lf="["+tf+"]?",Sp="(?:"+of+"(?:"+[sf,yc,wo].join("|")+")"+lf+uf+")*",Fs="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ff="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",df=lf+uf+Sp,bc="(?:"+[Ep,yc,wo].join("|")+")"+df,Ip="(?:"+[sf+na+"?",na,yc,wo,ia].join("|")+")",Vh=RegExp(Kh,"g"),xp=RegExp(na,"g"),Ac=RegExp(wc+"(?="+wc+")|"+Ip+df,"g"),pf=RegExp([Yi+"?"+rf+"+"+cf+"(?="+[Wh,Yi,"$"].join("|")+")",vs+"+"+hf+"(?="+[Wh,Yi+af,"$"].join("|")+")",Yi+"?"+af+"+"+cf,Yi+"+"+hf,ff,Fs,ef,bc].join("|"),"g"),gf=RegExp("["+of+jr+ni+tf+"]"),sa=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,mf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Cp=-1,tr={};tr[At]=tr[re]=tr[Et]=tr[Mt]=tr[oe]=tr[xt]=tr[St]=tr[qe]=tr[qt]=!0,tr[w]=tr[V]=tr[Zt]=tr[T]=tr[dt]=tr[K]=tr[$]=tr[it]=tr[rt]=tr[Ut]=tr[wt]=tr[bt]=tr[ee]=tr[pt]=tr[ft]=!1;var Ze={};Ze[w]=Ze[V]=Ze[Zt]=Ze[dt]=Ze[T]=Ze[K]=Ze[At]=Ze[re]=Ze[Et]=Ze[Mt]=Ze[oe]=Ze[rt]=Ze[Ut]=Ze[wt]=Ze[bt]=Ze[ee]=Ze[pt]=Ze[gt]=Ze[xt]=Ze[St]=Ze[qe]=Ze[qt]=!0,Ze[$]=Ze[it]=Ze[ft]=!1;var Q={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},nt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},It={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Xt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},er=parseFloat,me=parseInt,dr=typeof Sh=="object"&&Sh&&Sh.Object===Object&&Sh,Dr=typeof self=="object"&&self&&self.Object===Object&&self,Le=dr||Dr||Function("return this")(),rr=t&&!t.nodeType&&t,Ir=rr&&!0&&e&&!e.nodeType&&e,Ui=Ir&&Ir.exports===rr,Or=Ui&&dr.process,pr=function(){try{var st=Ir&&Ir.require&&Ir.require("util").types;return st||Or&&Or.binding&&Or.binding("util")}catch{}}(),_i=pr&&pr.isArrayBuffer,Bn=pr&&pr.isDate,mn=pr&&pr.isMap,ws=pr&&pr.isRegExp,Gh=pr&&pr.isSet,oa=pr&&pr.isTypedArray;function zr(st,lt,ht){switch(ht.length){case 0:return st.call(lt);case 1:return st.call(lt,ht[0]);case 2:return st.call(lt,ht[0],ht[1]);case 3:return st.call(lt,ht[0],ht[1],ht[2])}return st.apply(lt,ht)}function rL(st,lt,ht,te){for(var fe=-1,We=st==null?0:st.length;++fe<We;){var Tr=st[fe];lt(te,Tr,ht(Tr),st)}return te}function vn(st,lt){for(var ht=-1,te=st==null?0:st.length;++ht<te&&lt(st[ht],ht,st)!==!1;);return st}function iL(st,lt){for(var ht=st==null?0:st.length;ht--&&lt(st[ht],ht,st)!==!1;);return st}function Wb(st,lt){for(var ht=-1,te=st==null?0:st.length;++ht<te;)if(!lt(st[ht],ht,st))return!1;return!0}function yo(st,lt){for(var ht=-1,te=st==null?0:st.length,fe=0,We=[];++ht<te;){var Tr=st[ht];lt(Tr,ht,st)&&(We[fe++]=Tr)}return We}function vf(st,lt){var ht=st==null?0:st.length;return!!ht&&_c(st,lt,0)>-1}function Dp(st,lt,ht){for(var te=-1,fe=st==null?0:st.length;++te<fe;)if(ht(lt,st[te]))return!0;return!1}function mr(st,lt){for(var ht=-1,te=st==null?0:st.length,fe=Array(te);++ht<te;)fe[ht]=lt(st[ht],ht,st);return fe}function bo(st,lt){for(var ht=-1,te=lt.length,fe=st.length;++ht<te;)st[fe+ht]=lt[ht];return st}function Op(st,lt,ht,te){var fe=-1,We=st==null?0:st.length;for(te&&We&&(ht=st[++fe]);++fe<We;)ht=lt(ht,st[fe],fe,st);return ht}function nL(st,lt,ht,te){var fe=st==null?0:st.length;for(te&&fe&&(ht=st[--fe]);fe--;)ht=lt(ht,st[fe],fe,st);return ht}function Np(st,lt){for(var ht=-1,te=st==null?0:st.length;++ht<te;)if(lt(st[ht],ht,st))return!0;return!1}var sL=Pp("length");function oL(st){return st.split("")}function aL(st){return st.match(jt)||[]}function Vb(st,lt,ht){var te;return ht(st,function(fe,We,Tr){if(lt(fe,We,Tr))return te=We,!1}),te}function wf(st,lt,ht,te){for(var fe=st.length,We=ht+(te?1:-1);te?We--:++We<fe;)if(lt(st[We],We,st))return We;return-1}function _c(st,lt,ht){return lt===lt?yL(st,lt,ht):wf(st,Gb,ht)}function cL(st,lt,ht,te){for(var fe=ht-1,We=st.length;++fe<We;)if(te(st[fe],lt))return fe;return-1}function Gb(st){return st!==st}function Qb(st,lt){var ht=st==null?0:st.length;return ht?Tp(st,lt)/ht:y}function Pp(st){return function(lt){return lt==null?r:lt[st]}}function Rp(st){return function(lt){return st==null?r:st[lt]}}function Yb(st,lt,ht,te,fe){return fe(st,function(We,Tr,ir){ht=te?(te=!1,We):lt(ht,We,Tr,ir)}),ht}function hL(st,lt){var ht=st.length;for(st.sort(lt);ht--;)st[ht]=st[ht].value;return st}function Tp(st,lt){for(var ht,te=-1,fe=st.length;++te<fe;){var We=lt(st[te]);We!==r&&(ht=ht===r?We:ht+We)}return ht}function $p(st,lt){for(var ht=-1,te=Array(st);++ht<st;)te[ht]=lt(ht);return te}function uL(st,lt){return mr(lt,function(ht){return[ht,st[ht]]})}function Jb(st){return st&&st.slice(0,e6(st)+1).replace($t,"")}function Ji(st){return function(lt){return st(lt)}}function Bp(st,lt){return mr(lt,function(ht){return st[ht]})}function Qh(st,lt){return st.has(lt)}function Zb(st,lt){for(var ht=-1,te=st.length;++ht<te&&_c(lt,st[ht],0)>-1;);return ht}function Xb(st,lt){for(var ht=st.length;ht--&&_c(lt,st[ht],0)>-1;);return ht}function lL(st,lt){for(var ht=st.length,te=0;ht--;)st[ht]===lt&&++te;return te}var fL=Rp(Q),dL=Rp(nt);function pL(st){return"\\"+Xt[st]}function gL(st,lt){return st==null?r:st[lt]}function Ec(st){return gf.test(st)}function mL(st){return sa.test(st)}function vL(st){for(var lt,ht=[];!(lt=st.next()).done;)ht.push(lt.value);return ht}function Up(st){var lt=-1,ht=Array(st.size);return st.forEach(function(te,fe){ht[++lt]=[fe,te]}),ht}function t6(st,lt){return function(ht){return st(lt(ht))}}function Ao(st,lt){for(var ht=-1,te=st.length,fe=0,We=[];++ht<te;){var Tr=st[ht];(Tr===lt||Tr===_)&&(st[ht]=_,We[fe++]=ht)}return We}function yf(st){var lt=-1,ht=Array(st.size);return st.forEach(function(te){ht[++lt]=te}),ht}function wL(st){var lt=-1,ht=Array(st.size);return st.forEach(function(te){ht[++lt]=[te,te]}),ht}function yL(st,lt,ht){for(var te=ht-1,fe=st.length;++te<fe;)if(st[te]===lt)return te;return-1}function bL(st,lt,ht){for(var te=ht+1;te--;)if(st[te]===lt)return te;return te}function Mc(st){return Ec(st)?_L(st):sL(st)}function Un(st){return Ec(st)?EL(st):oL(st)}function e6(st){for(var lt=st.length;lt--&&Ie.test(st.charAt(lt)););return lt}var AL=Rp(It);function _L(st){for(var lt=Ac.lastIndex=0;Ac.test(st);)++lt;return lt}function EL(st){return st.match(Ac)||[]}function ML(st){return st.match(pf)||[]}var SL=function st(lt){lt=lt==null?Le:Sc.defaults(Le.Object(),lt,Sc.pick(Le,mf));var ht=lt.Array,te=lt.Date,fe=lt.Error,We=lt.Function,Tr=lt.Math,ir=lt.Object,Lp=lt.RegExp,IL=lt.String,wn=lt.TypeError,bf=ht.prototype,xL=We.prototype,Ic=ir.prototype,Af=lt["__core-js_shared__"],_f=xL.toString,Ye=Ic.hasOwnProperty,CL=0,r6=function(){var a=/[^.]+$/.exec(Af&&Af.keys&&Af.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Ef=Ic.toString,DL=_f.call(ir),OL=Le._,NL=Lp("^"+_f.call(Ye).replace(Me,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mf=Ui?lt.Buffer:r,_o=lt.Symbol,Sf=lt.Uint8Array,i6=Mf?Mf.allocUnsafe:r,If=t6(ir.getPrototypeOf,ir),n6=ir.create,s6=Ic.propertyIsEnumerable,xf=bf.splice,o6=_o?_o.isConcatSpreadable:r,Yh=_o?_o.iterator:r,aa=_o?_o.toStringTag:r,Cf=function(){try{var a=fa(ir,"defineProperty");return a({},"",{}),a}catch{}}(),PL=lt.clearTimeout!==Le.clearTimeout&&lt.clearTimeout,RL=te&&te.now!==Le.Date.now&&te.now,TL=lt.setTimeout!==Le.setTimeout&&lt.setTimeout,Df=Tr.ceil,Of=Tr.floor,Fp=ir.getOwnPropertySymbols,$L=Mf?Mf.isBuffer:r,a6=lt.isFinite,BL=bf.join,UL=t6(ir.keys,ir),$r=Tr.max,oi=Tr.min,LL=te.now,FL=lt.parseInt,c6=Tr.random,kL=bf.reverse,kp=fa(lt,"DataView"),Jh=fa(lt,"Map"),jp=fa(lt,"Promise"),xc=fa(lt,"Set"),Zh=fa(lt,"WeakMap"),Xh=fa(ir,"create"),Nf=Zh&&new Zh,Cc={},jL=da(kp),qL=da(Jh),zL=da(jp),HL=da(xc),KL=da(Zh),Pf=_o?_o.prototype:r,tu=Pf?Pf.valueOf:r,h6=Pf?Pf.toString:r;function F(a){if(Er(a)&&!ve(a)&&!(a instanceof Be)){if(a instanceof yn)return a;if(Ye.call(a,"__wrapped__"))return u5(a)}return new yn(a)}var Dc=function(){function a(){}return function(l){if(!yr(l))return{};if(n6)return n6(l);a.prototype=l;var m=new a;return a.prototype=r,m}}();function Rf(){}function yn(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=r}F.templateSettings={escape:Ee,evaluate:Tt,interpolate:Pt,variable:"",imports:{_:F}},F.prototype=Rf.prototype,F.prototype.constructor=F,yn.prototype=Dc(Rf.prototype),yn.prototype.constructor=yn;function Be(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=c,this.__views__=[]}function WL(){var a=new Be(this.__wrapped__);return a.__actions__=Li(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=Li(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=Li(this.__views__),a}function VL(){if(this.__filtered__){var a=new Be(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function GL(){var a=this.__wrapped__.value(),l=this.__dir__,m=ve(a),C=l<0,R=m?a.length:0,H=ok(0,R,this.__views__),Y=H.start,tt=H.end,at=tt-Y,vt=C?tt:Y-1,yt=this.__iteratees__,Ct=yt.length,Jt=0,ie=oi(at,this.__takeCount__);if(!m||!C&&R==at&&ie==at)return R6(a,this.__actions__);var he=[];t:for(;at--&&Jt<ie;){vt+=l;for(var xe=-1,ue=a[vt];++xe<Ct;){var Ne=yt[xe],Fe=Ne.iteratee,tn=Ne.type,Si=Fe(ue);if(tn==f)ue=Si;else if(!Si){if(tn==u)continue t;break t}}he[Jt++]=ue}return he}Be.prototype=Dc(Rf.prototype),Be.prototype.constructor=Be;function ca(a){var l=-1,m=a==null?0:a.length;for(this.clear();++l<m;){var C=a[l];this.set(C[0],C[1])}}function QL(){this.__data__=Xh?Xh(null):{},this.size=0}function YL(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}function JL(a){var l=this.__data__;if(Xh){var m=l[a];return m===g?r:m}return Ye.call(l,a)?l[a]:r}function ZL(a){var l=this.__data__;return Xh?l[a]!==r:Ye.call(l,a)}function XL(a,l){var m=this.__data__;return this.size+=this.has(a)?0:1,m[a]=Xh&&l===r?g:l,this}ca.prototype.clear=QL,ca.prototype.delete=YL,ca.prototype.get=JL,ca.prototype.has=ZL,ca.prototype.set=XL;function ks(a){var l=-1,m=a==null?0:a.length;for(this.clear();++l<m;){var C=a[l];this.set(C[0],C[1])}}function tF(){this.__data__=[],this.size=0}function eF(a){var l=this.__data__,m=Tf(l,a);if(m<0)return!1;var C=l.length-1;return m==C?l.pop():xf.call(l,m,1),--this.size,!0}function rF(a){var l=this.__data__,m=Tf(l,a);return m<0?r:l[m][1]}function iF(a){return Tf(this.__data__,a)>-1}function nF(a,l){var m=this.__data__,C=Tf(m,a);return C<0?(++this.size,m.push([a,l])):m[C][1]=l,this}ks.prototype.clear=tF,ks.prototype.delete=eF,ks.prototype.get=rF,ks.prototype.has=iF,ks.prototype.set=nF;function js(a){var l=-1,m=a==null?0:a.length;for(this.clear();++l<m;){var C=a[l];this.set(C[0],C[1])}}function sF(){this.size=0,this.__data__={hash:new ca,map:new(Jh||ks),string:new ca}}function oF(a){var l=Wf(this,a).delete(a);return this.size-=l?1:0,l}function aF(a){return Wf(this,a).get(a)}function cF(a){return Wf(this,a).has(a)}function hF(a,l){var m=Wf(this,a),C=m.size;return m.set(a,l),this.size+=m.size==C?0:1,this}js.prototype.clear=sF,js.prototype.delete=oF,js.prototype.get=aF,js.prototype.has=cF,js.prototype.set=hF;function ha(a){var l=-1,m=a==null?0:a.length;for(this.__data__=new js;++l<m;)this.add(a[l])}function uF(a){return this.__data__.set(a,g),this}function lF(a){return this.__data__.has(a)}ha.prototype.add=ha.prototype.push=uF,ha.prototype.has=lF;function Ln(a){var l=this.__data__=new ks(a);this.size=l.size}function fF(){this.__data__=new ks,this.size=0}function dF(a){var l=this.__data__,m=l.delete(a);return this.size=l.size,m}function pF(a){return this.__data__.get(a)}function gF(a){return this.__data__.has(a)}function mF(a,l){var m=this.__data__;if(m instanceof ks){var C=m.__data__;if(!Jh||C.length<n-1)return C.push([a,l]),this.size=++m.size,this;m=this.__data__=new js(C)}return m.set(a,l),this.size=m.size,this}Ln.prototype.clear=fF,Ln.prototype.delete=dF,Ln.prototype.get=pF,Ln.prototype.has=gF,Ln.prototype.set=mF;function u6(a,l){var m=ve(a),C=!m&&pa(a),R=!m&&!C&&xo(a),H=!m&&!C&&!R&&Rc(a),Y=m||C||R||H,tt=Y?$p(a.length,IL):[],at=tt.length;for(var vt in a)(l||Ye.call(a,vt))&&!(Y&&(vt=="length"||R&&(vt=="offset"||vt=="parent")||H&&(vt=="buffer"||vt=="byteLength"||vt=="byteOffset")||Ks(vt,at)))&&tt.push(vt);return tt}function l6(a){var l=a.length;return l?a[Zp(0,l-1)]:r}function vF(a,l){return Vf(Li(a),ua(l,0,a.length))}function wF(a){return Vf(Li(a))}function qp(a,l,m){(m!==r&&!Fn(a[l],m)||m===r&&!(l in a))&&qs(a,l,m)}function eu(a,l,m){var C=a[l];(!(Ye.call(a,l)&&Fn(C,m))||m===r&&!(l in a))&&qs(a,l,m)}function Tf(a,l){for(var m=a.length;m--;)if(Fn(a[m][0],l))return m;return-1}function yF(a,l,m,C){return Eo(a,function(R,H,Y){l(C,R,m(R),Y)}),C}function f6(a,l){return a&&bs(l,Hr(l),a)}function bF(a,l){return a&&bs(l,ki(l),a)}function qs(a,l,m){l=="__proto__"&&Cf?Cf(a,l,{configurable:!0,enumerable:!0,value:m,writable:!0}):a[l]=m}function zp(a,l){for(var m=-1,C=l.length,R=ht(C),H=a==null;++m<C;)R[m]=H?r:Eg(a,l[m]);return R}function ua(a,l,m){return a===a&&(m!==r&&(a=a<=m?a:m),l!==r&&(a=a>=l?a:l)),a}function bn(a,l,m,C,R,H){var Y,tt=l&S,at=l&D,vt=l&O;if(m&&(Y=R?m(a,C,R,H):m(a)),Y!==r)return Y;if(!yr(a))return a;var yt=ve(a);if(yt){if(Y=ck(a),!tt)return Li(a,Y)}else{var Ct=ai(a),Jt=Ct==it||Ct==ot;if(xo(a))return B6(a,tt);if(Ct==wt||Ct==w||Jt&&!R){if(Y=at||Jt?{}:e5(a),!tt)return at?JF(a,bF(Y,a)):YF(a,f6(Y,a))}else{if(!Ze[Ct])return R?a:{};Y=hk(a,Ct,tt)}}H||(H=new Ln);var ie=H.get(a);if(ie)return ie;H.set(a,Y),O5(a)?a.forEach(function(ue){Y.add(bn(ue,l,m,ue,a,H))}):C5(a)&&a.forEach(function(ue,Ne){Y.set(Ne,bn(ue,l,m,Ne,a,H))});var he=vt?at?hg:cg:at?ki:Hr,xe=yt?r:he(a);return vn(xe||a,function(ue,Ne){xe&&(Ne=ue,ue=a[Ne]),eu(Y,Ne,bn(ue,l,m,Ne,a,H))}),Y}function AF(a){var l=Hr(a);return function(m){return d6(m,a,l)}}function d6(a,l,m){var C=m.length;if(a==null)return!C;for(a=ir(a);C--;){var R=m[C],H=l[R],Y=a[R];if(Y===r&&!(R in a)||!H(Y))return!1}return!0}function p6(a,l,m){if(typeof a!="function")throw new wn(h);return cu(function(){a.apply(r,m)},l)}function ru(a,l,m,C){var R=-1,H=vf,Y=!0,tt=a.length,at=[],vt=l.length;if(!tt)return at;m&&(l=mr(l,Ji(m))),C?(H=Dp,Y=!1):l.length>=n&&(H=Qh,Y=!1,l=new ha(l));t:for(;++R<tt;){var yt=a[R],Ct=m==null?yt:m(yt);if(yt=C||yt!==0?yt:0,Y&&Ct===Ct){for(var Jt=vt;Jt--;)if(l[Jt]===Ct)continue t;at.push(yt)}else H(l,Ct,C)||at.push(yt)}return at}var Eo=j6(ys),g6=j6(Kp,!0);function _F(a,l){var m=!0;return Eo(a,function(C,R,H){return m=!!l(C,R,H),m}),m}function $f(a,l,m){for(var C=-1,R=a.length;++C<R;){var H=a[C],Y=l(H);if(Y!=null&&(tt===r?Y===Y&&!Xi(Y):m(Y,tt)))var tt=Y,at=H}return at}function EF(a,l,m,C){var R=a.length;for(m=Se(m),m<0&&(m=-m>R?0:R+m),C=C===r||C>R?R:Se(C),C<0&&(C+=R),C=m>C?0:P5(C);m<C;)a[m++]=l;return a}function m6(a,l){var m=[];return Eo(a,function(C,R,H){l(C,R,H)&&m.push(C)}),m}function Xr(a,l,m,C,R){var H=-1,Y=a.length;for(m||(m=lk),R||(R=[]);++H<Y;){var tt=a[H];l>0&&m(tt)?l>1?Xr(tt,l-1,m,C,R):bo(R,tt):C||(R[R.length]=tt)}return R}var Hp=q6(),v6=q6(!0);function ys(a,l){return a&&Hp(a,l,Hr)}function Kp(a,l){return a&&v6(a,l,Hr)}function Bf(a,l){return yo(l,function(m){return Ws(a[m])})}function la(a,l){l=So(l,a);for(var m=0,C=l.length;a!=null&&m<C;)a=a[As(l[m++])];return m&&m==C?a:r}function w6(a,l,m){var C=l(a);return ve(a)?C:bo(C,m(a))}function Ei(a){return a==null?a===r?ne:_t:aa&&aa in ir(a)?sk(a):wk(a)}function Wp(a,l){return a>l}function MF(a,l){return a!=null&&Ye.call(a,l)}function SF(a,l){return a!=null&&l in ir(a)}function IF(a,l,m){return a>=oi(l,m)&&a<$r(l,m)}function Vp(a,l,m){for(var C=m?Dp:vf,R=a[0].length,H=a.length,Y=H,tt=ht(H),at=1/0,vt=[];Y--;){var yt=a[Y];Y&&l&&(yt=mr(yt,Ji(l))),at=oi(yt.length,at),tt[Y]=!m&&(l||R>=120&&yt.length>=120)?new ha(Y&&yt):r}yt=a[0];var Ct=-1,Jt=tt[0];t:for(;++Ct<R&&vt.length<at;){var ie=yt[Ct],he=l?l(ie):ie;if(ie=m||ie!==0?ie:0,!(Jt?Qh(Jt,he):C(vt,he,m))){for(Y=H;--Y;){var xe=tt[Y];if(!(xe?Qh(xe,he):C(a[Y],he,m)))continue t}Jt&&Jt.push(he),vt.push(ie)}}return vt}function xF(a,l,m,C){return ys(a,function(R,H,Y){l(C,m(R),H,Y)}),C}function iu(a,l,m){l=So(l,a),a=s5(a,l);var C=a==null?a:a[As(_n(l))];return C==null?r:zr(C,a,m)}function y6(a){return Er(a)&&Ei(a)==w}function CF(a){return Er(a)&&Ei(a)==Zt}function DF(a){return Er(a)&&Ei(a)==K}function nu(a,l,m,C,R){return a===l?!0:a==null||l==null||!Er(a)&&!Er(l)?a!==a&&l!==l:OF(a,l,m,C,nu,R)}function OF(a,l,m,C,R,H){var Y=ve(a),tt=ve(l),at=Y?V:ai(a),vt=tt?V:ai(l);at=at==w?wt:at,vt=vt==w?wt:vt;var yt=at==wt,Ct=vt==wt,Jt=at==vt;if(Jt&&xo(a)){if(!xo(l))return!1;Y=!0,yt=!1}if(Jt&&!yt)return H||(H=new Ln),Y||Rc(a)?Z6(a,l,m,C,R,H):ik(a,l,at,m,C,R,H);if(!(m&N)){var ie=yt&&Ye.call(a,"__wrapped__"),he=Ct&&Ye.call(l,"__wrapped__");if(ie||he){var xe=ie?a.value():a,ue=he?l.value():l;return H||(H=new Ln),R(xe,ue,m,C,H)}}return Jt?(H||(H=new Ln),nk(a,l,m,C,R,H)):!1}function NF(a){return Er(a)&&ai(a)==rt}function Gp(a,l,m,C){var R=m.length,H=R,Y=!C;if(a==null)return!H;for(a=ir(a);R--;){var tt=m[R];if(Y&&tt[2]?tt[1]!==a[tt[0]]:!(tt[0]in a))return!1}for(;++R<H;){tt=m[R];var at=tt[0],vt=a[at],yt=tt[1];if(Y&&tt[2]){if(vt===r&&!(at in a))return!1}else{var Ct=new Ln;if(C)var Jt=C(vt,yt,at,a,l,Ct);if(!(Jt===r?nu(yt,vt,N|L,C,Ct):Jt))return!1}}return!0}function b6(a){if(!yr(a)||dk(a))return!1;var l=Ws(a)?NL:ur;return l.test(da(a))}function PF(a){return Er(a)&&Ei(a)==bt}function RF(a){return Er(a)&&ai(a)==ee}function TF(a){return Er(a)&&Xf(a.length)&&!!tr[Ei(a)]}function A6(a){return typeof a=="function"?a:a==null?ji:typeof a=="object"?ve(a)?M6(a[0],a[1]):E6(a):z5(a)}function Qp(a){if(!au(a))return UL(a);var l=[];for(var m in ir(a))Ye.call(a,m)&&m!="constructor"&&l.push(m);return l}function $F(a){if(!yr(a))return vk(a);var l=au(a),m=[];for(var C in a)C=="constructor"&&(l||!Ye.call(a,C))||m.push(C);return m}function Yp(a,l){return a<l}function _6(a,l){var m=-1,C=Fi(a)?ht(a.length):[];return Eo(a,function(R,H,Y){C[++m]=l(R,H,Y)}),C}function E6(a){var l=lg(a);return l.length==1&&l[0][2]?i5(l[0][0],l[0][1]):function(m){return m===a||Gp(m,a,l)}}function M6(a,l){return dg(a)&&r5(l)?i5(As(a),l):function(m){var C=Eg(m,a);return C===r&&C===l?Mg(m,a):nu(l,C,N|L)}}function Uf(a,l,m,C,R){a!==l&&Hp(l,function(H,Y){if(R||(R=new Ln),yr(H))BF(a,l,Y,m,Uf,C,R);else{var tt=C?C(gg(a,Y),H,Y+"",a,l,R):r;tt===r&&(tt=H),qp(a,Y,tt)}},ki)}function BF(a,l,m,C,R,H,Y){var tt=gg(a,m),at=gg(l,m),vt=Y.get(at);if(vt){qp(a,m,vt);return}var yt=H?H(tt,at,m+"",a,l,Y):r,Ct=yt===r;if(Ct){var Jt=ve(at),ie=!Jt&&xo(at),he=!Jt&&!ie&&Rc(at);yt=at,Jt||ie||he?ve(tt)?yt=tt:xr(tt)?yt=Li(tt):ie?(Ct=!1,yt=B6(at,!0)):he?(Ct=!1,yt=U6(at,!0)):yt=[]:hu(at)||pa(at)?(yt=tt,pa(tt)?yt=R5(tt):(!yr(tt)||Ws(tt))&&(yt=e5(at))):Ct=!1}Ct&&(Y.set(at,yt),R(yt,at,C,H,Y),Y.delete(at)),qp(a,m,yt)}function S6(a,l){var m=a.length;if(m)return l+=l<0?m:0,Ks(l,m)?a[l]:r}function I6(a,l,m){l.length?l=mr(l,function(H){return ve(H)?function(Y){return la(Y,H.length===1?H[0]:H)}:H}):l=[ji];var C=-1;l=mr(l,Ji(ce()));var R=_6(a,function(H,Y,tt){var at=mr(l,function(vt){return vt(H)});return{criteria:at,index:++C,value:H}});return hL(R,function(H,Y){return QF(H,Y,m)})}function UF(a,l){return x6(a,l,function(m,C){return Mg(a,C)})}function x6(a,l,m){for(var C=-1,R=l.length,H={};++C<R;){var Y=l[C],tt=la(a,Y);m(tt,Y)&&su(H,So(Y,a),tt)}return H}function LF(a){return function(l){return la(l,a)}}function Jp(a,l,m,C){var R=C?cL:_c,H=-1,Y=l.length,tt=a;for(a===l&&(l=Li(l)),m&&(tt=mr(a,Ji(m)));++H<Y;)for(var at=0,vt=l[H],yt=m?m(vt):vt;(at=R(tt,yt,at,C))>-1;)tt!==a&&xf.call(tt,at,1),xf.call(a,at,1);return a}function C6(a,l){for(var m=a?l.length:0,C=m-1;m--;){var R=l[m];if(m==C||R!==H){var H=R;Ks(R)?xf.call(a,R,1):eg(a,R)}}return a}function Zp(a,l){return a+Of(c6()*(l-a+1))}function FF(a,l,m,C){for(var R=-1,H=$r(Df((l-a)/(m||1)),0),Y=ht(H);H--;)Y[C?H:++R]=a,a+=m;return Y}function Xp(a,l){var m="";if(!a||l<1||l>E)return m;do l%2&&(m+=a),l=Of(l/2),l&&(a+=a);while(l);return m}function De(a,l){return mg(n5(a,l,ji),a+"")}function kF(a){return l6(Tc(a))}function jF(a,l){var m=Tc(a);return Vf(m,ua(l,0,m.length))}function su(a,l,m,C){if(!yr(a))return a;l=So(l,a);for(var R=-1,H=l.length,Y=H-1,tt=a;tt!=null&&++R<H;){var at=As(l[R]),vt=m;if(at==="__proto__"||at==="constructor"||at==="prototype")return a;if(R!=Y){var yt=tt[at];vt=C?C(yt,at,tt):r,vt===r&&(vt=yr(yt)?yt:Ks(l[R+1])?[]:{})}eu(tt,at,vt),tt=tt[at]}return a}var D6=Nf?function(a,l){return Nf.set(a,l),a}:ji,qF=Cf?function(a,l){return Cf(a,"toString",{configurable:!0,enumerable:!1,value:Ig(l),writable:!0})}:ji;function zF(a){return Vf(Tc(a))}function An(a,l,m){var C=-1,R=a.length;l<0&&(l=-l>R?0:R+l),m=m>R?R:m,m<0&&(m+=R),R=l>m?0:m-l>>>0,l>>>=0;for(var H=ht(R);++C<R;)H[C]=a[C+l];return H}function HF(a,l){var m;return Eo(a,function(C,R,H){return m=l(C,R,H),!m}),!!m}function Lf(a,l,m){var C=0,R=a==null?C:a.length;if(typeof l=="number"&&l===l&&R<=J){for(;C<R;){var H=C+R>>>1,Y=a[H];Y!==null&&!Xi(Y)&&(m?Y<=l:Y<l)?C=H+1:R=H}return R}return tg(a,l,ji,m)}function tg(a,l,m,C){var R=0,H=a==null?0:a.length;if(H===0)return 0;l=m(l);for(var Y=l!==l,tt=l===null,at=Xi(l),vt=l===r;R<H;){var yt=Of((R+H)/2),Ct=m(a[yt]),Jt=Ct!==r,ie=Ct===null,he=Ct===Ct,xe=Xi(Ct);if(Y)var ue=C||he;else vt?ue=he&&(C||Jt):tt?ue=he&&Jt&&(C||!ie):at?ue=he&&Jt&&!ie&&(C||!xe):ie||xe?ue=!1:ue=C?Ct<=l:Ct<l;ue?R=yt+1:H=yt}return oi(H,b)}function O6(a,l){for(var m=-1,C=a.length,R=0,H=[];++m<C;){var Y=a[m],tt=l?l(Y):Y;if(!m||!Fn(tt,at)){var at=tt;H[R++]=Y===0?0:Y}}return H}function N6(a){return typeof a=="number"?a:Xi(a)?y:+a}function Zi(a){if(typeof a=="string")return a;if(ve(a))return mr(a,Zi)+"";if(Xi(a))return h6?h6.call(a):"";var l=a+"";return l=="0"&&1/a==-A?"-0":l}function Mo(a,l,m){var C=-1,R=vf,H=a.length,Y=!0,tt=[],at=tt;if(m)Y=!1,R=Dp;else if(H>=n){var vt=l?null:ek(a);if(vt)return yf(vt);Y=!1,R=Qh,at=new ha}else at=l?[]:tt;t:for(;++C<H;){var yt=a[C],Ct=l?l(yt):yt;if(yt=m||yt!==0?yt:0,Y&&Ct===Ct){for(var Jt=at.length;Jt--;)if(at[Jt]===Ct)continue t;l&&at.push(Ct),tt.push(yt)}else R(at,Ct,m)||(at!==tt&&at.push(Ct),tt.push(yt))}return tt}function eg(a,l){return l=So(l,a),a=s5(a,l),a==null||delete a[As(_n(l))]}function P6(a,l,m,C){return su(a,l,m(la(a,l)),C)}function Ff(a,l,m,C){for(var R=a.length,H=C?R:-1;(C?H--:++H<R)&&l(a[H],H,a););return m?An(a,C?0:H,C?H+1:R):An(a,C?H+1:0,C?R:H)}function R6(a,l){var m=a;return m instanceof Be&&(m=m.value()),Op(l,function(C,R){return R.func.apply(R.thisArg,bo([C],R.args))},m)}function rg(a,l,m){var C=a.length;if(C<2)return C?Mo(a[0]):[];for(var R=-1,H=ht(C);++R<C;)for(var Y=a[R],tt=-1;++tt<C;)tt!=R&&(H[R]=ru(H[R]||Y,a[tt],l,m));return Mo(Xr(H,1),l,m)}function T6(a,l,m){for(var C=-1,R=a.length,H=l.length,Y={};++C<R;){var tt=C<H?l[C]:r;m(Y,a[C],tt)}return Y}function ig(a){return xr(a)?a:[]}function ng(a){return typeof a=="function"?a:ji}function So(a,l){return ve(a)?a:dg(a,l)?[a]:h5(Qe(a))}var KF=De;function Io(a,l,m){var C=a.length;return m=m===r?C:m,!l&&m>=C?a:An(a,l,m)}var $6=PL||function(a){return Le.clearTimeout(a)};function B6(a,l){if(l)return a.slice();var m=a.length,C=i6?i6(m):new a.constructor(m);return a.copy(C),C}function sg(a){var l=new a.constructor(a.byteLength);return new Sf(l).set(new Sf(a)),l}function WF(a,l){var m=l?sg(a.buffer):a.buffer;return new a.constructor(m,a.byteOffset,a.byteLength)}function VF(a){var l=new a.constructor(a.source,zt.exec(a));return l.lastIndex=a.lastIndex,l}function GF(a){return tu?ir(tu.call(a)):{}}function U6(a,l){var m=l?sg(a.buffer):a.buffer;return new a.constructor(m,a.byteOffset,a.length)}function L6(a,l){if(a!==l){var m=a!==r,C=a===null,R=a===a,H=Xi(a),Y=l!==r,tt=l===null,at=l===l,vt=Xi(l);if(!tt&&!vt&&!H&&a>l||H&&Y&&at&&!tt&&!vt||C&&Y&&at||!m&&at||!R)return 1;if(!C&&!H&&!vt&&a<l||vt&&m&&R&&!C&&!H||tt&&m&&R||!Y&&R||!at)return-1}return 0}function QF(a,l,m){for(var C=-1,R=a.criteria,H=l.criteria,Y=R.length,tt=m.length;++C<Y;){var at=L6(R[C],H[C]);if(at){if(C>=tt)return at;var vt=m[C];return at*(vt=="desc"?-1:1)}}return a.index-l.index}function F6(a,l,m,C){for(var R=-1,H=a.length,Y=m.length,tt=-1,at=l.length,vt=$r(H-Y,0),yt=ht(at+vt),Ct=!C;++tt<at;)yt[tt]=l[tt];for(;++R<Y;)(Ct||R<H)&&(yt[m[R]]=a[R]);for(;vt--;)yt[tt++]=a[R++];return yt}function k6(a,l,m,C){for(var R=-1,H=a.length,Y=-1,tt=m.length,at=-1,vt=l.length,yt=$r(H-tt,0),Ct=ht(yt+vt),Jt=!C;++R<yt;)Ct[R]=a[R];for(var ie=R;++at<vt;)Ct[ie+at]=l[at];for(;++Y<tt;)(Jt||R<H)&&(Ct[ie+m[Y]]=a[R++]);return Ct}function Li(a,l){var m=-1,C=a.length;for(l||(l=ht(C));++m<C;)l[m]=a[m];return l}function bs(a,l,m,C){var R=!m;m||(m={});for(var H=-1,Y=l.length;++H<Y;){var tt=l[H],at=C?C(m[tt],a[tt],tt,m,a):r;at===r&&(at=a[tt]),R?qs(m,tt,at):eu(m,tt,at)}return m}function YF(a,l){return bs(a,fg(a),l)}function JF(a,l){return bs(a,X6(a),l)}function kf(a,l){return function(m,C){var R=ve(m)?rL:yF,H=l?l():{};return R(m,a,ce(C,2),H)}}function Oc(a){return De(function(l,m){var C=-1,R=m.length,H=R>1?m[R-1]:r,Y=R>2?m[2]:r;for(H=a.length>3&&typeof H=="function"?(R--,H):r,Y&&Mi(m[0],m[1],Y)&&(H=R<3?r:H,R=1),l=ir(l);++C<R;){var tt=m[C];tt&&a(l,tt,C,H)}return l})}function j6(a,l){return function(m,C){if(m==null)return m;if(!Fi(m))return a(m,C);for(var R=m.length,H=l?R:-1,Y=ir(m);(l?H--:++H<R)&&C(Y[H],H,Y)!==!1;);return m}}function q6(a){return function(l,m,C){for(var R=-1,H=ir(l),Y=C(l),tt=Y.length;tt--;){var at=Y[a?tt:++R];if(m(H[at],at,H)===!1)break}return l}}function ZF(a,l,m){var C=l&z,R=ou(a);function H(){var Y=this&&this!==Le&&this instanceof H?R:a;return Y.apply(C?m:this,arguments)}return H}function z6(a){return function(l){l=Qe(l);var m=Ec(l)?Un(l):r,C=m?m[0]:l.charAt(0),R=m?Io(m,1).join(""):l.slice(1);return C[a]()+R}}function Nc(a){return function(l){return Op(j5(k5(l).replace(Vh,"")),a,"")}}function ou(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var m=Dc(a.prototype),C=a.apply(m,l);return yr(C)?C:m}}function XF(a,l,m){var C=ou(a);function R(){for(var H=arguments.length,Y=ht(H),tt=H,at=Pc(R);tt--;)Y[tt]=arguments[tt];var vt=H<3&&Y[0]!==at&&Y[H-1]!==at?[]:Ao(Y,at);if(H-=vt.length,H<m)return G6(a,l,jf,R.placeholder,r,Y,vt,r,r,m-H);var yt=this&&this!==Le&&this instanceof R?C:a;return zr(yt,this,Y)}return R}function H6(a){return function(l,m,C){var R=ir(l);if(!Fi(l)){var H=ce(m,3);l=Hr(l),m=function(tt){return H(R[tt],tt,R)}}var Y=a(l,m,C);return Y>-1?R[H?l[Y]:Y]:r}}function K6(a){return Hs(function(l){var m=l.length,C=m,R=yn.prototype.thru;for(a&&l.reverse();C--;){var H=l[C];if(typeof H!="function")throw new wn(h);if(R&&!Y&&Kf(H)=="wrapper")var Y=new yn([],!0)}for(C=Y?C:m;++C<m;){H=l[C];var tt=Kf(H),at=tt=="wrapper"?ug(H):r;at&&pg(at[0])&&at[1]==(I|W|k|U)&&!at[4].length&&at[9]==1?Y=Y[Kf(at[0])].apply(Y,at[3]):Y=H.length==1&&pg(H)?Y[tt]():Y.thru(H)}return function(){var vt=arguments,yt=vt[0];if(Y&&vt.length==1&&ve(yt))return Y.plant(yt).value();for(var Ct=0,Jt=m?l[Ct].apply(this,vt):yt;++Ct<m;)Jt=l[Ct].call(this,Jt);return Jt}})}function jf(a,l,m,C,R,H,Y,tt,at,vt){var yt=l&I,Ct=l&z,Jt=l&G,ie=l&(W|B),he=l&et,xe=Jt?r:ou(a);function ue(){for(var Ne=arguments.length,Fe=ht(Ne),tn=Ne;tn--;)Fe[tn]=arguments[tn];if(ie)var Si=Pc(ue),en=lL(Fe,Si);if(C&&(Fe=F6(Fe,C,R,ie)),H&&(Fe=k6(Fe,H,Y,ie)),Ne-=en,ie&&Ne<vt){var Cr=Ao(Fe,Si);return G6(a,l,jf,ue.placeholder,m,Fe,Cr,tt,at,vt-Ne)}var kn=Ct?m:this,Gs=Jt?kn[a]:a;return Ne=Fe.length,tt?Fe=yk(Fe,tt):he&&Ne>1&&Fe.reverse(),yt&&at<Ne&&(Fe.length=at),this&&this!==Le&&this instanceof ue&&(Gs=xe||ou(Gs)),Gs.apply(kn,Fe)}return ue}function W6(a,l){return function(m,C){return xF(m,a,l(C),{})}}function qf(a,l){return function(m,C){var R;if(m===r&&C===r)return l;if(m!==r&&(R=m),C!==r){if(R===r)return C;typeof m=="string"||typeof C=="string"?(m=Zi(m),C=Zi(C)):(m=N6(m),C=N6(C)),R=a(m,C)}return R}}function og(a){return Hs(function(l){return l=mr(l,Ji(ce())),De(function(m){var C=this;return a(l,function(R){return zr(R,C,m)})})})}function zf(a,l){l=l===r?" ":Zi(l);var m=l.length;if(m<2)return m?Xp(l,a):l;var C=Xp(l,Df(a/Mc(l)));return Ec(l)?Io(Un(C),0,a).join(""):C.slice(0,a)}function tk(a,l,m,C){var R=l&z,H=ou(a);function Y(){for(var tt=-1,at=arguments.length,vt=-1,yt=C.length,Ct=ht(yt+at),Jt=this&&this!==Le&&this instanceof Y?H:a;++vt<yt;)Ct[vt]=C[vt];for(;at--;)Ct[vt++]=arguments[++tt];return zr(Jt,R?m:this,Ct)}return Y}function V6(a){return function(l,m,C){return C&&typeof C!="number"&&Mi(l,m,C)&&(m=C=r),l=Vs(l),m===r?(m=l,l=0):m=Vs(m),C=C===r?l<m?1:-1:Vs(C),FF(l,m,C,a)}}function Hf(a){return function(l,m){return typeof l=="string"&&typeof m=="string"||(l=En(l),m=En(m)),a(l,m)}}function G6(a,l,m,C,R,H,Y,tt,at,vt){var yt=l&W,Ct=yt?Y:r,Jt=yt?r:Y,ie=yt?H:r,he=yt?r:H;l|=yt?k:j,l&=~(yt?j:k),l&q||(l&=~(z|G));var xe=[a,l,R,ie,Ct,he,Jt,tt,at,vt],ue=m.apply(r,xe);return pg(a)&&o5(ue,xe),ue.placeholder=C,a5(ue,a,l)}function ag(a){var l=Tr[a];return function(m,C){if(m=En(m),C=C==null?0:oi(Se(C),292),C&&a6(m)){var R=(Qe(m)+"e").split("e"),H=l(R[0]+"e"+(+R[1]+C));return R=(Qe(H)+"e").split("e"),+(R[0]+"e"+(+R[1]-C))}return l(m)}}var ek=xc&&1/yf(new xc([,-0]))[1]==A?function(a){return new xc(a)}:Dg;function Q6(a){return function(l){var m=ai(l);return m==rt?Up(l):m==ee?wL(l):uL(l,a(l))}}function zs(a,l,m,C,R,H,Y,tt){var at=l&G;if(!at&&typeof a!="function")throw new wn(h);var vt=C?C.length:0;if(vt||(l&=~(k|j),C=R=r),Y=Y===r?Y:$r(Se(Y),0),tt=tt===r?tt:Se(tt),vt-=R?R.length:0,l&j){var yt=C,Ct=R;C=R=r}var Jt=at?r:ug(a),ie=[a,l,m,C,R,yt,Ct,H,Y,tt];if(Jt&&mk(ie,Jt),a=ie[0],l=ie[1],m=ie[2],C=ie[3],R=ie[4],tt=ie[9]=ie[9]===r?at?0:a.length:$r(ie[9]-vt,0),!tt&&l&(W|B)&&(l&=~(W|B)),!l||l==z)var he=ZF(a,l,m);else l==W||l==B?he=XF(a,l,tt):(l==k||l==(z|k))&&!R.length?he=tk(a,l,m,C):he=jf.apply(r,ie);var xe=Jt?D6:o5;return a5(xe(he,ie),a,l)}function Y6(a,l,m,C){return a===r||Fn(a,Ic[m])&&!Ye.call(C,m)?l:a}function J6(a,l,m,C,R,H){return yr(a)&&yr(l)&&(H.set(l,a),Uf(a,l,r,J6,H),H.delete(l)),a}function rk(a){return hu(a)?r:a}function Z6(a,l,m,C,R,H){var Y=m&N,tt=a.length,at=l.length;if(tt!=at&&!(Y&&at>tt))return!1;var vt=H.get(a),yt=H.get(l);if(vt&&yt)return vt==l&&yt==a;var Ct=-1,Jt=!0,ie=m&L?new ha:r;for(H.set(a,l),H.set(l,a);++Ct<tt;){var he=a[Ct],xe=l[Ct];if(C)var ue=Y?C(xe,he,Ct,l,a,H):C(he,xe,Ct,a,l,H);if(ue!==r){if(ue)continue;Jt=!1;break}if(ie){if(!Np(l,function(Ne,Fe){if(!Qh(ie,Fe)&&(he===Ne||R(he,Ne,m,C,H)))return ie.push(Fe)})){Jt=!1;break}}else if(!(he===xe||R(he,xe,m,C,H))){Jt=!1;break}}return H.delete(a),H.delete(l),Jt}function ik(a,l,m,C,R,H,Y){switch(m){case dt:if(a.byteLength!=l.byteLength||a.byteOffset!=l.byteOffset)return!1;a=a.buffer,l=l.buffer;case Zt:return!(a.byteLength!=l.byteLength||!H(new Sf(a),new Sf(l)));case T:case K:case Ut:return Fn(+a,+l);case $:return a.name==l.name&&a.message==l.message;case bt:case pt:return a==l+"";case rt:var tt=Up;case ee:var at=C&N;if(tt||(tt=yf),a.size!=l.size&&!at)return!1;var vt=Y.get(a);if(vt)return vt==l;C|=L,Y.set(a,l);var yt=Z6(tt(a),tt(l),C,R,H,Y);return Y.delete(a),yt;case gt:if(tu)return tu.call(a)==tu.call(l)}return!1}function nk(a,l,m,C,R,H){var Y=m&N,tt=cg(a),at=tt.length,vt=cg(l),yt=vt.length;if(at!=yt&&!Y)return!1;for(var Ct=at;Ct--;){var Jt=tt[Ct];if(!(Y?Jt in l:Ye.call(l,Jt)))return!1}var ie=H.get(a),he=H.get(l);if(ie&&he)return ie==l&&he==a;var xe=!0;H.set(a,l),H.set(l,a);for(var ue=Y;++Ct<at;){Jt=tt[Ct];var Ne=a[Jt],Fe=l[Jt];if(C)var tn=Y?C(Fe,Ne,Jt,l,a,H):C(Ne,Fe,Jt,a,l,H);if(!(tn===r?Ne===Fe||R(Ne,Fe,m,C,H):tn)){xe=!1;break}ue||(ue=Jt=="constructor")}if(xe&&!ue){var Si=a.constructor,en=l.constructor;Si!=en&&"constructor"in a&&"constructor"in l&&!(typeof Si=="function"&&Si instanceof Si&&typeof en=="function"&&en instanceof en)&&(xe=!1)}return H.delete(a),H.delete(l),xe}function Hs(a){return mg(n5(a,r,d5),a+"")}function cg(a){return w6(a,Hr,fg)}function hg(a){return w6(a,ki,X6)}var ug=Nf?function(a){return Nf.get(a)}:Dg;function Kf(a){for(var l=a.name+"",m=Cc[l],C=Ye.call(Cc,l)?m.length:0;C--;){var R=m[C],H=R.func;if(H==null||H==a)return R.name}return l}function Pc(a){var l=Ye.call(F,"placeholder")?F:a;return l.placeholder}function ce(){var a=F.iteratee||xg;return a=a===xg?A6:a,arguments.length?a(arguments[0],arguments[1]):a}function Wf(a,l){var m=a.__data__;return fk(l)?m[typeof l=="string"?"string":"hash"]:m.map}function lg(a){for(var l=Hr(a),m=l.length;m--;){var C=l[m],R=a[C];l[m]=[C,R,r5(R)]}return l}function fa(a,l){var m=gL(a,l);return b6(m)?m:r}function sk(a){var l=Ye.call(a,aa),m=a[aa];try{a[aa]=r;var C=!0}catch{}var R=Ef.call(a);return C&&(l?a[aa]=m:delete a[aa]),R}var fg=Fp?function(a){return a==null?[]:(a=ir(a),yo(Fp(a),function(l){return s6.call(a,l)}))}:Og,X6=Fp?function(a){for(var l=[];a;)bo(l,fg(a)),a=If(a);return l}:Og,ai=Ei;(kp&&ai(new kp(new ArrayBuffer(1)))!=dt||Jh&&ai(new Jh)!=rt||jp&&ai(jp.resolve())!=pe||xc&&ai(new xc)!=ee||Zh&&ai(new Zh)!=ft)&&(ai=function(a){var l=Ei(a),m=l==wt?a.constructor:r,C=m?da(m):"";if(C)switch(C){case jL:return dt;case qL:return rt;case zL:return pe;case HL:return ee;case KL:return ft}return l});function ok(a,l,m){for(var C=-1,R=m.length;++C<R;){var H=m[C],Y=H.size;switch(H.type){case"drop":a+=Y;break;case"dropRight":l-=Y;break;case"take":l=oi(l,a+Y);break;case"takeRight":a=$r(a,l-Y);break}}return{start:a,end:l}}function ak(a){var l=a.match(Dt);return l?l[1].split(Ce):[]}function t5(a,l,m){l=So(l,a);for(var C=-1,R=l.length,H=!1;++C<R;){var Y=As(l[C]);if(!(H=a!=null&&m(a,Y)))break;a=a[Y]}return H||++C!=R?H:(R=a==null?0:a.length,!!R&&Xf(R)&&Ks(Y,R)&&(ve(a)||pa(a)))}function ck(a){var l=a.length,m=new a.constructor(l);return l&&typeof a[0]=="string"&&Ye.call(a,"index")&&(m.index=a.index,m.input=a.input),m}function e5(a){return typeof a.constructor=="function"&&!au(a)?Dc(If(a)):{}}function hk(a,l,m){var C=a.constructor;switch(l){case Zt:return sg(a);case T:case K:return new C(+a);case dt:return WF(a,m);case At:case re:case Et:case Mt:case oe:case xt:case St:case qe:case qt:return U6(a,m);case rt:return new C;case Ut:case pt:return new C(a);case bt:return VF(a);case ee:return new C;case gt:return GF(a)}}function uk(a,l){var m=l.length;if(!m)return a;var C=m-1;return l[C]=(m>1?"& ":"")+l[C],l=l.join(m>2?", ":" "),a.replace(Bt,`{
/* [wrapped with `+l+`] */
`)}function lk(a){return ve(a)||pa(a)||!!(o6&&a&&a[o6])}function Ks(a,l){var m=typeof a;return l=l??E,!!l&&(m=="number"||m!="symbol"&&fr.test(a))&&a>-1&&a%1==0&&a<l}function Mi(a,l,m){if(!yr(m))return!1;var C=typeof l;return(C=="number"?Fi(m)&&Ks(l,m.length):C=="string"&&l in m)?Fn(m[l],a):!1}function dg(a,l){if(ve(a))return!1;var m=typeof a;return m=="number"||m=="symbol"||m=="boolean"||a==null||Xi(a)?!0:Lt.test(a)||!ge.test(a)||l!=null&&a in ir(l)}function fk(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}function pg(a){var l=Kf(a),m=F[l];if(typeof m!="function"||!(l in Be.prototype))return!1;if(a===m)return!0;var C=ug(m);return!!C&&a===C[0]}function dk(a){return!!r6&&r6 in a}var pk=Af?Ws:Ng;function au(a){var l=a&&a.constructor,m=typeof l=="function"&&l.prototype||Ic;return a===m}function r5(a){return a===a&&!yr(a)}function i5(a,l){return function(m){return m==null?!1:m[a]===l&&(l!==r||a in ir(m))}}function gk(a){var l=Jf(a,function(C){return m.size===p&&m.clear(),C}),m=l.cache;return l}function mk(a,l){var m=a[1],C=l[1],R=m|C,H=R<(z|G|I),Y=C==I&&m==W||C==I&&m==U&&a[7].length<=l[8]||C==(I|U)&&l[7].length<=l[8]&&m==W;if(!(H||Y))return a;C&z&&(a[2]=l[2],R|=m&z?0:q);var tt=l[3];if(tt){var at=a[3];a[3]=at?F6(at,tt,l[4]):tt,a[4]=at?Ao(a[3],_):l[4]}return tt=l[5],tt&&(at=a[5],a[5]=at?k6(at,tt,l[6]):tt,a[6]=at?Ao(a[5],_):l[6]),tt=l[7],tt&&(a[7]=tt),C&I&&(a[8]=a[8]==null?l[8]:oi(a[8],l[8])),a[9]==null&&(a[9]=l[9]),a[0]=l[0],a[1]=R,a}function vk(a){var l=[];if(a!=null)for(var m in ir(a))l.push(m);return l}function wk(a){return Ef.call(a)}function n5(a,l,m){return l=$r(l===r?a.length-1:l,0),function(){for(var C=arguments,R=-1,H=$r(C.length-l,0),Y=ht(H);++R<H;)Y[R]=C[l+R];R=-1;for(var tt=ht(l+1);++R<l;)tt[R]=C[R];return tt[l]=m(Y),zr(a,this,tt)}}function s5(a,l){return l.length<2?a:la(a,An(l,0,-1))}function yk(a,l){for(var m=a.length,C=oi(l.length,m),R=Li(a);C--;){var H=l[C];a[C]=Ks(H,m)?R[H]:r}return a}function gg(a,l){if(!(l==="constructor"&&typeof a[l]=="function")&&l!="__proto__")return a[l]}var o5=c5(D6),cu=TL||function(a,l){return Le.setTimeout(a,l)},mg=c5(qF);function a5(a,l,m){var C=l+"";return mg(a,uk(C,bk(ak(C),m)))}function c5(a){var l=0,m=0;return function(){var C=LL(),R=o-(C-m);if(m=C,R>0){if(++l>=ut)return arguments[0]}else l=0;return a.apply(r,arguments)}}function Vf(a,l){var m=-1,C=a.length,R=C-1;for(l=l===r?C:l;++m<l;){var H=Zp(m,R),Y=a[H];a[H]=a[m],a[m]=Y}return a.length=l,a}var h5=gk(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(Ft,function(m,C,R,H){l.push(R?H.replace(_r,"$1"):C||m)}),l});function As(a){if(typeof a=="string"||Xi(a))return a;var l=a+"";return l=="0"&&1/a==-A?"-0":l}function da(a){if(a!=null){try{return _f.call(a)}catch{}try{return a+""}catch{}}return""}function bk(a,l){return vn(X,function(m){var C="_."+m[0];l&m[1]&&!vf(a,C)&&a.push(C)}),a.sort()}function u5(a){if(a instanceof Be)return a.clone();var l=new yn(a.__wrapped__,a.__chain__);return l.__actions__=Li(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}function Ak(a,l,m){(m?Mi(a,l,m):l===r)?l=1:l=$r(Se(l),0);var C=a==null?0:a.length;if(!C||l<1)return[];for(var R=0,H=0,Y=ht(Df(C/l));R<C;)Y[H++]=An(a,R,R+=l);return Y}function _k(a){for(var l=-1,m=a==null?0:a.length,C=0,R=[];++l<m;){var H=a[l];H&&(R[C++]=H)}return R}function Ek(){var a=arguments.length;if(!a)return[];for(var l=ht(a-1),m=arguments[0],C=a;C--;)l[C-1]=arguments[C];return bo(ve(m)?Li(m):[m],Xr(l,1))}var Mk=De(function(a,l){return xr(a)?ru(a,Xr(l,1,xr,!0)):[]}),Sk=De(function(a,l){var m=_n(l);return xr(m)&&(m=r),xr(a)?ru(a,Xr(l,1,xr,!0),ce(m,2)):[]}),Ik=De(function(a,l){var m=_n(l);return xr(m)&&(m=r),xr(a)?ru(a,Xr(l,1,xr,!0),r,m):[]});function xk(a,l,m){var C=a==null?0:a.length;return C?(l=m||l===r?1:Se(l),An(a,l<0?0:l,C)):[]}function Ck(a,l,m){var C=a==null?0:a.length;return C?(l=m||l===r?1:Se(l),l=C-l,An(a,0,l<0?0:l)):[]}function Dk(a,l){return a&&a.length?Ff(a,ce(l,3),!0,!0):[]}function Ok(a,l){return a&&a.length?Ff(a,ce(l,3),!0):[]}function Nk(a,l,m,C){var R=a==null?0:a.length;return R?(m&&typeof m!="number"&&Mi(a,l,m)&&(m=0,C=R),EF(a,l,m,C)):[]}function l5(a,l,m){var C=a==null?0:a.length;if(!C)return-1;var R=m==null?0:Se(m);return R<0&&(R=$r(C+R,0)),wf(a,ce(l,3),R)}function f5(a,l,m){var C=a==null?0:a.length;if(!C)return-1;var R=C-1;return m!==r&&(R=Se(m),R=m<0?$r(C+R,0):oi(R,C-1)),wf(a,ce(l,3),R,!0)}function d5(a){var l=a==null?0:a.length;return l?Xr(a,1):[]}function Pk(a){var l=a==null?0:a.length;return l?Xr(a,A):[]}function Rk(a,l){var m=a==null?0:a.length;return m?(l=l===r?1:Se(l),Xr(a,l)):[]}function Tk(a){for(var l=-1,m=a==null?0:a.length,C={};++l<m;){var R=a[l];C[R[0]]=R[1]}return C}function p5(a){return a&&a.length?a[0]:r}function $k(a,l,m){var C=a==null?0:a.length;if(!C)return-1;var R=m==null?0:Se(m);return R<0&&(R=$r(C+R,0)),_c(a,l,R)}function Bk(a){var l=a==null?0:a.length;return l?An(a,0,-1):[]}var Uk=De(function(a){var l=mr(a,ig);return l.length&&l[0]===a[0]?Vp(l):[]}),Lk=De(function(a){var l=_n(a),m=mr(a,ig);return l===_n(m)?l=r:m.pop(),m.length&&m[0]===a[0]?Vp(m,ce(l,2)):[]}),Fk=De(function(a){var l=_n(a),m=mr(a,ig);return l=typeof l=="function"?l:r,l&&m.pop(),m.length&&m[0]===a[0]?Vp(m,r,l):[]});function kk(a,l){return a==null?"":BL.call(a,l)}function _n(a){var l=a==null?0:a.length;return l?a[l-1]:r}function jk(a,l,m){var C=a==null?0:a.length;if(!C)return-1;var R=C;return m!==r&&(R=Se(m),R=R<0?$r(C+R,0):oi(R,C-1)),l===l?bL(a,l,R):wf(a,Gb,R,!0)}function qk(a,l){return a&&a.length?S6(a,Se(l)):r}var zk=De(g5);function g5(a,l){return a&&a.length&&l&&l.length?Jp(a,l):a}function Hk(a,l,m){return a&&a.length&&l&&l.length?Jp(a,l,ce(m,2)):a}function Kk(a,l,m){return a&&a.length&&l&&l.length?Jp(a,l,r,m):a}var Wk=Hs(function(a,l){var m=a==null?0:a.length,C=zp(a,l);return C6(a,mr(l,function(R){return Ks(R,m)?+R:R}).sort(L6)),C});function Vk(a,l){var m=[];if(!(a&&a.length))return m;var C=-1,R=[],H=a.length;for(l=ce(l,3);++C<H;){var Y=a[C];l(Y,C,a)&&(m.push(Y),R.push(C))}return C6(a,R),m}function vg(a){return a==null?a:kL.call(a)}function Gk(a,l,m){var C=a==null?0:a.length;return C?(m&&typeof m!="number"&&Mi(a,l,m)?(l=0,m=C):(l=l==null?0:Se(l),m=m===r?C:Se(m)),An(a,l,m)):[]}function Qk(a,l){return Lf(a,l)}function Yk(a,l,m){return tg(a,l,ce(m,2))}function Jk(a,l){var m=a==null?0:a.length;if(m){var C=Lf(a,l);if(C<m&&Fn(a[C],l))return C}return-1}function Zk(a,l){return Lf(a,l,!0)}function Xk(a,l,m){return tg(a,l,ce(m,2),!0)}function tj(a,l){var m=a==null?0:a.length;if(m){var C=Lf(a,l,!0)-1;if(Fn(a[C],l))return C}return-1}function ej(a){return a&&a.length?O6(a):[]}function rj(a,l){return a&&a.length?O6(a,ce(l,2)):[]}function ij(a){var l=a==null?0:a.length;return l?An(a,1,l):[]}function nj(a,l,m){return a&&a.length?(l=m||l===r?1:Se(l),An(a,0,l<0?0:l)):[]}function sj(a,l,m){var C=a==null?0:a.length;return C?(l=m||l===r?1:Se(l),l=C-l,An(a,l<0?0:l,C)):[]}function oj(a,l){return a&&a.length?Ff(a,ce(l,3),!1,!0):[]}function aj(a,l){return a&&a.length?Ff(a,ce(l,3)):[]}var cj=De(function(a){return Mo(Xr(a,1,xr,!0))}),hj=De(function(a){var l=_n(a);return xr(l)&&(l=r),Mo(Xr(a,1,xr,!0),ce(l,2))}),uj=De(function(a){var l=_n(a);return l=typeof l=="function"?l:r,Mo(Xr(a,1,xr,!0),r,l)});function lj(a){return a&&a.length?Mo(a):[]}function fj(a,l){return a&&a.length?Mo(a,ce(l,2)):[]}function dj(a,l){return l=typeof l=="function"?l:r,a&&a.length?Mo(a,r,l):[]}function wg(a){if(!(a&&a.length))return[];var l=0;return a=yo(a,function(m){if(xr(m))return l=$r(m.length,l),!0}),$p(l,function(m){return mr(a,Pp(m))})}function m5(a,l){if(!(a&&a.length))return[];var m=wg(a);return l==null?m:mr(m,function(C){return zr(l,r,C)})}var pj=De(function(a,l){return xr(a)?ru(a,l):[]}),gj=De(function(a){return rg(yo(a,xr))}),mj=De(function(a){var l=_n(a);return xr(l)&&(l=r),rg(yo(a,xr),ce(l,2))}),vj=De(function(a){var l=_n(a);return l=typeof l=="function"?l:r,rg(yo(a,xr),r,l)}),wj=De(wg);function yj(a,l){return T6(a||[],l||[],eu)}function bj(a,l){return T6(a||[],l||[],su)}var Aj=De(function(a){var l=a.length,m=l>1?a[l-1]:r;return m=typeof m=="function"?(a.pop(),m):r,m5(a,m)});function v5(a){var l=F(a);return l.__chain__=!0,l}function _j(a,l){return l(a),a}function Gf(a,l){return l(a)}var Ej=Hs(function(a){var l=a.length,m=l?a[0]:0,C=this.__wrapped__,R=function(H){return zp(H,a)};return l>1||this.__actions__.length||!(C instanceof Be)||!Ks(m)?this.thru(R):(C=C.slice(m,+m+(l?1:0)),C.__actions__.push({func:Gf,args:[R],thisArg:r}),new yn(C,this.__chain__).thru(function(H){return l&&!H.length&&H.push(r),H}))});function Mj(){return v5(this)}function Sj(){return new yn(this.value(),this.__chain__)}function Ij(){this.__values__===r&&(this.__values__=N5(this.value()));var a=this.__index__>=this.__values__.length,l=a?r:this.__values__[this.__index__++];return{done:a,value:l}}function xj(){return this}function Cj(a){for(var l,m=this;m instanceof Rf;){var C=u5(m);C.__index__=0,C.__values__=r,l?R.__wrapped__=C:l=C;var R=C;m=m.__wrapped__}return R.__wrapped__=a,l}function Dj(){var a=this.__wrapped__;if(a instanceof Be){var l=a;return this.__actions__.length&&(l=new Be(this)),l=l.reverse(),l.__actions__.push({func:Gf,args:[vg],thisArg:r}),new yn(l,this.__chain__)}return this.thru(vg)}function Oj(){return R6(this.__wrapped__,this.__actions__)}var Nj=kf(function(a,l,m){Ye.call(a,m)?++a[m]:qs(a,m,1)});function Pj(a,l,m){var C=ve(a)?Wb:_F;return m&&Mi(a,l,m)&&(l=r),C(a,ce(l,3))}function Rj(a,l){var m=ve(a)?yo:m6;return m(a,ce(l,3))}var Tj=H6(l5),$j=H6(f5);function Bj(a,l){return Xr(Qf(a,l),1)}function Uj(a,l){return Xr(Qf(a,l),A)}function Lj(a,l,m){return m=m===r?1:Se(m),Xr(Qf(a,l),m)}function w5(a,l){var m=ve(a)?vn:Eo;return m(a,ce(l,3))}function y5(a,l){var m=ve(a)?iL:g6;return m(a,ce(l,3))}var Fj=kf(function(a,l,m){Ye.call(a,m)?a[m].push(l):qs(a,m,[l])});function kj(a,l,m,C){a=Fi(a)?a:Tc(a),m=m&&!C?Se(m):0;var R=a.length;return m<0&&(m=$r(R+m,0)),t0(a)?m<=R&&a.indexOf(l,m)>-1:!!R&&_c(a,l,m)>-1}var jj=De(function(a,l,m){var C=-1,R=typeof l=="function",H=Fi(a)?ht(a.length):[];return Eo(a,function(Y){H[++C]=R?zr(l,Y,m):iu(Y,l,m)}),H}),qj=kf(function(a,l,m){qs(a,m,l)});function Qf(a,l){var m=ve(a)?mr:_6;return m(a,ce(l,3))}function zj(a,l,m,C){return a==null?[]:(ve(l)||(l=l==null?[]:[l]),m=C?r:m,ve(m)||(m=m==null?[]:[m]),I6(a,l,m))}var Hj=kf(function(a,l,m){a[m?0:1].push(l)},function(){return[[],[]]});function Kj(a,l,m){var C=ve(a)?Op:Yb,R=arguments.length<3;return C(a,ce(l,4),m,R,Eo)}function Wj(a,l,m){var C=ve(a)?nL:Yb,R=arguments.length<3;return C(a,ce(l,4),m,R,g6)}function Vj(a,l){var m=ve(a)?yo:m6;return m(a,Zf(ce(l,3)))}function Gj(a){var l=ve(a)?l6:kF;return l(a)}function Qj(a,l,m){(m?Mi(a,l,m):l===r)?l=1:l=Se(l);var C=ve(a)?vF:jF;return C(a,l)}function Yj(a){var l=ve(a)?wF:zF;return l(a)}function Jj(a){if(a==null)return 0;if(Fi(a))return t0(a)?Mc(a):a.length;var l=ai(a);return l==rt||l==ee?a.size:Qp(a).length}function Zj(a,l,m){var C=ve(a)?Np:HF;return m&&Mi(a,l,m)&&(l=r),C(a,ce(l,3))}var Xj=De(function(a,l){if(a==null)return[];var m=l.length;return m>1&&Mi(a,l[0],l[1])?l=[]:m>2&&Mi(l[0],l[1],l[2])&&(l=[l[0]]),I6(a,Xr(l,1),[])}),Yf=RL||function(){return Le.Date.now()};function tq(a,l){if(typeof l!="function")throw new wn(h);return a=Se(a),function(){if(--a<1)return l.apply(this,arguments)}}function b5(a,l,m){return l=m?r:l,l=a&&l==null?a.length:l,zs(a,I,r,r,r,r,l)}function A5(a,l){var m;if(typeof l!="function")throw new wn(h);return a=Se(a),function(){return--a>0&&(m=l.apply(this,arguments)),a<=1&&(l=r),m}}var yg=De(function(a,l,m){var C=z;if(m.length){var R=Ao(m,Pc(yg));C|=k}return zs(a,C,l,m,R)}),_5=De(function(a,l,m){var C=z|G;if(m.length){var R=Ao(m,Pc(_5));C|=k}return zs(l,C,a,m,R)});function E5(a,l,m){l=m?r:l;var C=zs(a,W,r,r,r,r,r,l);return C.placeholder=E5.placeholder,C}function M5(a,l,m){l=m?r:l;var C=zs(a,B,r,r,r,r,r,l);return C.placeholder=M5.placeholder,C}function S5(a,l,m){var C,R,H,Y,tt,at,vt=0,yt=!1,Ct=!1,Jt=!0;if(typeof a!="function")throw new wn(h);l=En(l)||0,yr(m)&&(yt=!!m.leading,Ct="maxWait"in m,H=Ct?$r(En(m.maxWait)||0,l):H,Jt="trailing"in m?!!m.trailing:Jt);function ie(Cr){var kn=C,Gs=R;return C=R=r,vt=Cr,Y=a.apply(Gs,kn),Y}function he(Cr){return vt=Cr,tt=cu(Ne,l),yt?ie(Cr):Y}function xe(Cr){var kn=Cr-at,Gs=Cr-vt,H5=l-kn;return Ct?oi(H5,H-Gs):H5}function ue(Cr){var kn=Cr-at,Gs=Cr-vt;return at===r||kn>=l||kn<0||Ct&&Gs>=H}function Ne(){var Cr=Yf();if(ue(Cr))return Fe(Cr);tt=cu(Ne,xe(Cr))}function Fe(Cr){return tt=r,Jt&&C?ie(Cr):(C=R=r,Y)}function tn(){tt!==r&&$6(tt),vt=0,C=at=R=tt=r}function Si(){return tt===r?Y:Fe(Yf())}function en(){var Cr=Yf(),kn=ue(Cr);if(C=arguments,R=this,at=Cr,kn){if(tt===r)return he(at);if(Ct)return $6(tt),tt=cu(Ne,l),ie(at)}return tt===r&&(tt=cu(Ne,l)),Y}return en.cancel=tn,en.flush=Si,en}var eq=De(function(a,l){return p6(a,1,l)}),rq=De(function(a,l,m){return p6(a,En(l)||0,m)});function iq(a){return zs(a,et)}function Jf(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new wn(h);var m=function(){var C=arguments,R=l?l.apply(this,C):C[0],H=m.cache;if(H.has(R))return H.get(R);var Y=a.apply(this,C);return m.cache=H.set(R,Y)||H,Y};return m.cache=new(Jf.Cache||js),m}Jf.Cache=js;function Zf(a){if(typeof a!="function")throw new wn(h);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}function nq(a){return A5(2,a)}var sq=KF(function(a,l){l=l.length==1&&ve(l[0])?mr(l[0],Ji(ce())):mr(Xr(l,1),Ji(ce()));var m=l.length;return De(function(C){for(var R=-1,H=oi(C.length,m);++R<H;)C[R]=l[R].call(this,C[R]);return zr(a,this,C)})}),bg=De(function(a,l){var m=Ao(l,Pc(bg));return zs(a,k,r,l,m)}),I5=De(function(a,l){var m=Ao(l,Pc(I5));return zs(a,j,r,l,m)}),oq=Hs(function(a,l){return zs(a,U,r,r,r,l)});function aq(a,l){if(typeof a!="function")throw new wn(h);return l=l===r?l:Se(l),De(a,l)}function cq(a,l){if(typeof a!="function")throw new wn(h);return l=l==null?0:$r(Se(l),0),De(function(m){var C=m[l],R=Io(m,0,l);return C&&bo(R,C),zr(a,this,R)})}function hq(a,l,m){var C=!0,R=!0;if(typeof a!="function")throw new wn(h);return yr(m)&&(C="leading"in m?!!m.leading:C,R="trailing"in m?!!m.trailing:R),S5(a,l,{leading:C,maxWait:l,trailing:R})}function uq(a){return b5(a,1)}function lq(a,l){return bg(ng(l),a)}function fq(){if(!arguments.length)return[];var a=arguments[0];return ve(a)?a:[a]}function dq(a){return bn(a,O)}function pq(a,l){return l=typeof l=="function"?l:r,bn(a,O,l)}function gq(a){return bn(a,S|O)}function mq(a,l){return l=typeof l=="function"?l:r,bn(a,S|O,l)}function vq(a,l){return l==null||d6(a,l,Hr(l))}function Fn(a,l){return a===l||a!==a&&l!==l}var wq=Hf(Wp),yq=Hf(function(a,l){return a>=l}),pa=y6(function(){return arguments}())?y6:function(a){return Er(a)&&Ye.call(a,"callee")&&!s6.call(a,"callee")},ve=ht.isArray,bq=_i?Ji(_i):CF;function Fi(a){return a!=null&&Xf(a.length)&&!Ws(a)}function xr(a){return Er(a)&&Fi(a)}function Aq(a){return a===!0||a===!1||Er(a)&&Ei(a)==T}var xo=$L||Ng,_q=Bn?Ji(Bn):DF;function Eq(a){return Er(a)&&a.nodeType===1&&!hu(a)}function Mq(a){if(a==null)return!0;if(Fi(a)&&(ve(a)||typeof a=="string"||typeof a.splice=="function"||xo(a)||Rc(a)||pa(a)))return!a.length;var l=ai(a);if(l==rt||l==ee)return!a.size;if(au(a))return!Qp(a).length;for(var m in a)if(Ye.call(a,m))return!1;return!0}function Sq(a,l){return nu(a,l)}function Iq(a,l,m){m=typeof m=="function"?m:r;var C=m?m(a,l):r;return C===r?nu(a,l,r,m):!!C}function Ag(a){if(!Er(a))return!1;var l=Ei(a);return l==$||l==M||typeof a.message=="string"&&typeof a.name=="string"&&!hu(a)}function xq(a){return typeof a=="number"&&a6(a)}function Ws(a){if(!yr(a))return!1;var l=Ei(a);return l==it||l==ot||l==P||l==Ot}function x5(a){return typeof a=="number"&&a==Se(a)}function Xf(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=E}function yr(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function Er(a){return a!=null&&typeof a=="object"}var C5=mn?Ji(mn):NF;function Cq(a,l){return a===l||Gp(a,l,lg(l))}function Dq(a,l,m){return m=typeof m=="function"?m:r,Gp(a,l,lg(l),m)}function Oq(a){return D5(a)&&a!=+a}function Nq(a){if(pk(a))throw new fe(s);return b6(a)}function Pq(a){return a===null}function Rq(a){return a==null}function D5(a){return typeof a=="number"||Er(a)&&Ei(a)==Ut}function hu(a){if(!Er(a)||Ei(a)!=wt)return!1;var l=If(a);if(l===null)return!0;var m=Ye.call(l,"constructor")&&l.constructor;return typeof m=="function"&&m instanceof m&&_f.call(m)==DL}var _g=ws?Ji(ws):PF;function Tq(a){return x5(a)&&a>=-E&&a<=E}var O5=Gh?Ji(Gh):RF;function t0(a){return typeof a=="string"||!ve(a)&&Er(a)&&Ei(a)==pt}function Xi(a){return typeof a=="symbol"||Er(a)&&Ei(a)==gt}var Rc=oa?Ji(oa):TF;function $q(a){return a===r}function Bq(a){return Er(a)&&ai(a)==ft}function Uq(a){return Er(a)&&Ei(a)==mt}var Lq=Hf(Yp),Fq=Hf(function(a,l){return a<=l});function N5(a){if(!a)return[];if(Fi(a))return t0(a)?Un(a):Li(a);if(Yh&&a[Yh])return vL(a[Yh]());var l=ai(a),m=l==rt?Up:l==ee?yf:Tc;return m(a)}function Vs(a){if(!a)return a===0?a:0;if(a=En(a),a===A||a===-A){var l=a<0?-1:1;return l*x}return a===a?a:0}function Se(a){var l=Vs(a),m=l%1;return l===l?m?l-m:l:0}function P5(a){return a?ua(Se(a),0,c):0}function En(a){if(typeof a=="number")return a;if(Xi(a))return y;if(yr(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=yr(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=Jb(a);var m=hr.test(a);return m||lr.test(a)?me(a.slice(2),m?2:8):cr.test(a)?y:+a}function R5(a){return bs(a,ki(a))}function kq(a){return a?ua(Se(a),-E,E):a===0?a:0}function Qe(a){return a==null?"":Zi(a)}var jq=Oc(function(a,l){if(au(l)||Fi(l)){bs(l,Hr(l),a);return}for(var m in l)Ye.call(l,m)&&eu(a,m,l[m])}),T5=Oc(function(a,l){bs(l,ki(l),a)}),e0=Oc(function(a,l,m,C){bs(l,ki(l),a,C)}),qq=Oc(function(a,l,m,C){bs(l,Hr(l),a,C)}),zq=Hs(zp);function Hq(a,l){var m=Dc(a);return l==null?m:f6(m,l)}var Kq=De(function(a,l){a=ir(a);var m=-1,C=l.length,R=C>2?l[2]:r;for(R&&Mi(l[0],l[1],R)&&(C=1);++m<C;)for(var H=l[m],Y=ki(H),tt=-1,at=Y.length;++tt<at;){var vt=Y[tt],yt=a[vt];(yt===r||Fn(yt,Ic[vt])&&!Ye.call(a,vt))&&(a[vt]=H[vt])}return a}),Wq=De(function(a){return a.push(r,J6),zr($5,r,a)});function Vq(a,l){return Vb(a,ce(l,3),ys)}function Gq(a,l){return Vb(a,ce(l,3),Kp)}function Qq(a,l){return a==null?a:Hp(a,ce(l,3),ki)}function Yq(a,l){return a==null?a:v6(a,ce(l,3),ki)}function Jq(a,l){return a&&ys(a,ce(l,3))}function Zq(a,l){return a&&Kp(a,ce(l,3))}function Xq(a){return a==null?[]:Bf(a,Hr(a))}function tz(a){return a==null?[]:Bf(a,ki(a))}function Eg(a,l,m){var C=a==null?r:la(a,l);return C===r?m:C}function ez(a,l){return a!=null&&t5(a,l,MF)}function Mg(a,l){return a!=null&&t5(a,l,SF)}var rz=W6(function(a,l,m){l!=null&&typeof l.toString!="function"&&(l=Ef.call(l)),a[l]=m},Ig(ji)),iz=W6(function(a,l,m){l!=null&&typeof l.toString!="function"&&(l=Ef.call(l)),Ye.call(a,l)?a[l].push(m):a[l]=[m]},ce),nz=De(iu);function Hr(a){return Fi(a)?u6(a):Qp(a)}function ki(a){return Fi(a)?u6(a,!0):$F(a)}function sz(a,l){var m={};return l=ce(l,3),ys(a,function(C,R,H){qs(m,l(C,R,H),C)}),m}function oz(a,l){var m={};return l=ce(l,3),ys(a,function(C,R,H){qs(m,R,l(C,R,H))}),m}var az=Oc(function(a,l,m){Uf(a,l,m)}),$5=Oc(function(a,l,m,C){Uf(a,l,m,C)}),cz=Hs(function(a,l){var m={};if(a==null)return m;var C=!1;l=mr(l,function(H){return H=So(H,a),C||(C=H.length>1),H}),bs(a,hg(a),m),C&&(m=bn(m,S|D|O,rk));for(var R=l.length;R--;)eg(m,l[R]);return m});function hz(a,l){return B5(a,Zf(ce(l)))}var uz=Hs(function(a,l){return a==null?{}:UF(a,l)});function B5(a,l){if(a==null)return{};var m=mr(hg(a),function(C){return[C]});return l=ce(l),x6(a,m,function(C,R){return l(C,R[0])})}function lz(a,l,m){l=So(l,a);var C=-1,R=l.length;for(R||(R=1,a=r);++C<R;){var H=a==null?r:a[As(l[C])];H===r&&(C=R,H=m),a=Ws(H)?H.call(a):H}return a}function fz(a,l,m){return a==null?a:su(a,l,m)}function dz(a,l,m,C){return C=typeof C=="function"?C:r,a==null?a:su(a,l,m,C)}var U5=Q6(Hr),L5=Q6(ki);function pz(a,l,m){var C=ve(a),R=C||xo(a)||Rc(a);if(l=ce(l,4),m==null){var H=a&&a.constructor;R?m=C?new H:[]:yr(a)?m=Ws(H)?Dc(If(a)):{}:m={}}return(R?vn:ys)(a,function(Y,tt,at){return l(m,Y,tt,at)}),m}function gz(a,l){return a==null?!0:eg(a,l)}function mz(a,l,m){return a==null?a:P6(a,l,ng(m))}function vz(a,l,m,C){return C=typeof C=="function"?C:r,a==null?a:P6(a,l,ng(m),C)}function Tc(a){return a==null?[]:Bp(a,Hr(a))}function wz(a){return a==null?[]:Bp(a,ki(a))}function yz(a,l,m){return m===r&&(m=l,l=r),m!==r&&(m=En(m),m=m===m?m:0),l!==r&&(l=En(l),l=l===l?l:0),ua(En(a),l,m)}function bz(a,l,m){return l=Vs(l),m===r?(m=l,l=0):m=Vs(m),a=En(a),IF(a,l,m)}function Az(a,l,m){if(m&&typeof m!="boolean"&&Mi(a,l,m)&&(l=m=r),m===r&&(typeof l=="boolean"?(m=l,l=r):typeof a=="boolean"&&(m=a,a=r)),a===r&&l===r?(a=0,l=1):(a=Vs(a),l===r?(l=a,a=0):l=Vs(l)),a>l){var C=a;a=l,l=C}if(m||a%1||l%1){var R=c6();return oi(a+R*(l-a+er("1e-"+((R+"").length-1))),l)}return Zp(a,l)}var _z=Nc(function(a,l,m){return l=l.toLowerCase(),a+(m?F5(l):l)});function F5(a){return Sg(Qe(a).toLowerCase())}function k5(a){return a=Qe(a),a&&a.replace(Ke,fL).replace(xp,"")}function Ez(a,l,m){a=Qe(a),l=Zi(l);var C=a.length;m=m===r?C:ua(Se(m),0,C);var R=m;return m-=l.length,m>=0&&a.slice(m,R)==l}function Mz(a){return a=Qe(a),a&&Nt.test(a)?a.replace(ar,dL):a}function Sz(a){return a=Qe(a),a&&kt.test(a)?a.replace(Me,"\\$&"):a}var Iz=Nc(function(a,l,m){return a+(m?"-":"")+l.toLowerCase()}),xz=Nc(function(a,l,m){return a+(m?" ":"")+l.toLowerCase()}),Cz=z6("toLowerCase");function Dz(a,l,m){a=Qe(a),l=Se(l);var C=l?Mc(a):0;if(!l||C>=l)return a;var R=(l-C)/2;return zf(Of(R),m)+a+zf(Df(R),m)}function Oz(a,l,m){a=Qe(a),l=Se(l);var C=l?Mc(a):0;return l&&C<l?a+zf(l-C,m):a}function Nz(a,l,m){a=Qe(a),l=Se(l);var C=l?Mc(a):0;return l&&C<l?zf(l-C,m)+a:a}function Pz(a,l,m){return m||l==null?l=0:l&&(l=+l),FL(Qe(a).replace($t,""),l||0)}function Rz(a,l,m){return(m?Mi(a,l,m):l===r)?l=1:l=Se(l),Xp(Qe(a),l)}function Tz(){var a=arguments,l=Qe(a[0]);return a.length<3?l:l.replace(a[1],a[2])}var $z=Nc(function(a,l,m){return a+(m?"_":"")+l.toLowerCase()});function Bz(a,l,m){return m&&typeof m!="number"&&Mi(a,l,m)&&(l=m=r),m=m===r?c:m>>>0,m?(a=Qe(a),a&&(typeof l=="string"||l!=null&&!_g(l))&&(l=Zi(l),!l&&Ec(a))?Io(Un(a),0,m):a.split(l,m)):[]}var Uz=Nc(function(a,l,m){return a+(m?" ":"")+Sg(l)});function Lz(a,l,m){return a=Qe(a),m=m==null?0:ua(Se(m),0,a.length),l=Zi(l),a.slice(m,m+l.length)==l}function Fz(a,l,m){var C=F.templateSettings;m&&Mi(a,l,m)&&(l=r),a=Qe(a),l=e0({},l,C,Y6);var R=e0({},l.imports,C.imports,Y6),H=Hr(R),Y=Bp(R,H),tt,at,vt=0,yt=l.interpolate||kr,Ct="__p += '",Jt=Lp((l.escape||kr).source+"|"+yt.source+"|"+(yt===Pt?Yt:kr).source+"|"+(l.evaluate||kr).source+"|$","g"),ie="//# sourceURL="+(Ye.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Cp+"]")+`
`;a.replace(Jt,function(ue,Ne,Fe,tn,Si,en){return Fe||(Fe=tn),Ct+=a.slice(vt,en).replace(gi,pL),Ne&&(tt=!0,Ct+=`' +
__e(`+Ne+`) +
'`),Si&&(at=!0,Ct+=`';
`+Si+`;
__p += '`),Fe&&(Ct+=`' +
((__t = (`+Fe+`)) == null ? '' : __t) +
'`),vt=en+ue.length,ue}),Ct+=`';
`;var he=Ye.call(l,"variable")&&l.variable;if(!he)Ct=`with (obj) {
`+Ct+`
}
`;else if(Qt.test(he))throw new fe(d);Ct=(at?Ct.replace(Ht,""):Ct).replace(ze,"$1").replace(Kt,"$1;"),Ct="function("+(he||"obj")+`) {
`+(he?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(tt?", __e = _.escape":"")+(at?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Ct+`return __p
}`;var xe=q5(function(){return We(H,ie+"return "+Ct).apply(r,Y)});if(xe.source=Ct,Ag(xe))throw xe;return xe}function kz(a){return Qe(a).toLowerCase()}function jz(a){return Qe(a).toUpperCase()}function qz(a,l,m){if(a=Qe(a),a&&(m||l===r))return Jb(a);if(!a||!(l=Zi(l)))return a;var C=Un(a),R=Un(l),H=Zb(C,R),Y=Xb(C,R)+1;return Io(C,H,Y).join("")}function zz(a,l,m){if(a=Qe(a),a&&(m||l===r))return a.slice(0,e6(a)+1);if(!a||!(l=Zi(l)))return a;var C=Un(a),R=Xb(C,Un(l))+1;return Io(C,0,R).join("")}function Hz(a,l,m){if(a=Qe(a),a&&(m||l===r))return a.replace($t,"");if(!a||!(l=Zi(l)))return a;var C=Un(a),R=Zb(C,Un(l));return Io(C,R).join("")}function Kz(a,l){var m=ct,C=Z;if(yr(l)){var R="separator"in l?l.separator:R;m="length"in l?Se(l.length):m,C="omission"in l?Zi(l.omission):C}a=Qe(a);var H=a.length;if(Ec(a)){var Y=Un(a);H=Y.length}if(m>=H)return a;var tt=m-Mc(C);if(tt<1)return C;var at=Y?Io(Y,0,tt).join(""):a.slice(0,tt);if(R===r)return at+C;if(Y&&(tt+=at.length-tt),_g(R)){if(a.slice(tt).search(R)){var vt,yt=at;for(R.global||(R=Lp(R.source,Qe(zt.exec(R))+"g")),R.lastIndex=0;vt=R.exec(yt);)var Ct=vt.index;at=at.slice(0,Ct===r?tt:Ct)}}else if(a.indexOf(Zi(R),tt)!=tt){var Jt=at.lastIndexOf(R);Jt>-1&&(at=at.slice(0,Jt))}return at+C}function Wz(a){return a=Qe(a),a&&Rt.test(a)?a.replace(Wt,AL):a}var Vz=Nc(function(a,l,m){return a+(m?" ":"")+l.toUpperCase()}),Sg=z6("toUpperCase");function j5(a,l,m){return a=Qe(a),l=m?r:l,l===r?mL(a)?ML(a):aL(a):a.match(l)||[]}var q5=De(function(a,l){try{return zr(a,r,l)}catch(m){return Ag(m)?m:new fe(m)}}),Gz=Hs(function(a,l){return vn(l,function(m){m=As(m),qs(a,m,yg(a[m],a))}),a});function Qz(a){var l=a==null?0:a.length,m=ce();return a=l?mr(a,function(C){if(typeof C[1]!="function")throw new wn(h);return[m(C[0]),C[1]]}):[],De(function(C){for(var R=-1;++R<l;){var H=a[R];if(zr(H[0],this,C))return zr(H[1],this,C)}})}function Yz(a){return AF(bn(a,S))}function Ig(a){return function(){return a}}function Jz(a,l){return a==null||a!==a?l:a}var Zz=K6(),Xz=K6(!0);function ji(a){return a}function xg(a){return A6(typeof a=="function"?a:bn(a,S))}function tH(a){return E6(bn(a,S))}function eH(a,l){return M6(a,bn(l,S))}var rH=De(function(a,l){return function(m){return iu(m,a,l)}}),iH=De(function(a,l){return function(m){return iu(a,m,l)}});function Cg(a,l,m){var C=Hr(l),R=Bf(l,C);m==null&&!(yr(l)&&(R.length||!C.length))&&(m=l,l=a,a=this,R=Bf(l,Hr(l)));var H=!(yr(m)&&"chain"in m)||!!m.chain,Y=Ws(a);return vn(R,function(tt){var at=l[tt];a[tt]=at,Y&&(a.prototype[tt]=function(){var vt=this.__chain__;if(H||vt){var yt=a(this.__wrapped__),Ct=yt.__actions__=Li(this.__actions__);return Ct.push({func:at,args:arguments,thisArg:a}),yt.__chain__=vt,yt}return at.apply(a,bo([this.value()],arguments))})}),a}function nH(){return Le._===this&&(Le._=OL),this}function Dg(){}function sH(a){return a=Se(a),De(function(l){return S6(l,a)})}var oH=og(mr),aH=og(Wb),cH=og(Np);function z5(a){return dg(a)?Pp(As(a)):LF(a)}function hH(a){return function(l){return a==null?r:la(a,l)}}var uH=V6(),lH=V6(!0);function Og(){return[]}function Ng(){return!1}function fH(){return{}}function dH(){return""}function pH(){return!0}function gH(a,l){if(a=Se(a),a<1||a>E)return[];var m=c,C=oi(a,c);l=ce(l),a-=c;for(var R=$p(C,l);++m<a;)l(m);return R}function mH(a){return ve(a)?mr(a,As):Xi(a)?[a]:Li(h5(Qe(a)))}function vH(a){var l=++CL;return Qe(a)+l}var wH=qf(function(a,l){return a+l},0),yH=ag("ceil"),bH=qf(function(a,l){return a/l},1),AH=ag("floor");function _H(a){return a&&a.length?$f(a,ji,Wp):r}function EH(a,l){return a&&a.length?$f(a,ce(l,2),Wp):r}function MH(a){return Qb(a,ji)}function SH(a,l){return Qb(a,ce(l,2))}function IH(a){return a&&a.length?$f(a,ji,Yp):r}function xH(a,l){return a&&a.length?$f(a,ce(l,2),Yp):r}var CH=qf(function(a,l){return a*l},1),DH=ag("round"),OH=qf(function(a,l){return a-l},0);function NH(a){return a&&a.length?Tp(a,ji):0}function PH(a,l){return a&&a.length?Tp(a,ce(l,2)):0}return F.after=tq,F.ary=b5,F.assign=jq,F.assignIn=T5,F.assignInWith=e0,F.assignWith=qq,F.at=zq,F.before=A5,F.bind=yg,F.bindAll=Gz,F.bindKey=_5,F.castArray=fq,F.chain=v5,F.chunk=Ak,F.compact=_k,F.concat=Ek,F.cond=Qz,F.conforms=Yz,F.constant=Ig,F.countBy=Nj,F.create=Hq,F.curry=E5,F.curryRight=M5,F.debounce=S5,F.defaults=Kq,F.defaultsDeep=Wq,F.defer=eq,F.delay=rq,F.difference=Mk,F.differenceBy=Sk,F.differenceWith=Ik,F.drop=xk,F.dropRight=Ck,F.dropRightWhile=Dk,F.dropWhile=Ok,F.fill=Nk,F.filter=Rj,F.flatMap=Bj,F.flatMapDeep=Uj,F.flatMapDepth=Lj,F.flatten=d5,F.flattenDeep=Pk,F.flattenDepth=Rk,F.flip=iq,F.flow=Zz,F.flowRight=Xz,F.fromPairs=Tk,F.functions=Xq,F.functionsIn=tz,F.groupBy=Fj,F.initial=Bk,F.intersection=Uk,F.intersectionBy=Lk,F.intersectionWith=Fk,F.invert=rz,F.invertBy=iz,F.invokeMap=jj,F.iteratee=xg,F.keyBy=qj,F.keys=Hr,F.keysIn=ki,F.map=Qf,F.mapKeys=sz,F.mapValues=oz,F.matches=tH,F.matchesProperty=eH,F.memoize=Jf,F.merge=az,F.mergeWith=$5,F.method=rH,F.methodOf=iH,F.mixin=Cg,F.negate=Zf,F.nthArg=sH,F.omit=cz,F.omitBy=hz,F.once=nq,F.orderBy=zj,F.over=oH,F.overArgs=sq,F.overEvery=aH,F.overSome=cH,F.partial=bg,F.partialRight=I5,F.partition=Hj,F.pick=uz,F.pickBy=B5,F.property=z5,F.propertyOf=hH,F.pull=zk,F.pullAll=g5,F.pullAllBy=Hk,F.pullAllWith=Kk,F.pullAt=Wk,F.range=uH,F.rangeRight=lH,F.rearg=oq,F.reject=Vj,F.remove=Vk,F.rest=aq,F.reverse=vg,F.sampleSize=Qj,F.set=fz,F.setWith=dz,F.shuffle=Yj,F.slice=Gk,F.sortBy=Xj,F.sortedUniq=ej,F.sortedUniqBy=rj,F.split=Bz,F.spread=cq,F.tail=ij,F.take=nj,F.takeRight=sj,F.takeRightWhile=oj,F.takeWhile=aj,F.tap=_j,F.throttle=hq,F.thru=Gf,F.toArray=N5,F.toPairs=U5,F.toPairsIn=L5,F.toPath=mH,F.toPlainObject=R5,F.transform=pz,F.unary=uq,F.union=cj,F.unionBy=hj,F.unionWith=uj,F.uniq=lj,F.uniqBy=fj,F.uniqWith=dj,F.unset=gz,F.unzip=wg,F.unzipWith=m5,F.update=mz,F.updateWith=vz,F.values=Tc,F.valuesIn=wz,F.without=pj,F.words=j5,F.wrap=lq,F.xor=gj,F.xorBy=mj,F.xorWith=vj,F.zip=wj,F.zipObject=yj,F.zipObjectDeep=bj,F.zipWith=Aj,F.entries=U5,F.entriesIn=L5,F.extend=T5,F.extendWith=e0,Cg(F,F),F.add=wH,F.attempt=q5,F.camelCase=_z,F.capitalize=F5,F.ceil=yH,F.clamp=yz,F.clone=dq,F.cloneDeep=gq,F.cloneDeepWith=mq,F.cloneWith=pq,F.conformsTo=vq,F.deburr=k5,F.defaultTo=Jz,F.divide=bH,F.endsWith=Ez,F.eq=Fn,F.escape=Mz,F.escapeRegExp=Sz,F.every=Pj,F.find=Tj,F.findIndex=l5,F.findKey=Vq,F.findLast=$j,F.findLastIndex=f5,F.findLastKey=Gq,F.floor=AH,F.forEach=w5,F.forEachRight=y5,F.forIn=Qq,F.forInRight=Yq,F.forOwn=Jq,F.forOwnRight=Zq,F.get=Eg,F.gt=wq,F.gte=yq,F.has=ez,F.hasIn=Mg,F.head=p5,F.identity=ji,F.includes=kj,F.indexOf=$k,F.inRange=bz,F.invoke=nz,F.isArguments=pa,F.isArray=ve,F.isArrayBuffer=bq,F.isArrayLike=Fi,F.isArrayLikeObject=xr,F.isBoolean=Aq,F.isBuffer=xo,F.isDate=_q,F.isElement=Eq,F.isEmpty=Mq,F.isEqual=Sq,F.isEqualWith=Iq,F.isError=Ag,F.isFinite=xq,F.isFunction=Ws,F.isInteger=x5,F.isLength=Xf,F.isMap=C5,F.isMatch=Cq,F.isMatchWith=Dq,F.isNaN=Oq,F.isNative=Nq,F.isNil=Rq,F.isNull=Pq,F.isNumber=D5,F.isObject=yr,F.isObjectLike=Er,F.isPlainObject=hu,F.isRegExp=_g,F.isSafeInteger=Tq,F.isSet=O5,F.isString=t0,F.isSymbol=Xi,F.isTypedArray=Rc,F.isUndefined=$q,F.isWeakMap=Bq,F.isWeakSet=Uq,F.join=kk,F.kebabCase=Iz,F.last=_n,F.lastIndexOf=jk,F.lowerCase=xz,F.lowerFirst=Cz,F.lt=Lq,F.lte=Fq,F.max=_H,F.maxBy=EH,F.mean=MH,F.meanBy=SH,F.min=IH,F.minBy=xH,F.stubArray=Og,F.stubFalse=Ng,F.stubObject=fH,F.stubString=dH,F.stubTrue=pH,F.multiply=CH,F.nth=qk,F.noConflict=nH,F.noop=Dg,F.now=Yf,F.pad=Dz,F.padEnd=Oz,F.padStart=Nz,F.parseInt=Pz,F.random=Az,F.reduce=Kj,F.reduceRight=Wj,F.repeat=Rz,F.replace=Tz,F.result=lz,F.round=DH,F.runInContext=st,F.sample=Gj,F.size=Jj,F.snakeCase=$z,F.some=Zj,F.sortedIndex=Qk,F.sortedIndexBy=Yk,F.sortedIndexOf=Jk,F.sortedLastIndex=Zk,F.sortedLastIndexBy=Xk,F.sortedLastIndexOf=tj,F.startCase=Uz,F.startsWith=Lz,F.subtract=OH,F.sum=NH,F.sumBy=PH,F.template=Fz,F.times=gH,F.toFinite=Vs,F.toInteger=Se,F.toLength=P5,F.toLower=kz,F.toNumber=En,F.toSafeInteger=kq,F.toString=Qe,F.toUpper=jz,F.trim=qz,F.trimEnd=zz,F.trimStart=Hz,F.truncate=Kz,F.unescape=Wz,F.uniqueId=vH,F.upperCase=Vz,F.upperFirst=Sg,F.each=w5,F.eachRight=y5,F.first=p5,Cg(F,function(){var a={};return ys(F,function(l,m){Ye.call(F.prototype,m)||(a[m]=l)}),a}(),{chain:!1}),F.VERSION=i,vn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){F[a].placeholder=F}),vn(["drop","take"],function(a,l){Be.prototype[a]=function(m){m=m===r?1:$r(Se(m),0);var C=this.__filtered__&&!l?new Be(this):this.clone();return C.__filtered__?C.__takeCount__=oi(m,C.__takeCount__):C.__views__.push({size:oi(m,c),type:a+(C.__dir__<0?"Right":"")}),C},Be.prototype[a+"Right"]=function(m){return this.reverse()[a](m).reverse()}}),vn(["filter","map","takeWhile"],function(a,l){var m=l+1,C=m==u||m==v;Be.prototype[a]=function(R){var H=this.clone();return H.__iteratees__.push({iteratee:ce(R,3),type:m}),H.__filtered__=H.__filtered__||C,H}}),vn(["head","last"],function(a,l){var m="take"+(l?"Right":"");Be.prototype[a]=function(){return this[m](1).value()[0]}}),vn(["initial","tail"],function(a,l){var m="drop"+(l?"":"Right");Be.prototype[a]=function(){return this.__filtered__?new Be(this):this[m](1)}}),Be.prototype.compact=function(){return this.filter(ji)},Be.prototype.find=function(a){return this.filter(a).head()},Be.prototype.findLast=function(a){return this.reverse().find(a)},Be.prototype.invokeMap=De(function(a,l){return typeof a=="function"?new Be(this):this.map(function(m){return iu(m,a,l)})}),Be.prototype.reject=function(a){return this.filter(Zf(ce(a)))},Be.prototype.slice=function(a,l){a=Se(a);var m=this;return m.__filtered__&&(a>0||l<0)?new Be(m):(a<0?m=m.takeRight(-a):a&&(m=m.drop(a)),l!==r&&(l=Se(l),m=l<0?m.dropRight(-l):m.take(l-a)),m)},Be.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Be.prototype.toArray=function(){return this.take(c)},ys(Be.prototype,function(a,l){var m=/^(?:filter|find|map|reject)|While$/.test(l),C=/^(?:head|last)$/.test(l),R=F[C?"take"+(l=="last"?"Right":""):l],H=C||/^find/.test(l);R&&(F.prototype[l]=function(){var Y=this.__wrapped__,tt=C?[1]:arguments,at=Y instanceof Be,vt=tt[0],yt=at||ve(Y),Ct=function(Ne){var Fe=R.apply(F,bo([Ne],tt));return C&&Jt?Fe[0]:Fe};yt&&m&&typeof vt=="function"&&vt.length!=1&&(at=yt=!1);var Jt=this.__chain__,ie=!!this.__actions__.length,he=H&&!Jt,xe=at&&!ie;if(!H&&yt){Y=xe?Y:new Be(this);var ue=a.apply(Y,tt);return ue.__actions__.push({func:Gf,args:[Ct],thisArg:r}),new yn(ue,Jt)}return he&&xe?a.apply(this,tt):(ue=this.thru(Ct),he?C?ue.value()[0]:ue.value():ue)})}),vn(["pop","push","shift","sort","splice","unshift"],function(a){var l=bf[a],m=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",C=/^(?:pop|shift)$/.test(a);F.prototype[a]=function(){var R=arguments;if(C&&!this.__chain__){var H=this.value();return l.apply(ve(H)?H:[],R)}return this[m](function(Y){return l.apply(ve(Y)?Y:[],R)})}}),ys(Be.prototype,function(a,l){var m=F[l];if(m){var C=m.name+"";Ye.call(Cc,C)||(Cc[C]=[]),Cc[C].push({name:l,func:m})}}),Cc[jf(r,G).name]=[{name:"wrapper",func:r}],Be.prototype.clone=WL,Be.prototype.reverse=VL,Be.prototype.value=GL,F.prototype.at=Ej,F.prototype.chain=Mj,F.prototype.commit=Sj,F.prototype.next=Ij,F.prototype.plant=Cj,F.prototype.reverse=Dj,F.prototype.toJSON=F.prototype.valueOf=F.prototype.value=Oj,F.prototype.first=F.prototype.head,Yh&&(F.prototype[Yh]=xj),F},Sc=SL();Ir?((Ir.exports=Sc)._=Sc,rr._=Sc):Le._=Sc}).call(Sh)})(a1,a1.exports);var kP=Object.defineProperty,jP=Object.defineProperties,qP=Object.getOwnPropertyDescriptors,o3=Object.getOwnPropertySymbols,zP=Object.prototype.hasOwnProperty,HP=Object.prototype.propertyIsEnumerable,a3=(e,t,r)=>t in e?kP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,bl=(e,t)=>{for(var r in t||(t={}))zP.call(t,r)&&a3(e,r,t[r]);if(o3)for(var r of o3(t))HP.call(t,r)&&a3(e,r,t[r]);return e},KP=(e,t)=>jP(e,qP(t));function $s(e,t,r){var i;const n=zc(e);return((i=t.rpcMap)==null?void 0:i[n.reference])||`${FP}?chainId=${n.namespace}:${n.reference}&projectId=${r}`}function qo(e){return e.includes(":")?e.split(":")[1]:e}function c3(e){return e.map(t=>`${t.split(":")[0]}:${t.split(":")[1]}`)}function WP(e,t){const r=Object.keys(t.namespaces).filter(n=>n.includes(e));if(!r.length)return[];const i=[];return r.forEach(n=>{const s=t.namespaces[n].accounts;i.push(...s)}),i}function c1(e={},t={}){const r=h3(e),i=h3(t);return a1.exports.merge(r,i)}function h3(e){var t,r,i,n;const s={};if(!th(e))return s;for(const[h,d]of Object.entries(e)){const g=Z0(h)?[h]:d.chains,p=d.methods||[],_=d.events||[],S=d.rpcMap||{},D=Xc(h);s[D]=KP(bl(bl({},s[D]),d),{chains:_u(g,(t=s[D])==null?void 0:t.chains),methods:_u(p,(r=s[D])==null?void 0:r.methods),events:_u(_,(i=s[D])==null?void 0:i.events),rpcMap:bl(bl({},S),(n=s[D])==null?void 0:n.rpcMap)})}return s}function VP(e){return e.includes(":")?e.split(":")[2]:e}function u3(e){const t={};for(const[r,i]of Object.entries(e)){const n=i.methods||[],s=i.events||[],h=i.accounts||[],d=Z0(r)?[r]:i.chains?i.chains:c3(i.accounts);t[r]={chains:d,methods:n,events:s,accounts:h}}return t}function h1(e){return typeof e=="number"?e:e.includes("0x")?parseInt(e,16):(e=e.includes(":")?e.split(":")[1]:e,isNaN(Number(e))?e:Number(e))}const l3={},Xe=e=>l3[e],u1=(e,t)=>{l3[e]=t};class GP{constructor(t){this.name="polkadot",this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=qo(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||$s(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new hs(new Ts(i,Xe("disableProviderPing")))}}var QP=Object.defineProperty,YP=Object.defineProperties,JP=Object.getOwnPropertyDescriptors,f3=Object.getOwnPropertySymbols,ZP=Object.prototype.hasOwnProperty,XP=Object.prototype.propertyIsEnumerable,d3=(e,t,r)=>t in e?QP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p3=(e,t)=>{for(var r in t||(t={}))ZP.call(t,r)&&d3(e,r,t[r]);if(f3)for(var r of f3(t))XP.call(t,r)&&d3(e,r,t[r]);return e},g3=(e,t)=>YP(e,JP(t));class tR{constructor(t){this.name="eip155",this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(t){switch(t.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(t);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(t)}return this.namespace.methods.includes(t.request.method)?await this.client.request(t):this.getHttpProvider().request(t.request)}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(parseInt(t),r),this.chainId=parseInt(t),this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}createHttpProvider(t,r){const i=r||$s(`${this.name}:${t}`,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new hs(new Ts(i,Xe("disableProviderPing")))}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=parseInt(qo(r));t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const t=this.chainId,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}async handleSwitchChain(t){var r,i;let n=t.request.params?(r=t.request.params[0])==null?void 0:r.chainId:"0x0";n=n.startsWith("0x")?n:`0x${n}`;const s=parseInt(n,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:t.topic,request:{method:t.request.method,params:[{chainId:n}]},chainId:(i=this.namespace.chains)==null?void 0:i[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(t){return this.namespace.chains.includes(`${this.name}:${t}`)}async getCapabilities(t){var r,i,n;const s=(i=(r=t.request)==null?void 0:r.params)==null?void 0:i[0];if(!s)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const h=this.client.session.get(t.topic),d=((n=h?.sessionProperties)==null?void 0:n.capabilities)||{};if(d!=null&&d[s])return d?.[s];const g=await this.client.request(t);try{await this.client.session.update(t.topic,{sessionProperties:g3(p3({},h.sessionProperties||{}),{capabilities:g3(p3({},d||{}),{[s]:g})})})}catch(p){console.warn("Failed to update session with capabilities",p)}return g}}class eR{constructor(t){this.name="solana",this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=qo(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||$s(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new hs(new Ts(i,Xe("disableProviderPing")))}}class rR{constructor(t){this.name="cosmos",this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=qo(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||$s(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new hs(new Ts(i,Xe("disableProviderPing")))}}class iR{constructor(t){this.name="cip34",this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{const i=this.getCardanoRPCUrl(r),n=qo(r);t[n]=this.createHttpProvider(n,i)}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}getCardanoRPCUrl(t){const r=this.namespace.rpcMap;if(r)return r[t]}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||this.getCardanoRPCUrl(t);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new hs(new Ts(i,Xe("disableProviderPing")))}}class nR{constructor(t){this.name="elrond",this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=qo(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||$s(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new hs(new Ts(i,Xe("disableProviderPing")))}}class sR{constructor(t){this.name="multiversx",this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;const n=qo(r);t[n]=this.createHttpProvider(n,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||$s(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new hs(new Ts(i,Xe("disableProviderPing")))}}class oR{constructor(t){this.name="near",this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace=Object.assign(this.namespace,t)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider().request(t.request)}setDefaultChain(t,r){if(this.chainId=t,!this.httpProviders[t]){const i=r||$s(`${this.name}:${t}`,this.namespace);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);this.setHttpProvider(t,i)}this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const t=this.namespace.accounts;return t?t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const t={};return this.namespace.chains.forEach(r=>{var i;t[r]=this.createHttpProvider(r,(i=this.namespace.rpcMap)==null?void 0:i[r])}),t}getHttpProvider(){const t=`${this.name}:${this.chainId}`,r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||$s(t,this.namespace);return typeof i>"u"?void 0:new hs(new Ts(i,Xe("disableProviderPing")))}}class aR{constructor(t){this.name=Xa,this.namespace=t.namespace,this.events=Xe("events"),this.client=Xe("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(t){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(t.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(t.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(t.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(t.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(t){return this.namespace.methods.includes(t.request.method)?this.client.request(t):this.getHttpProvider(t.chainId).request(t.request)}setDefaultChain(t,r){this.httpProviders[t]||this.setHttpProvider(t,r),this.chainId=t,this.events.emit(fs.DEFAULT_CHAIN_CHANGED,`${this.name}:${t}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const t=this.namespace.chains[0];if(!t)throw new Error("ChainId not found");return t.split(":")[1]}getAccounts(){const t=this.namespace.accounts;return t?[...new Set(t.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var t,r;const i={};return(r=(t=this.namespace)==null?void 0:t.accounts)==null||r.forEach(n=>{const s=zc(n);i[`${s.namespace}:${s.reference}`]=this.createHttpProvider(n)}),i}getHttpProvider(t){const r=this.httpProviders[t];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${t} not found`);return r}setHttpProvider(t,r){const i=this.createHttpProvider(t,r);i&&(this.httpProviders[t]=i)}createHttpProvider(t,r){const i=r||$s(t,this.namespace,this.client.core.projectId);if(!i)throw new Error(`No RPC url provided for chainId: ${t}`);return new hs(new Ts(i,Xe("disableProviderPing")))}}var cR=Object.defineProperty,hR=Object.defineProperties,uR=Object.getOwnPropertyDescriptors,m3=Object.getOwnPropertySymbols,lR=Object.prototype.hasOwnProperty,fR=Object.prototype.propertyIsEnumerable,v3=(e,t,r)=>t in e?cR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Al=(e,t)=>{for(var r in t||(t={}))lR.call(t,r)&&v3(e,r,t[r]);if(m3)for(var r of m3(t))fR.call(t,r)&&v3(e,r,t[r]);return e},l1=(e,t)=>hR(e,uR(t));class f1{constructor(t){this.events=new Kr.exports,this.rpcProviders={},this.shouldAbortPairingAttempt=!1,this.maxPairingAttempts=10,this.disableProviderPing=!1,this.providerOpts=t,this.logger=typeof t?.logger<"u"&&typeof t?.logger!="string"?t.logger:Zn(Gu({level:t?.logger||n3})),this.disableProviderPing=t?.disableProviderPing||!1}static async init(t){const r=new f1(t);return await r.initialize(),r}async request(t,r,i){const[n,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(n).request({request:Al({},t),chainId:`${n}:${s}`,topic:this.session.topic,expiry:i})}sendAsync(t,r,i,n){const s=new Date().getTime();this.request(t,i,n).then(h=>r(null,pl(s,h))).catch(h=>r(h,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties}),await this.requestAccounts()}async disconnect(){var t;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(t=this.session)==null?void 0:t.topic,reason:gr("USER_DISCONNECTED")}),await this.cleanup()}async connect(t){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(t),await this.cleanupPendingPairings(),!t.skipPairing)return await this.pair(t.pairingTopic)}async authenticate(t){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(t),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(t);r&&(this.uri=r,this.events.emit("display_uri",r));const n=await i();if(this.session=n.session,this.session){const s=u3(this.session.namespaces);this.namespaces=c1(this.namespaces,s),this.persist("namespaces",this.namespaces),this.onConnect()}return n}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}removeListener(t,r){this.events.removeListener(t,r)}off(t,r){this.events.off(t,r)}get isWalletConnect(){return!0}async pair(t){this.shouldAbortPairingAttempt=!1;let r=0;do{if(this.shouldAbortPairingAttempt)throw new Error("Pairing aborted");if(r>=this.maxPairingAttempts)throw new Error("Max auto pairing attempts reached");const{uri:i,approval:n}=await this.client.connect({pairingTopic:t,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties});i&&(this.uri=i,this.events.emit("display_uri",i)),await n().then(s=>{this.session=s;const h=u3(s.namespaces);this.namespaces=c1(this.namespaces,h),this.persist("namespaces",this.namespaces)}).catch(s=>{if(s.message!==Gy)throw s;r++})}while(!this.session);return this.onConnect(),this.session}setDefaultChain(t,r){try{if(!this.session)return;const[i,n]=this.validateChain(t),s=this.getProvider(i);s.name===Xa?s.setDefaultChain(`${i}:${n}`,r):s.setDefaultChain(n,r)}catch(i){if(!/Please call connect/.test(i.message))throw i}}async cleanupPendingPairings(t={}){this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(Is(r)){for(const i of r)t.deletePairings?this.client.core.expirer.set(i.topic,0):await this.client.core.relayer.subscriber.unsubscribe(i.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}}abortPairingAttempt(){this.shouldAbortPairingAttempt=!0}async checkStorage(){if(this.namespaces=await this.getFromStore("namespaces"),this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.client.session.length){const t=this.client.session.keys.length-1;this.session=this.client.session.get(this.client.session.keys[t]),this.createProviders()}}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){this.client=this.providerOpts.client||await s1.init({logger:this.providerOpts.logger||n3,relayUrl:this.providerOpts.relayUrl||BP,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name}),this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const t=[...new Set(Object.keys(this.session.namespaces).map(r=>Xc(r)))];u1("client",this.client),u1("events",this.events),u1("disableProviderPing",this.disableProviderPing),t.forEach(r=>{if(!this.session)return;const i=WP(r,this.session),n=c3(i),s=c1(this.namespaces,this.optionalNamespaces),h=l1(Al({},s[r]),{accounts:i,chains:n});switch(r){case"eip155":this.rpcProviders[r]=new tR({namespace:h});break;case"solana":this.rpcProviders[r]=new eR({namespace:h});break;case"cosmos":this.rpcProviders[r]=new rR({namespace:h});break;case"polkadot":this.rpcProviders[r]=new GP({namespace:h});break;case"cip34":this.rpcProviders[r]=new iR({namespace:h});break;case"elrond":this.rpcProviders[r]=new nR({namespace:h});break;case"multiversx":this.rpcProviders[r]=new sR({namespace:h});break;case"near":this.rpcProviders[r]=new oR({namespace:h});break;default:this.rpcProviders[Xa]?this.rpcProviders[Xa].updateNamespace(h):this.rpcProviders[Xa]=new aR({namespace:h})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",t=>{this.events.emit("session_ping",t)}),this.client.on("session_event",t=>{const{params:r}=t,{event:i}=r;if(i.name==="accountsChanged"){const n=i.data;n&&Is(n)&&this.events.emit("accountsChanged",n.map(VP))}else if(i.name==="chainChanged"){const n=r.chainId,s=r.event.data,h=Xc(n),d=h1(n)!==h1(s)?`${h}:${h1(s)}`:n;this.onChainChanged(d)}else this.events.emit(i.name,i.data);this.events.emit("session_event",t)}),this.client.on("session_update",({topic:t,params:r})=>{var i;const{namespaces:n}=r,s=(i=this.client)==null?void 0:i.session.get(t);this.session=l1(Al({},s),{namespaces:n}),this.onSessionUpdate(),this.events.emit("session_update",{topic:t,params:r})}),this.client.on("session_delete",async t=>{await this.cleanup(),this.events.emit("session_delete",t),this.events.emit("disconnect",l1(Al({},gr("USER_DISCONNECTED")),{data:t.topic}))}),this.on(fs.DEFAULT_CHAIN_CHANGED,t=>{this.onChainChanged(t,!0)})}getProvider(t){return this.rpcProviders[t]||this.rpcProviders[Xa]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(t=>{var r;this.getProvider(t).updateNamespace((r=this.session)==null?void 0:r.namespaces[t])})}setNamespaces(t){const{namespaces:r,optionalNamespaces:i,sessionProperties:n}=t;r&&Object.keys(r).length&&(this.namespaces=r),i&&Object.keys(i).length&&(this.optionalNamespaces=i),this.sessionProperties=n,this.persist("namespaces",r),this.persist("optionalNamespaces",i)}validateChain(t){const[r,i]=t?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,i];if(r&&!Object.keys(this.namespaces||{}).map(h=>Xc(h)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&i)return[r,i];const n=Xc(Object.keys(this.namespaces)[0]),s=this.rpcProviders[n].getDefaultChain();return[n,s]}async requestAccounts(){const[t]=this.validateChain();return await this.getProvider(t).requestAccounts()}onChainChanged(t,r=!1){if(!this.namespaces)return;const[i,n]=this.validateChain(t);n&&(r||this.getProvider(i).setDefaultChain(n),this.namespaces[i]?this.namespaces[i].defaultChain=n:this.namespaces[`${i}:${n}`]?this.namespaces[`${i}:${n}`].defaultChain=n:this.namespaces[`${i}:${n}`]={defaultChain:n},this.persist("namespaces",this.namespaces),this.events.emit("chainChanged",n))}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.session=void 0,this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,this.persist("namespaces",void 0),this.persist("optionalNamespaces",void 0),this.persist("sessionProperties",void 0),await this.cleanupPendingPairings({deletePairings:!0})}persist(t,r){this.client.core.storage.setItem(`${s3}/${t}`,r)}async getFromStore(t){return await this.client.core.storage.getItem(`${s3}/${t}`)}}const dR=f1,pR="wc",gR="ethereum_provider",mR=`${pR}@2:${gR}:`,vR="https://rpc.walletconnect.com/v1/",_l=["eth_sendTransaction","personal_sign"],w3=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],El=["chainChanged","accountsChanged"],y3=["chainChanged","accountsChanged","message","disconnect","connect"];var wR=Object.defineProperty,yR=Object.defineProperties,bR=Object.getOwnPropertyDescriptors,b3=Object.getOwnPropertySymbols,AR=Object.prototype.hasOwnProperty,_R=Object.prototype.propertyIsEnumerable,A3=(e,t,r)=>t in e?wR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,tc=(e,t)=>{for(var r in t||(t={}))AR.call(t,r)&&A3(e,r,t[r]);if(b3)for(var r of b3(t))_R.call(t,r)&&A3(e,r,t[r]);return e},d1=(e,t)=>yR(e,bR(t));function Ml(e){return Number(e[0].split(":")[1])}function Sl(e){return`0x${e.toString(16)}`}function ER(e){const{chains:t,optionalChains:r,methods:i,optionalMethods:n,events:s,optionalEvents:h,rpcMap:d}=e;if(!Is(t))throw new Error("Invalid chains");const g={chains:t,methods:i||_l,events:s||El,rpcMap:tc({},t.length?{[Ml(t)]:d[Ml(t)]}:{})},p=s?.filter(O=>!El.includes(O)),_=i?.filter(O=>!_l.includes(O));if(!r&&!h&&!n&&!(p!=null&&p.length)&&!(_!=null&&_.length))return{required:t.length?g:void 0};const S=p?.length&&_?.length||!r,D={chains:[...new Set(S?g.chains.concat(r||[]):r)],methods:[...new Set(g.methods.concat(n!=null&&n.length?n:w3))],events:[...new Set(g.events.concat(h!=null&&h.length?h:y3))],rpcMap:d};return{required:t.length?g:void 0,optional:r.length?D:void 0}}class Il{constructor(){this.events=new Kr.exports.EventEmitter,this.namespace="eip155",this.accounts=[],this.chainId=1,this.STORAGE_KEY=mR,this.on=(t,r)=>(this.events.on(t,r),this),this.once=(t,r)=>(this.events.once(t,r),this),this.removeListener=(t,r)=>(this.events.removeListener(t,r),this),this.off=(t,r)=>(this.events.off(t,r),this),this.parseAccount=t=>this.isCompatibleChainId(t)?this.parseAccountId(t).address:t,this.signer={},this.rpc={}}static async init(t){const r=new Il;return await r.initialize(t),r}async request(t,r){return await this.signer.request(t,this.formatChainId(this.chainId),r)}sendAsync(t,r,i){this.signer.sendAsync(t,r,this.formatChainId(this.chainId),i)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(t);const{required:r,optional:i}=ER(this.rpc);try{const n=await new Promise(async(h,d)=>{var g;this.rpc.showQrModal&&((g=this.modal)==null||g.subscribeModal(p=>{!p.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),d(new Error("Connection request reset. Please try again.")))})),await this.signer.connect(d1(tc({namespaces:tc({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:t?.pairingTopic})).then(p=>{h(p)}).catch(p=>{d(new Error(p.message))})});if(!n)return;const s=jm(n.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:s),this.setAccounts(s),this.events.emit("connect",{chainId:Sl(this.chainId)})}catch(n){throw this.signer.logger.error(n),n}finally{this.modal&&this.modal.closeModal()}}async authenticate(t){if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:t?.chains});try{const r=await new Promise(async(n,s)=>{var h;this.rpc.showQrModal&&((h=this.modal)==null||h.subscribeModal(d=>{!d.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),s(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(d1(tc({},t),{chains:this.rpc.chains})).then(d=>{n(d)}).catch(d=>{s(new Error(d.message))})}),i=r.session;if(i){const n=jm(i.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:n),this.setAccounts(n),this.events.emit("connect",{chainId:Sl(this.chainId)})}return r}catch(r){throw this.signer.logger.error(r),r}finally{this.modal&&this.modal.closeModal()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",t=>{const{params:r}=t,{event:i}=r;i.name==="accountsChanged"?(this.accounts=this.parseAccounts(i.data),this.events.emit("accountsChanged",this.accounts)):i.name==="chainChanged"?this.setChainId(this.formatChainId(i.data)):this.events.emit(i.name,i.data),this.events.emit("session_event",t)}),this.signer.on("chainChanged",t=>{const r=parseInt(t);this.chainId=r,this.events.emit("chainChanged",Sl(this.chainId)),this.persist()}),this.signer.on("session_update",t=>{this.events.emit("session_update",t)}),this.signer.on("session_delete",t=>{this.reset(),this.events.emit("session_delete",t),this.events.emit("disconnect",d1(tc({},gr("USER_DISCONNECTED")),{data:t.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",t=>{var r,i;this.rpc.showQrModal&&((r=this.modal)==null||r.closeModal(),(i=this.modal)==null||i.openModal({uri:t})),this.events.emit("display_uri",t)})}switchEthereumChain(t){this.request({method:"wallet_switchEthereumChain",params:[{chainId:t.toString(16)}]})}isCompatibleChainId(t){return typeof t=="string"?t.startsWith(`${this.namespace}:`):!1}formatChainId(t){return`${this.namespace}:${t}`}parseChainId(t){return Number(t.split(":")[1])}setChainIds(t){const r=t.filter(i=>this.isCompatibleChainId(i)).map(i=>this.parseChainId(i));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",Sl(this.chainId)),this.persist())}setChainId(t){if(this.isCompatibleChainId(t)){const r=this.parseChainId(t);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(t){const[r,i,n]=t.split(":");return{chainId:`${r}:${i}`,address:n}}setAccounts(t){this.accounts=t.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(t){var r,i;const n=(r=t?.chains)!=null?r:[],s=(i=t?.optionalChains)!=null?i:[],h=n.concat(s);if(!h.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const d=n.length?t?.methods||_l:[],g=n.length?t?.events||El:[],p=t?.optionalMethods||[],_=t?.optionalEvents||[],S=t?.rpcMap||this.buildRpcMap(h,t.projectId),D=t?.qrModalOptions||void 0;return{chains:n?.map(O=>this.formatChainId(O)),optionalChains:s.map(O=>this.formatChainId(O)),methods:d,events:g,optionalMethods:p,optionalEvents:_,rpcMap:S,showQrModal:!!(t!=null&&t.showQrModal),qrModalOptions:D,projectId:t.projectId,metadata:t.metadata}}buildRpcMap(t,r){const i={};return t.forEach(n=>{i[n]=this.getRpcUrl(n,r)}),i}async initialize(t){if(this.rpc=this.getRpcConfig(t),this.chainId=this.rpc.chains.length?Ml(this.rpc.chains):Ml(this.rpc.optionalChains),this.signer=await dR.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:t.disableProviderPing,relayUrl:t.relayUrl,storageOptions:t.storageOptions}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const{WalletConnectModal:i}=await Promise.resolve().then(function(){return WR});r=i}catch{throw new Error("To use QR modal, please install @walletconnect/modal package")}if(r)try{this.modal=new r(tc({projectId:this.rpc.projectId},this.rpc.qrModalOptions))}catch(i){throw this.signer.logger.error(i),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(t){if(!t)return;const{chains:r,optionalChains:i,rpcMap:n}=t;r&&Is(r)&&(this.rpc.chains=r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=n?.[s]||this.getRpcUrl(s)})),i&&Is(i)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=i?.map(s=>this.formatChainId(s)),i.forEach(s=>{this.rpc.rpcMap[s]=n?.[s]||this.getRpcUrl(s)}))}getRpcUrl(t,r){var i;return((i=this.rpc.rpcMap)==null?void 0:i[t])||`${vR}?chainId=eip155:${t}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const t=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${t}`]?this.session.namespaces[`${this.namespace}:${t}`]:this.session.namespaces[this.namespace];this.setChainIds(t?[this.formatChainId(t)]:r?.accounts),this.setAccounts(r?.accounts)}catch(t){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(t),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(t){return typeof t=="string"||t instanceof String?[this.parseAccount(t)]:t.map(r=>this.parseAccount(r))}}const MR=Il,SR=Symbol(),_3=Object.getPrototypeOf,p1=new WeakMap,IR=e=>e&&(p1.has(e)?p1.get(e):_3(e)===Object.prototype||_3(e)===Array.prototype),xR=e=>IR(e)&&e[SR]||null,E3=(e,t=!0)=>{p1.set(e,t)},g1=e=>typeof e=="object"&&e!==null,so=new WeakMap,xl=new WeakSet,CR=(e=Object.is,t=(p,_)=>new Proxy(p,_),r=p=>g1(p)&&!xl.has(p)&&(Array.isArray(p)||!(Symbol.iterator in p))&&!(p instanceof WeakMap)&&!(p instanceof WeakSet)&&!(p instanceof Error)&&!(p instanceof Number)&&!(p instanceof Date)&&!(p instanceof String)&&!(p instanceof RegExp)&&!(p instanceof ArrayBuffer),i=p=>{switch(p.status){case"fulfilled":return p.value;case"rejected":throw p.reason;default:throw p}},n=new WeakMap,s=(p,_,S=i)=>{const D=n.get(p);if(D?.[0]===_)return D[1];const O=Array.isArray(p)?[]:Object.create(Object.getPrototypeOf(p));return E3(O,!0),n.set(p,[_,O]),Reflect.ownKeys(p).forEach(N=>{if(Object.getOwnPropertyDescriptor(O,N))return;const L=Reflect.get(p,N),z={value:L,enumerable:!0,configurable:!0};if(xl.has(L))E3(L,!1);else if(L instanceof Promise)delete z.value,z.get=()=>S(L);else if(so.has(L)){const[G,q]=so.get(L);z.value=s(G,q(),S)}Object.defineProperty(O,N,z)}),Object.preventExtensions(O)},h=new WeakMap,d=[1,1],g=p=>{if(!g1(p))throw new Error("object required");const _=h.get(p);if(_)return _;let S=d[0];const D=new Set,O=(et,ct=++d[0])=>{S!==ct&&(S=ct,D.forEach(Z=>Z(et,ct)))};let N=d[1];const L=(et=++d[1])=>(N!==et&&!D.size&&(N=et,G.forEach(([ct])=>{const Z=ct[1](et);Z>S&&(S=Z)})),S),z=et=>(ct,Z)=>{const ut=[...ct];ut[1]=[et,...ut[1]],O(ut,Z)},G=new Map,q=(et,ct)=>{if(G.has(et))throw new Error("prop listener already exists");if(D.size){const Z=ct[3](z(et));G.set(et,[ct,Z])}else G.set(et,[ct])},W=et=>{var ct;const Z=G.get(et);Z&&(G.delete(et),(ct=Z[1])==null||ct.call(Z))},B=et=>(D.add(et),D.size===1&&G.forEach(([Z,ut],o)=>{if(ut)throw new Error("remove already exists");const u=Z[3](z(o));G.set(o,[Z,u])}),()=>{D.delete(et),D.size===0&&G.forEach(([Z,ut],o)=>{ut&&(ut(),G.set(o,[Z]))})}),k=Array.isArray(p)?[]:Object.create(Object.getPrototypeOf(p)),I=t(k,{deleteProperty(et,ct){const Z=Reflect.get(et,ct);W(ct);const ut=Reflect.deleteProperty(et,ct);return ut&&O(["delete",[ct],Z]),ut},set(et,ct,Z,ut){const o=Reflect.has(et,ct),u=Reflect.get(et,ct,ut);if(o&&(e(u,Z)||h.has(Z)&&e(u,h.get(Z))))return!0;W(ct),g1(Z)&&(Z=xR(Z)||Z);let f=Z;if(Z instanceof Promise)Z.then(v=>{Z.status="fulfilled",Z.value=v,O(["resolve",[ct],v])}).catch(v=>{Z.status="rejected",Z.reason=v,O(["reject",[ct],v])});else{!so.has(Z)&&r(Z)&&(f=g(Z));const v=!xl.has(f)&&so.get(f);v&&q(ct,v)}return Reflect.set(et,ct,f,ut),O(["set",[ct],Z,u]),!0}});h.set(p,I);const U=[k,L,s,B];return so.set(I,U),Reflect.ownKeys(p).forEach(et=>{const ct=Object.getOwnPropertyDescriptor(p,et);"value"in ct&&(I[et]=p[et],delete ct.value,delete ct.writable),Object.defineProperty(k,et,ct)}),I})=>[g,so,xl,e,t,r,i,n,s,h,d],[DR]=CR();function oo(e={}){return DR(e)}function zo(e,t,r){const i=so.get(e);i||console.warn("Please use proxy object");let n;const s=[],h=i[3];let d=!1;const p=h(_=>{if(s.push(_),r){t(s.splice(0));return}n||(n=Promise.resolve().then(()=>{n=void 0,d&&t(s.splice(0))}))});return d=!0,()=>{d=!1,p()}}function OR(e,t){const r=so.get(e);r||console.warn("Please use proxy object");const[i,n,s]=r;return s(i,n(),t)}const Fr=oo({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),vr={state:Fr,subscribe(e){return zo(Fr,()=>e(Fr))},push(e,t){e!==Fr.view&&(Fr.view=e,t&&(Fr.data=t),Fr.history.push(e))},reset(e){Fr.view=e,Fr.history=[e]},replace(e){Fr.history.length>1&&(Fr.history[Fr.history.length-1]=e,Fr.view=e)},goBack(){if(Fr.history.length>1){Fr.history.pop();const[e]=Fr.history.slice(-1);Fr.view=e}},setData(e){Fr.data=e}},se={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return se.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){const e=navigator.userAgent.toLowerCase();return se.isMobile()&&(e.includes("iphone")||e.includes("ipad"))},isHttpUrl(e){return e.startsWith("http://")||e.startsWith("https://")},isArray(e){return Array.isArray(e)&&e.length>0},formatNativeUrl(e,t,r){if(se.isHttpUrl(e))return this.formatUniversalUrl(e,t,r);let i=e;i.includes("://")||(i=e.replaceAll("/","").replaceAll(":",""),i=`${i}://`),i.endsWith("/")||(i=`${i}/`),this.setWalletConnectDeepLink(i,r);const n=encodeURIComponent(t);return`${i}wc?uri=${n}`},formatUniversalUrl(e,t,r){if(!se.isHttpUrl(e))return this.formatNativeUrl(e,t,r);let i=e;i.endsWith("/")||(i=`${i}/`),this.setWalletConnectDeepLink(i,r);const n=encodeURIComponent(t);return`${i}wc?uri=${n}`},async wait(e){return new Promise(t=>{setTimeout(t,e)})},openHref(e,t){window.open(e,t,"noreferrer noopener")},setWalletConnectDeepLink(e,t){try{localStorage.setItem(se.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(e){try{const[t]=e.split("?");localStorage.setItem(se.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(se.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(se.WCM_VERSION,"2.6.2")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var e;const t=(e=vr.state.data)==null?void 0:e.Wallet;if(!t)throw new Error('Missing "Wallet" view data');return t}},NR=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),ii=oo({enabled:NR,userSessionId:"",events:[],connectedWalletId:void 0}),M3={state:ii,subscribe(e){return zo(ii.events,()=>e(OR(ii.events[ii.events.length-1])))},initialize(){ii.enabled&&typeof(crypto==null?void 0:crypto.randomUUID)<"u"&&(ii.userSessionId=crypto.randomUUID())},setConnectedWalletId(e){ii.connectedWalletId=e},click(e){if(ii.enabled){const t={type:"CLICK",name:e.name,userSessionId:ii.userSessionId,timestamp:Date.now(),data:e};ii.events.push(t)}},track(e){if(ii.enabled){const t={type:"TRACK",name:e.name,userSessionId:ii.userSessionId,timestamp:Date.now(),data:e};ii.events.push(t)}},view(e){if(ii.enabled){const t={type:"VIEW",name:e.name,userSessionId:ii.userSessionId,timestamp:Date.now(),data:e};ii.events.push(t)}}},ds=oo({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),Sr={state:ds,subscribe(e){return zo(ds,()=>e(ds))},setChains(e){ds.chains=e},setWalletConnectUri(e){ds.walletConnectUri=e},setIsCustomDesktop(e){ds.isCustomDesktop=e},setIsCustomMobile(e){ds.isCustomMobile=e},setIsDataLoaded(e){ds.isDataLoaded=e},setIsUiLoaded(e){ds.isUiLoaded=e},setIsAuth(e){ds.isAuth=e}},Cl=oo({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),Gi={state:Cl,subscribe(e){return zo(Cl,()=>e(Cl))},setConfig(e){var t,r;M3.initialize(),Sr.setChains(e.chains),Sr.setIsAuth(!!e.enableAuthMode),Sr.setIsCustomMobile(!!((t=e.mobileWallets)!=null&&t.length)),Sr.setIsCustomDesktop(!!((r=e.desktopWallets)!=null&&r.length)),se.setModalVersionInStorage(),Object.assign(Cl,e)}};var PR=Object.defineProperty,S3=Object.getOwnPropertySymbols,RR=Object.prototype.hasOwnProperty,TR=Object.prototype.propertyIsEnumerable,I3=(e,t,r)=>t in e?PR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$R=(e,t)=>{for(var r in t||(t={}))RR.call(t,r)&&I3(e,r,t[r]);if(S3)for(var r of S3(t))TR.call(t,r)&&I3(e,r,t[r]);return e};const m1="https://explorer-api.walletconnect.com",v1="wcm",w1="js-2.6.2";async function Dl(e,t){const r=$R({sdkType:v1,sdkVersion:w1},t),i=new URL(e,m1);return i.searchParams.append("projectId",Gi.state.projectId),Object.entries(r).forEach(([n,s])=>{s&&i.searchParams.append(n,String(s))}),(await fetch(i)).json()}const Ho={async getDesktopListings(e){return Dl("/w3m/v1/getDesktopListings",e)},async getMobileListings(e){return Dl("/w3m/v1/getMobileListings",e)},async getInjectedListings(e){return Dl("/w3m/v1/getInjectedListings",e)},async getAllListings(e){return Dl("/w3m/v1/getAllListings",e)},getWalletImageUrl(e){return`${m1}/w3m/v1/getWalletImage/${e}?projectId=${Gi.state.projectId}&sdkType=${v1}&sdkVersion=${w1}`},getAssetImageUrl(e){return`${m1}/w3m/v1/getAssetImage/${e}?projectId=${Gi.state.projectId}&sdkType=${v1}&sdkVersion=${w1}`}};var BR=Object.defineProperty,x3=Object.getOwnPropertySymbols,UR=Object.prototype.hasOwnProperty,LR=Object.prototype.propertyIsEnumerable,C3=(e,t,r)=>t in e?BR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,FR=(e,t)=>{for(var r in t||(t={}))UR.call(t,r)&&C3(e,r,t[r]);if(x3)for(var r of x3(t))LR.call(t,r)&&C3(e,r,t[r]);return e};const D3=se.isMobile(),ps=oo({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),$i={state:ps,async getRecomendedWallets(){const{explorerRecommendedWalletIds:e,explorerExcludedWalletIds:t}=Gi.state;if(e==="NONE"||t==="ALL"&&!e)return ps.recomendedWallets;if(se.isArray(e)){const r={recommendedIds:e.join(",")},{listings:i}=await Ho.getAllListings(r),n=Object.values(i);n.sort((s,h)=>{const d=e.indexOf(s.id),g=e.indexOf(h.id);return d-g}),ps.recomendedWallets=n}else{const{chains:r,isAuth:i}=Sr.state,n=r?.join(","),s=se.isArray(t),h={page:1,sdks:i?"auth_v1":void 0,entries:se.RECOMMENDED_WALLET_AMOUNT,chains:n,version:2,excludedIds:s?t.join(","):void 0},{listings:d}=D3?await Ho.getMobileListings(h):await Ho.getDesktopListings(h);ps.recomendedWallets=Object.values(d)}return ps.recomendedWallets},async getWallets(e){const t=FR({},e),{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:i}=Gi.state,{recomendedWallets:n}=ps;if(i==="ALL")return ps.wallets;n.length?t.excludedIds=n.map(S=>S.id).join(","):se.isArray(r)&&(t.excludedIds=r.join(",")),se.isArray(i)&&(t.excludedIds=[t.excludedIds,i].filter(Boolean).join(",")),Sr.state.isAuth&&(t.sdks="auth_v1");const{page:s,search:h}=e,{listings:d,total:g}=D3?await Ho.getMobileListings(t):await Ho.getDesktopListings(t),p=Object.values(d),_=h?"search":"wallets";return ps[_]={listings:[...ps[_].listings,...p],total:g,page:s??1},{listings:p,total:g}},getWalletImageUrl(e){return Ho.getWalletImageUrl(e)},getAssetImageUrl(e){return Ho.getAssetImageUrl(e)},resetSearch(){ps.search={listings:[],total:0,page:1}}},ec=oo({open:!1}),Ko={state:ec,subscribe(e){return zo(ec,()=>e(ec))},async open(e){return new Promise(t=>{const{isUiLoaded:r,isDataLoaded:i}=Sr.state;if(se.removeWalletConnectDeepLink(),Sr.setWalletConnectUri(e?.uri),Sr.setChains(e?.chains),vr.reset("ConnectWallet"),r&&i)ec.open=!0,t();else{const n=setInterval(()=>{const s=Sr.state;s.isUiLoaded&&s.isDataLoaded&&(clearInterval(n),ec.open=!0,t())},200)}})},close(){ec.open=!1}};var kR=Object.defineProperty,O3=Object.getOwnPropertySymbols,jR=Object.prototype.hasOwnProperty,qR=Object.prototype.propertyIsEnumerable,N3=(e,t,r)=>t in e?kR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,zR=(e,t)=>{for(var r in t||(t={}))jR.call(t,r)&&N3(e,r,t[r]);if(O3)for(var r of O3(t))qR.call(t,r)&&N3(e,r,t[r]);return e};function HR(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const Ih=oo({themeMode:HR()?"dark":"light"}),ao={state:Ih,subscribe(e){return zo(Ih,()=>e(Ih))},setThemeConfig(e){const{themeMode:t,themeVariables:r}=e;t&&(Ih.themeMode=t),r&&(Ih.themeVariables=zR({},r))}},Wo=oo({open:!1,message:"",variant:"success"}),co={state:Wo,subscribe(e){return zo(Wo,()=>e(Wo))},openToast(e,t){Wo.open=!0,Wo.message=e,Wo.variant=t},closeToast(){Wo.open=!1}};class KR{constructor(t){this.openModal=Ko.open,this.closeModal=Ko.close,this.subscribeModal=Ko.subscribe,this.setTheme=ao.setThemeConfig,ao.setThemeConfig(t),Gi.setConfig(t),this.initUi()}async initUi(){if(typeof window<"u"){await Promise.resolve().then(function(){return eL});const t=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",t),Sr.setIsUiLoaded(!0)}}}var WR=Object.freeze({__proto__:null,WalletConnectModal:KR});/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Ol=window,y1=Ol.ShadowRoot&&(Ol.ShadyCSS===void 0||Ol.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,b1=Symbol(),P3=new WeakMap;class R3{constructor(t,r,i){if(this._$cssResult$=!0,i!==b1)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=r}get styleSheet(){let t=this.o;const r=this.t;if(y1&&t===void 0){const i=r!==void 0&&r.length===1;i&&(t=P3.get(r)),t===void 0&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&P3.set(r,t))}return t}toString(){return this.cssText}}const VR=e=>new R3(typeof e=="string"?e:e+"",void 0,b1),He=(e,...t)=>{const r=e.length===1?e[0]:t.reduce((i,n,s)=>i+(h=>{if(h._$cssResult$===!0)return h.cssText;if(typeof h=="number")return h;throw Error("Value passed to 'css' function must be a 'css' function result: "+h+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+e[s+1],e[0]);return new R3(r,e,b1)},GR=(e,t)=>{y1?e.adoptedStyleSheets=t.map(r=>r instanceof CSSStyleSheet?r:r.styleSheet):t.forEach(r=>{const i=document.createElement("style"),n=Ol.litNonce;n!==void 0&&i.setAttribute("nonce",n),i.textContent=r.cssText,e.appendChild(i)})},T3=y1?e=>e:e=>e instanceof CSSStyleSheet?(t=>{let r="";for(const i of t.cssRules)r+=i.cssText;return VR(r)})(e):e;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var A1;const Nl=window,$3=Nl.trustedTypes,QR=$3?$3.emptyScript:"",B3=Nl.reactiveElementPolyfillSupport,_1={toAttribute(e,t){switch(t){case Boolean:e=e?QR:null;break;case Object:case Array:e=e==null?e:JSON.stringify(e)}return e},fromAttribute(e,t){let r=e;switch(t){case Boolean:r=e!==null;break;case Number:r=e===null?null:Number(e);break;case Object:case Array:try{r=JSON.parse(e)}catch{r=null}}return r}},U3=(e,t)=>t!==e&&(t==t||e==e),E1={attribute:!0,type:String,converter:_1,reflect:!1,hasChanged:U3},M1="finalized";class rc extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(t){var r;this.finalize(),((r=this.h)!==null&&r!==void 0?r:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach((r,i)=>{const n=this._$Ep(i,r);n!==void 0&&(this._$Ev.set(n,i),t.push(n))}),t}static createProperty(t,r=E1){if(r.state&&(r.attribute=!1),this.finalize(),this.elementProperties.set(t,r),!r.noAccessor&&!this.prototype.hasOwnProperty(t)){const i=typeof t=="symbol"?Symbol():"__"+t,n=this.getPropertyDescriptor(t,i,r);n!==void 0&&Object.defineProperty(this.prototype,t,n)}}static getPropertyDescriptor(t,r,i){return{get(){return this[r]},set(n){const s=this[t];this[r]=n,this.requestUpdate(t,s,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||E1}static finalize(){if(this.hasOwnProperty(M1))return!1;this[M1]=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),t.h!==void 0&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const r=this.properties,i=[...Object.getOwnPropertyNames(r),...Object.getOwnPropertySymbols(r)];for(const n of i)this.createProperty(n,r[n])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const r=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const n of i)r.unshift(T3(n))}else t!==void 0&&r.push(T3(t));return r}static _$Ep(t,r){const i=r.attribute;return i===!1?void 0:typeof i=="string"?i:typeof t=="string"?t.toLowerCase():void 0}_$Eu(){var t;this._$E_=new Promise(r=>this.enableUpdating=r),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(t=this.constructor.h)===null||t===void 0||t.forEach(r=>r(this))}addController(t){var r,i;((r=this._$ES)!==null&&r!==void 0?r:this._$ES=[]).push(t),this.renderRoot!==void 0&&this.isConnected&&((i=t.hostConnected)===null||i===void 0||i.call(t))}removeController(t){var r;(r=this._$ES)===null||r===void 0||r.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((t,r)=>{this.hasOwnProperty(r)&&(this._$Ei.set(r,this[r]),delete this[r])})}createRenderRoot(){var t;const r=(t=this.shadowRoot)!==null&&t!==void 0?t:this.attachShadow(this.constructor.shadowRootOptions);return GR(r,this.constructor.elementStyles),r}connectedCallback(){var t;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(t=this._$ES)===null||t===void 0||t.forEach(r=>{var i;return(i=r.hostConnected)===null||i===void 0?void 0:i.call(r)})}enableUpdating(t){}disconnectedCallback(){var t;(t=this._$ES)===null||t===void 0||t.forEach(r=>{var i;return(i=r.hostDisconnected)===null||i===void 0?void 0:i.call(r)})}attributeChangedCallback(t,r,i){this._$AK(t,i)}_$EO(t,r,i=E1){var n;const s=this.constructor._$Ep(t,i);if(s!==void 0&&i.reflect===!0){const h=(((n=i.converter)===null||n===void 0?void 0:n.toAttribute)!==void 0?i.converter:_1).toAttribute(r,i.type);this._$El=t,h==null?this.removeAttribute(s):this.setAttribute(s,h),this._$El=null}}_$AK(t,r){var i;const n=this.constructor,s=n._$Ev.get(t);if(s!==void 0&&this._$El!==s){const h=n.getPropertyOptions(s),d=typeof h.converter=="function"?{fromAttribute:h.converter}:((i=h.converter)===null||i===void 0?void 0:i.fromAttribute)!==void 0?h.converter:_1;this._$El=s,this[s]=d.fromAttribute(r,h.type),this._$El=null}}requestUpdate(t,r,i){let n=!0;t!==void 0&&(((i=i||this.constructor.getPropertyOptions(t)).hasChanged||U3)(this[t],r)?(this._$AL.has(t)||this._$AL.set(t,r),i.reflect===!0&&this._$El!==t&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(t,i))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(r){Promise.reject(r)}const t=this.scheduleUpdate();return t!=null&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((n,s)=>this[s]=n),this._$Ei=void 0);let r=!1;const i=this._$AL;try{r=this.shouldUpdate(i),r?(this.willUpdate(i),(t=this._$ES)===null||t===void 0||t.forEach(n=>{var s;return(s=n.hostUpdate)===null||s===void 0?void 0:s.call(n)}),this.update(i)):this._$Ek()}catch(n){throw r=!1,this._$Ek(),n}r&&this._$AE(i)}willUpdate(t){}_$AE(t){var r;(r=this._$ES)===null||r===void 0||r.forEach(i=>{var n;return(n=i.hostUpdated)===null||n===void 0?void 0:n.call(i)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){this._$EC!==void 0&&(this._$EC.forEach((r,i)=>this._$EO(i,this[i],r)),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}}rc[M1]=!0,rc.elementProperties=new Map,rc.elementStyles=[],rc.shadowRootOptions={mode:"open"},B3?.({ReactiveElement:rc}),((A1=Nl.reactiveElementVersions)!==null&&A1!==void 0?A1:Nl.reactiveElementVersions=[]).push("1.6.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var S1;const Pl=window,ic=Pl.trustedTypes,L3=ic?ic.createPolicy("lit-html",{createHTML:e=>e}):void 0,I1="$lit$",ho=`lit$${(Math.random()+"").slice(9)}$`,F3="?"+ho,YR=`<${F3}>`,Vo=document,xh=()=>Vo.createComment(""),Ch=e=>e===null||typeof e!="object"&&typeof e!="function",k3=Array.isArray,JR=e=>k3(e)||typeof e?.[Symbol.iterator]=="function",x1=`[ 	
\f\r]`,Dh=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,j3=/-->/g,q3=/>/g,Go=RegExp(`>|${x1}(?:([^\\s"'>=/]+)(${x1}*=${x1}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),z3=/'/g,H3=/"/g,K3=/^(?:script|style|textarea|title)$/i,W3=e=>(t,...r)=>({_$litType$:e,strings:t,values:r}),Gt=W3(1),Ar=W3(2),Qo=Symbol.for("lit-noChange"),Rr=Symbol.for("lit-nothing"),V3=new WeakMap,Yo=Vo.createTreeWalker(Vo,129,null,!1);function G3(e,t){if(!Array.isArray(e)||!e.hasOwnProperty("raw"))throw Error("invalid template strings array");return L3!==void 0?L3.createHTML(t):t}const ZR=(e,t)=>{const r=e.length-1,i=[];let n,s=t===2?"<svg>":"",h=Dh;for(let d=0;d<r;d++){const g=e[d];let p,_,S=-1,D=0;for(;D<g.length&&(h.lastIndex=D,_=h.exec(g),_!==null);)D=h.lastIndex,h===Dh?_[1]==="!--"?h=j3:_[1]!==void 0?h=q3:_[2]!==void 0?(K3.test(_[2])&&(n=RegExp("</"+_[2],"g")),h=Go):_[3]!==void 0&&(h=Go):h===Go?_[0]===">"?(h=n??Dh,S=-1):_[1]===void 0?S=-2:(S=h.lastIndex-_[2].length,p=_[1],h=_[3]===void 0?Go:_[3]==='"'?H3:z3):h===H3||h===z3?h=Go:h===j3||h===q3?h=Dh:(h=Go,n=void 0);const O=h===Go&&e[d+1].startsWith("/>")?" ":"";s+=h===Dh?g+YR:S>=0?(i.push(p),g.slice(0,S)+I1+g.slice(S)+ho+O):g+ho+(S===-2?(i.push(void 0),d):O)}return[G3(e,s+(e[r]||"<?>")+(t===2?"</svg>":"")),i]};class Oh{constructor({strings:t,_$litType$:r},i){let n;this.parts=[];let s=0,h=0;const d=t.length-1,g=this.parts,[p,_]=ZR(t,r);if(this.el=Oh.createElement(p,i),Yo.currentNode=this.el.content,r===2){const S=this.el.content,D=S.firstChild;D.remove(),S.append(...D.childNodes)}for(;(n=Yo.nextNode())!==null&&g.length<d;){if(n.nodeType===1){if(n.hasAttributes()){const S=[];for(const D of n.getAttributeNames())if(D.endsWith(I1)||D.startsWith(ho)){const O=_[h++];if(S.push(D),O!==void 0){const N=n.getAttribute(O.toLowerCase()+I1).split(ho),L=/([.?@])?(.*)/.exec(O);g.push({type:1,index:s,name:L[2],strings:N,ctor:L[1]==="."?tT:L[1]==="?"?rT:L[1]==="@"?iT:Rl})}else g.push({type:6,index:s})}for(const D of S)n.removeAttribute(D)}if(K3.test(n.tagName)){const S=n.textContent.split(ho),D=S.length-1;if(D>0){n.textContent=ic?ic.emptyScript:"";for(let O=0;O<D;O++)n.append(S[O],xh()),Yo.nextNode(),g.push({type:2,index:++s});n.append(S[D],xh())}}}else if(n.nodeType===8)if(n.data===F3)g.push({type:2,index:s});else{let S=-1;for(;(S=n.data.indexOf(ho,S+1))!==-1;)g.push({type:7,index:s}),S+=ho.length-1}s++}}static createElement(t,r){const i=Vo.createElement("template");return i.innerHTML=t,i}}function nc(e,t,r=e,i){var n,s,h,d;if(t===Qo)return t;let g=i!==void 0?(n=r._$Co)===null||n===void 0?void 0:n[i]:r._$Cl;const p=Ch(t)?void 0:t._$litDirective$;return g?.constructor!==p&&((s=g?._$AO)===null||s===void 0||s.call(g,!1),p===void 0?g=void 0:(g=new p(e),g._$AT(e,r,i)),i!==void 0?((h=(d=r)._$Co)!==null&&h!==void 0?h:d._$Co=[])[i]=g:r._$Cl=g),g!==void 0&&(t=nc(e,g._$AS(e,t.values),g,i)),t}class XR{constructor(t,r){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var r;const{el:{content:i},parts:n}=this._$AD,s=((r=t?.creationScope)!==null&&r!==void 0?r:Vo).importNode(i,!0);Yo.currentNode=s;let h=Yo.nextNode(),d=0,g=0,p=n[0];for(;p!==void 0;){if(d===p.index){let _;p.type===2?_=new Nh(h,h.nextSibling,this,t):p.type===1?_=new p.ctor(h,p.name,p.strings,this,t):p.type===6&&(_=new nT(h,this,t)),this._$AV.push(_),p=n[++g]}d!==p?.index&&(h=Yo.nextNode(),d++)}return Yo.currentNode=Vo,s}v(t){let r=0;for(const i of this._$AV)i!==void 0&&(i.strings!==void 0?(i._$AI(t,i,r),r+=i.strings.length-2):i._$AI(t[r])),r++}}class Nh{constructor(t,r,i,n){var s;this.type=2,this._$AH=Rr,this._$AN=void 0,this._$AA=t,this._$AB=r,this._$AM=i,this.options=n,this._$Cp=(s=n?.isConnected)===null||s===void 0||s}get _$AU(){var t,r;return(r=(t=this._$AM)===null||t===void 0?void 0:t._$AU)!==null&&r!==void 0?r:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&t?.nodeType===11&&(t=r.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,r=this){t=nc(this,t,r),Ch(t)?t===Rr||t==null||t===""?(this._$AH!==Rr&&this._$AR(),this._$AH=Rr):t!==this._$AH&&t!==Qo&&this._(t):t._$litType$!==void 0?this.g(t):t.nodeType!==void 0?this.$(t):JR(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==Rr&&Ch(this._$AH)?this._$AA.nextSibling.data=t:this.$(Vo.createTextNode(t)),this._$AH=t}g(t){var r;const{values:i,_$litType$:n}=t,s=typeof n=="number"?this._$AC(t):(n.el===void 0&&(n.el=Oh.createElement(G3(n.h,n.h[0]),this.options)),n);if(((r=this._$AH)===null||r===void 0?void 0:r._$AD)===s)this._$AH.v(i);else{const h=new XR(s,this),d=h.u(this.options);h.v(i),this.$(d),this._$AH=h}}_$AC(t){let r=V3.get(t.strings);return r===void 0&&V3.set(t.strings,r=new Oh(t)),r}T(t){k3(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let i,n=0;for(const s of t)n===r.length?r.push(i=new Nh(this.k(xh()),this.k(xh()),this,this.options)):i=r[n],i._$AI(s),n++;n<r.length&&(this._$AR(i&&i._$AB.nextSibling,n),r.length=n)}_$AR(t=this._$AA.nextSibling,r){var i;for((i=this._$AP)===null||i===void 0||i.call(this,!1,!0,r);t&&t!==this._$AB;){const n=t.nextSibling;t.remove(),t=n}}setConnected(t){var r;this._$AM===void 0&&(this._$Cp=t,(r=this._$AP)===null||r===void 0||r.call(this,t))}}class Rl{constructor(t,r,i,n,s){this.type=1,this._$AH=Rr,this._$AN=void 0,this.element=t,this.name=r,this._$AM=n,this.options=s,i.length>2||i[0]!==""||i[1]!==""?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=Rr}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,r=this,i,n){const s=this.strings;let h=!1;if(s===void 0)t=nc(this,t,r,0),h=!Ch(t)||t!==this._$AH&&t!==Qo,h&&(this._$AH=t);else{const d=t;let g,p;for(t=s[0],g=0;g<s.length-1;g++)p=nc(this,d[i+g],r,g),p===Qo&&(p=this._$AH[g]),h||(h=!Ch(p)||p!==this._$AH[g]),p===Rr?t=Rr:t!==Rr&&(t+=(p??"")+s[g+1]),this._$AH[g]=p}h&&!n&&this.j(t)}j(t){t===Rr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class tT extends Rl{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===Rr?void 0:t}}const eT=ic?ic.emptyScript:"";class rT extends Rl{constructor(){super(...arguments),this.type=4}j(t){t&&t!==Rr?this.element.setAttribute(this.name,eT):this.element.removeAttribute(this.name)}}class iT extends Rl{constructor(t,r,i,n,s){super(t,r,i,n,s),this.type=5}_$AI(t,r=this){var i;if((t=(i=nc(this,t,r,0))!==null&&i!==void 0?i:Rr)===Qo)return;const n=this._$AH,s=t===Rr&&n!==Rr||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,h=t!==Rr&&(n===Rr||s);s&&this.element.removeEventListener(this.name,this,n),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var r,i;typeof this._$AH=="function"?this._$AH.call((i=(r=this.options)===null||r===void 0?void 0:r.host)!==null&&i!==void 0?i:this.element,t):this._$AH.handleEvent(t)}}class nT{constructor(t,r,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=r,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){nc(this,t)}}const Q3=Pl.litHtmlPolyfillSupport;Q3?.(Oh,Nh),((S1=Pl.litHtmlVersions)!==null&&S1!==void 0?S1:Pl.litHtmlVersions=[]).push("2.8.0");const sT=(e,t,r)=>{var i,n;const s=(i=r?.renderBefore)!==null&&i!==void 0?i:t;let h=s._$litPart$;if(h===void 0){const d=(n=r?.renderBefore)!==null&&n!==void 0?n:null;s._$litPart$=h=new Nh(t.insertBefore(xh(),d),d,void 0,r??{})}return h._$AI(e),h};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var C1,D1;class Oe extends rc{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,r;const i=super.createRenderRoot();return(t=(r=this.renderOptions).renderBefore)!==null&&t!==void 0||(r.renderBefore=i.firstChild),i}update(t){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=sT(r,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),(t=this._$Do)===null||t===void 0||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),(t=this._$Do)===null||t===void 0||t.setConnected(!1)}render(){return Qo}}Oe.finalized=!0,Oe._$litElement$=!0,(C1=globalThis.litElementHydrateSupport)===null||C1===void 0||C1.call(globalThis,{LitElement:Oe});const Y3=globalThis.litElementPolyfillSupport;Y3?.({LitElement:Oe}),((D1=globalThis.litElementVersions)!==null&&D1!==void 0?D1:globalThis.litElementVersions=[]).push("3.3.3");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const je=e=>t=>typeof t=="function"?((r,i)=>(customElements.define(r,i),i))(e,t):((r,i)=>{const{kind:n,elements:s}=i;return{kind:n,elements:s,finisher(h){customElements.define(r,h)}}})(e,t);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const oT=(e,t)=>t.kind==="method"&&t.descriptor&&!("value"in t.descriptor)?{...t,finisher(r){r.createProperty(t.key,e)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:t.key,initializer(){typeof t.initializer=="function"&&(this[t.key]=t.initializer.call(this))},finisher(r){r.createProperty(t.key,e)}},aT=(e,t,r)=>{t.constructor.createProperty(r,e)};function _e(e){return(t,r)=>r!==void 0?aT(e,t,r):oT(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function Bi(e){return _e({...e,state:!0})}/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var O1;((O1=window.HTMLSlotElement)===null||O1===void 0?void 0:O1.prototype.assignedElements)!=null;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const cT={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},hT=e=>(...t)=>({_$litDirective$:e,values:t});class uT{constructor(t){}get _$AU(){return this._$AM._$AU}_$AT(t,r,i){this._$Ct=t,this._$AM=r,this._$Ci=i}_$AS(t,r){return this.update(t,r)}update(t,r){return this.render(...r)}}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Bs=hT(class extends uT{constructor(e){var t;if(super(e),e.type!==cT.ATTRIBUTE||e.name!=="class"||((t=e.strings)===null||t===void 0?void 0:t.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(e){return" "+Object.keys(e).filter(t=>e[t]).join(" ")+" "}update(e,[t]){var r,i;if(this.it===void 0){this.it=new Set,e.strings!==void 0&&(this.nt=new Set(e.strings.join(" ").split(/\s/).filter(s=>s!=="")));for(const s in t)t[s]&&!(!((r=this.nt)===null||r===void 0)&&r.has(s))&&this.it.add(s);return this.render(t)}const n=e.element.classList;this.it.forEach(s=>{s in t||(n.remove(s),this.it.delete(s))});for(const s in t){const h=!!t[s];h===this.it.has(s)||!((i=this.nt)===null||i===void 0)&&i.has(s)||(h?(n.add(s),this.it.add(s)):(n.remove(s),this.it.delete(s)))}return Qo}});function lT(e,t){e.indexOf(t)===-1&&e.push(t)}const J3=(e,t,r)=>Math.min(Math.max(r,e),t),gn={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},Tl=e=>typeof e=="number",sc=e=>Array.isArray(e)&&!Tl(e[0]),fT=(e,t,r)=>{const i=t-e;return((r-e)%i+i)%i+e};function dT(e,t){return sc(e)?e[fT(0,e.length,t)]:e}const Z3=(e,t,r)=>-r*e+r*t+e,X3=()=>{},uo=e=>e,N1=(e,t,r)=>t-e===0?1:(r-e)/(t-e);function tb(e,t){const r=e[e.length-1];for(let i=1;i<=t;i++){const n=N1(0,t,i);e.push(Z3(r,1,n))}}function pT(e){const t=[0];return tb(t,e-1),t}function gT(e,t=pT(e.length),r=uo){const i=e.length,n=i-t.length;return n>0&&tb(t,n),s=>{let h=0;for(;h<i-2&&!(s<t[h+1]);h++);let d=J3(0,1,N1(t[h],t[h+1],s));return d=dT(r,h)(d),Z3(e[h],e[h+1],d)}}const eb=e=>Array.isArray(e)&&Tl(e[0]),P1=e=>typeof e=="object"&&!!e.createAnimation,Jo=e=>typeof e=="function",mT=e=>typeof e=="string",Ph={ms:e=>e*1e3,s:e=>e/1e3},rb=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,vT=1e-7,wT=12;function yT(e,t,r,i,n){let s,h,d=0;do h=t+(r-t)/2,s=rb(h,i,n)-e,s>0?r=h:t=h;while(Math.abs(s)>vT&&++d<wT);return h}function Rh(e,t,r,i){if(e===t&&r===i)return uo;const n=s=>yT(s,0,1,e,r);return s=>s===0||s===1?s:rb(n(s),t,i)}const bT=(e,t="end")=>r=>{r=t==="end"?Math.min(r,.999):Math.max(r,.001);const i=r*e,n=t==="end"?Math.floor(i):Math.ceil(i);return J3(0,1,n/e)},AT={ease:Rh(.25,.1,.25,1),"ease-in":Rh(.42,0,1,1),"ease-in-out":Rh(.42,0,.58,1),"ease-out":Rh(0,0,.58,1)},_T=/\((.*?)\)/;function ib(e){if(Jo(e))return e;if(eb(e))return Rh(...e);const t=AT[e];if(t)return t;if(e.startsWith("steps")){const r=_T.exec(e);if(r){const i=r[1].split(",");return bT(parseFloat(i[0]),i[1].trim())}}return uo}class nb{constructor(t,r=[0,1],{easing:i,duration:n=gn.duration,delay:s=gn.delay,endDelay:h=gn.endDelay,repeat:d=gn.repeat,offset:g,direction:p="normal",autoplay:_=!0}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=uo,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((D,O)=>{this.resolve=D,this.reject=O}),i=i||gn.easing,P1(i)){const D=i.createAnimation(r);i=D.easing,r=D.keyframes||r,n=D.duration||n}this.repeat=d,this.easing=sc(i)?uo:ib(i),this.updateDuration(n);const S=gT(r,g,sc(i)?i.map(ib):uo);this.tick=D=>{var O;s=s;let N=0;this.pauseTime!==void 0?N=this.pauseTime:N=(D-this.startTime)*this.rate,this.t=N,N/=1e3,N=Math.max(N-s,0),this.playState==="finished"&&this.pauseTime===void 0&&(N=this.totalDuration);const L=N/this.duration;let z=Math.floor(L),G=L%1;!G&&L>=1&&(G=1),G===1&&z--;const q=z%2;(p==="reverse"||p==="alternate"&&q||p==="alternate-reverse"&&!q)&&(G=1-G);const W=N>=this.totalDuration?1:Math.min(G,1),B=S(this.easing(W));t(B),this.pauseTime===void 0&&(this.playState==="finished"||N>=this.totalDuration+h)?(this.playState="finished",(O=this.resolve)===null||O===void 0||O.call(this,B)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},_&&this.play()}play(){const t=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=t-this.pauseTime:this.startTime||(this.startTime=t),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var t;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(t=this.reject)===null||t===void 0||t.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(t){this.duration=t,this.totalDuration=t*(this.repeat+1)}get currentTime(){return this.t}set currentTime(t){this.pauseTime!==void 0||this.rate===0?this.pauseTime=t:this.startTime=performance.now()-t/this.rate}get playbackRate(){return this.rate}set playbackRate(t){this.rate=t}}var R1=function(){};process.env.NODE_ENV!=="production"&&(R1=function(e,t){if(!e)throw new Error(t)});class ET{setAnimation(t){this.animation=t,t?.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const T1=new WeakMap;function sb(e){return T1.has(e)||T1.set(e,{transforms:[],values:new Map}),T1.get(e)}function MT(e,t){return e.has(t)||e.set(t,new ET),e.get(t)}const ST=["","X","Y","Z"],IT=["translate","scale","rotate","skew"],$l={x:"translateX",y:"translateY",z:"translateZ"},ob={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:e=>e+"deg"},xT={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:e=>e+"px"},rotate:ob,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:uo},skew:ob},Th=new Map,$1=e=>`--motion-${e}`,Bl=["x","y","z"];IT.forEach(e=>{ST.forEach(t=>{Bl.push(e+t),Th.set($1(e+t),xT[e])})});const CT=(e,t)=>Bl.indexOf(e)-Bl.indexOf(t),DT=new Set(Bl),ab=e=>DT.has(e),OT=(e,t)=>{$l[t]&&(t=$l[t]);const{transforms:r}=sb(e);lT(r,t),e.style.transform=NT(r)},NT=e=>e.sort(CT).reduce(PT,"").trim(),PT=(e,t)=>`${e} ${t}(var(${$1(t)}))`,B1=e=>e.startsWith("--"),cb=new Set;function RT(e){if(!cb.has(e)){cb.add(e);try{const{syntax:t,initialValue:r}=Th.has(e)?Th.get(e):{};CSS.registerProperty({name:e,inherits:!1,syntax:t,initialValue:r})}catch{}}}const U1=(e,t)=>document.createElement("div").animate(e,t),hb={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{U1({opacity:[1]})}catch{return!1}return!0},finished:()=>!!U1({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{U1({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},L1={},oc={};for(const e in hb)oc[e]=()=>(L1[e]===void 0&&(L1[e]=hb[e]()),L1[e]);const TT=.015,$T=(e,t)=>{let r="";const i=Math.round(t/TT);for(let n=0;n<i;n++)r+=e(N1(0,i-1,n))+", ";return r.substring(0,r.length-2)},ub=(e,t)=>Jo(e)?oc.linearEasing()?`linear(${$T(e,t)})`:gn.easing:eb(e)?BT(e):e,BT=([e,t,r,i])=>`cubic-bezier(${e}, ${t}, ${r}, ${i})`;function UT(e,t){for(let r=0;r<e.length;r++)e[r]===null&&(e[r]=r?e[r-1]:t());return e}const LT=e=>Array.isArray(e)?e:[e];function F1(e){return $l[e]&&(e=$l[e]),ab(e)?$1(e):e}const Ul={get:(e,t)=>{t=F1(t);let r=B1(t)?e.style.getPropertyValue(t):getComputedStyle(e)[t];if(!r&&r!==0){const i=Th.get(t);i&&(r=i.initialValue)}return r},set:(e,t,r)=>{t=F1(t),B1(t)?e.style.setProperty(t,r):e.style[t]=r}};function lb(e,t=!0){if(!(!e||e.playState==="finished"))try{e.stop?e.stop():(t&&e.commitStyles(),e.cancel())}catch{}}function FT(e,t){var r;let i=t?.toDefaultUnit||uo;const n=e[e.length-1];if(mT(n)){const s=((r=n.match(/(-?[\d.]+)([a-z%]*)/))===null||r===void 0?void 0:r[2])||"";s&&(i=h=>h+s)}return i}function kT(){return window.__MOTION_DEV_TOOLS_RECORD}function jT(e,t,r,i={},n){const s=kT(),h=i.record!==!1&&s;let d,{duration:g=gn.duration,delay:p=gn.delay,endDelay:_=gn.endDelay,repeat:S=gn.repeat,easing:D=gn.easing,persist:O=!1,direction:N,offset:L,allowWebkitAcceleration:z=!1,autoplay:G=!0}=i;const q=sb(e),W=ab(t);let B=oc.waapi();W&&OT(e,t);const k=F1(t),j=MT(q.values,k),I=Th.get(k);return lb(j.animation,!(P1(D)&&j.generator)&&i.record!==!1),()=>{const U=()=>{var Z,ut;return(ut=(Z=Ul.get(e,k))!==null&&Z!==void 0?Z:I?.initialValue)!==null&&ut!==void 0?ut:0};let et=UT(LT(r),U);const ct=FT(et,I);if(P1(D)){const Z=D.createAnimation(et,t!=="opacity",U,k,j);D=Z.easing,et=Z.keyframes||et,g=Z.duration||g}if(B1(k)&&(oc.cssRegisterProperty()?RT(k):B=!1),W&&!oc.linearEasing()&&(Jo(D)||sc(D)&&D.some(Jo))&&(B=!1),B){I&&(et=et.map(o=>Tl(o)?I.toDefaultUnit(o):o)),et.length===1&&(!oc.partialKeyframes()||h)&&et.unshift(U());const Z={delay:Ph.ms(p),duration:Ph.ms(g),endDelay:Ph.ms(_),easing:sc(D)?void 0:ub(D,g),direction:N,iterations:S+1,fill:"both"};d=e.animate({[k]:et,offset:L,easing:sc(D)?D.map(o=>ub(o,g)):void 0},Z),d.finished||(d.finished=new Promise((o,u)=>{d.onfinish=o,d.oncancel=u}));const ut=et[et.length-1];d.finished.then(()=>{O||(Ul.set(e,k,ut),d.cancel())}).catch(X3),z||(d.playbackRate=1.000001)}else if(n&&W)et=et.map(Z=>typeof Z=="string"?parseFloat(Z):Z),et.length===1&&et.unshift(parseFloat(U())),d=new n(Z=>{Ul.set(e,k,ct?ct(Z):Z)},et,Object.assign(Object.assign({},i),{duration:g,easing:D}));else{const Z=et[et.length-1];Ul.set(e,k,I&&Tl(Z)?I.toDefaultUnit(Z):Z)}return h&&s(e,t,et,{duration:g,delay:p,easing:D,repeat:S,offset:L},"motion-one"),j.setAnimation(d),d&&!G&&d.pause(),d}}const qT=(e,t)=>e[t]?Object.assign(Object.assign({},e),e[t]):Object.assign({},e);function fb(e,t){var r;return typeof e=="string"?t?((r=t[e])!==null&&r!==void 0||(t[e]=document.querySelectorAll(e)),e=t[e]):e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}const zT=e=>e(),db=(e,t,r=gn.duration)=>new Proxy({animations:e.map(zT).filter(Boolean),duration:r,options:t},KT),HT=e=>e.animations[0],KT={get:(e,t)=>{const r=HT(e);switch(t){case"duration":return e.duration;case"currentTime":return Ph.s(r?.[t]||0);case"playbackRate":case"playState":return r?.[t];case"finished":return e.finished||(e.finished=Promise.all(e.animations.map(WT)).catch(X3)),e.finished;case"stop":return()=>{e.animations.forEach(i=>lb(i))};case"forEachNative":return i=>{e.animations.forEach(n=>i(n,e))};default:return typeof r?.[t]>"u"?void 0:()=>e.animations.forEach(i=>i[t]())}},set:(e,t,r)=>{switch(t){case"currentTime":r=Ph.ms(r);case"playbackRate":for(let i=0;i<e.animations.length;i++)e.animations[i][t]=r;return!0}return!1}},WT=e=>e.finished;function VT(e,t,r){return Jo(e)?e(t,r):e}function GT(e){return function(r,i,n={}){r=fb(r);const s=r.length;R1(!!s,"No valid element provided."),R1(!!i,"No keyframes defined.");const h=[];for(let d=0;d<s;d++){const g=r[d];for(const p in i){const _=qT(n,p);_.delay=VT(_.delay,d,s);const S=jT(g,p,i[p],_,e);h.push(S)}}return db(h,n,n.duration)}}const QT=GT(nb);function YT(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&Object.prototype.propertyIsEnumerable.call(e,i[n])&&(r[i[n]]=e[i[n]]);return r}typeof SuppressedError=="function"&&SuppressedError;const JT={any:0,all:1};function ZT(e,t,{root:r,margin:i,amount:n="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const s=fb(e),h=new WeakMap,d=p=>{p.forEach(_=>{const S=h.get(_.target);if(_.isIntersecting!==!!S)if(_.isIntersecting){const D=t(_);Jo(D)?h.set(_.target,D):g.unobserve(_.target)}else S&&(S(_),h.delete(_.target))})},g=new IntersectionObserver(d,{root:r,rootMargin:i,threshold:typeof n=="number"?n:JT[n]});return s.forEach(p=>g.observe(p)),()=>g.disconnect()}function k1(e,t,r){e.dispatchEvent(new CustomEvent(t,{detail:{originalEvent:r}}))}function pb(e,t,r){e.dispatchEvent(new CustomEvent(t,{detail:{originalEntry:r}}))}const XT={isActive:e=>!!e.inView,subscribe:(e,{enable:t,disable:r},{inViewOptions:i={}})=>{const{once:n}=i,s=YT(i,["once"]);return ZT(e,h=>{if(t(),pb(e,"viewenter",h),!n)return d=>{r(),pb(e,"viewleave",d)}},s)}},gb=(e,t,r)=>i=>{i.pointerType&&i.pointerType!=="mouse"||(r(),k1(e,t,i))};[...Object.keys({inView:XT,hover:{isActive:e=>!!e.hover,subscribe:(e,{enable:t,disable:r})=>{const i=gb(e,"hoverstart",t),n=gb(e,"hoverend",r);return e.addEventListener("pointerenter",i),e.addEventListener("pointerleave",n),()=>{e.removeEventListener("pointerenter",i),e.removeEventListener("pointerleave",n)}}},press:{isActive:e=>!!e.press,subscribe:(e,{enable:t,disable:r})=>{const i=s=>{r(),k1(e,"pressend",s),window.removeEventListener("pointerup",i)},n=s=>{t(),k1(e,"pressstart",s),window.addEventListener("pointerup",i)};return e.addEventListener("pointerdown",n),()=>{e.removeEventListener("pointerdown",n),window.removeEventListener("pointerup",i)}}}})];function t$(e,t={}){return db([()=>{const r=new nb(e,[0,1],t);return r.finished.catch(()=>{}),r}],t,t.duration)}function Zo(e,t,r){return(Jo(e)?t$:QT)(e,t,r)}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const pi=e=>e??Rr;var $h={},e$=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},mb={},Qi={};let j1;const r$=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Qi.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17},Qi.getSymbolTotalCodewords=function(t){return r$[t]},Qi.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t},Qi.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');j1=t},Qi.isKanjiModeEnabled=function(){return typeof j1<"u"},Qi.toSJIS=function(t){return j1(t)};var Ll={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+r)}}e.isValid=function(i){return i&&typeof i.bit<"u"&&i.bit>=0&&i.bit<4},e.from=function(i,n){if(e.isValid(i))return i;try{return t(i)}catch{return n}}})(Ll);function vb(){this.buffer=[],this.length=0}vb.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let r=0;r<t;r++)this.putBit((e>>>t-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var i$=vb;function Bh(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}Bh.prototype.set=function(e,t,r,i){const n=e*this.size+t;this.data[n]=r,i&&(this.reservedBit[n]=!0)},Bh.prototype.get=function(e,t){return this.data[e*this.size+t]},Bh.prototype.xor=function(e,t,r){this.data[e*this.size+t]^=r},Bh.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var n$=Bh,wb={};(function(e){const t=Qi.getSymbolSize;e.getRowColCoords=function(i){if(i===1)return[];const n=Math.floor(i/7)+2,s=t(i),h=s===145?26:Math.ceil((s-13)/(2*n-2))*2,d=[s-7];for(let g=1;g<n-1;g++)d[g]=d[g-1]-h;return d.push(6),d.reverse()},e.getPositions=function(i){const n=[],s=e.getRowColCoords(i),h=s.length;for(let d=0;d<h;d++)for(let g=0;g<h;g++)d===0&&g===0||d===0&&g===h-1||d===h-1&&g===0||n.push([s[d],s[g]]);return n}})(wb);var yb={};const s$=Qi.getSymbolSize,bb=7;yb.getPositions=function(t){const r=s$(t);return[[0,0],[r-bb,0],[0,r-bb]]};var Ab={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(n){return n!=null&&n!==""&&!isNaN(n)&&n>=0&&n<=7},e.from=function(n){return e.isValid(n)?parseInt(n,10):void 0},e.getPenaltyN1=function(n){const s=n.size;let h=0,d=0,g=0,p=null,_=null;for(let S=0;S<s;S++){d=g=0,p=_=null;for(let D=0;D<s;D++){let O=n.get(S,D);O===p?d++:(d>=5&&(h+=t.N1+(d-5)),p=O,d=1),O=n.get(D,S),O===_?g++:(g>=5&&(h+=t.N1+(g-5)),_=O,g=1)}d>=5&&(h+=t.N1+(d-5)),g>=5&&(h+=t.N1+(g-5))}return h},e.getPenaltyN2=function(n){const s=n.size;let h=0;for(let d=0;d<s-1;d++)for(let g=0;g<s-1;g++){const p=n.get(d,g)+n.get(d,g+1)+n.get(d+1,g)+n.get(d+1,g+1);(p===4||p===0)&&h++}return h*t.N2},e.getPenaltyN3=function(n){const s=n.size;let h=0,d=0,g=0;for(let p=0;p<s;p++){d=g=0;for(let _=0;_<s;_++)d=d<<1&2047|n.get(p,_),_>=10&&(d===1488||d===93)&&h++,g=g<<1&2047|n.get(_,p),_>=10&&(g===1488||g===93)&&h++}return h*t.N3},e.getPenaltyN4=function(n){let s=0;const h=n.data.length;for(let g=0;g<h;g++)s+=n.data[g];return Math.abs(Math.ceil(s*100/h/5)-10)*t.N4};function r(i,n,s){switch(i){case e.Patterns.PATTERN000:return(n+s)%2===0;case e.Patterns.PATTERN001:return n%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(n+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return n*s%2+n*s%3===0;case e.Patterns.PATTERN110:return(n*s%2+n*s%3)%2===0;case e.Patterns.PATTERN111:return(n*s%3+(n+s)%2)%2===0;default:throw new Error("bad maskPattern:"+i)}}e.applyMask=function(n,s){const h=s.size;for(let d=0;d<h;d++)for(let g=0;g<h;g++)s.isReserved(g,d)||s.xor(g,d,r(n,g,d))},e.getBestMask=function(n,s){const h=Object.keys(e.Patterns).length;let d=0,g=1/0;for(let p=0;p<h;p++){s(p),e.applyMask(p,n);const _=e.getPenaltyN1(n)+e.getPenaltyN2(n)+e.getPenaltyN3(n)+e.getPenaltyN4(n);e.applyMask(p,n),_<g&&(g=_,d=p)}return d}})(Ab);var Fl={};const lo=Ll,kl=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],jl=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Fl.getBlocksCount=function(t,r){switch(r){case lo.L:return kl[(t-1)*4+0];case lo.M:return kl[(t-1)*4+1];case lo.Q:return kl[(t-1)*4+2];case lo.H:return kl[(t-1)*4+3];default:return}},Fl.getTotalCodewordsCount=function(t,r){switch(r){case lo.L:return jl[(t-1)*4+0];case lo.M:return jl[(t-1)*4+1];case lo.Q:return jl[(t-1)*4+2];case lo.H:return jl[(t-1)*4+3];default:return}};var _b={},ql={};const Uh=new Uint8Array(512),zl=new Uint8Array(256);(function(){let t=1;for(let r=0;r<255;r++)Uh[r]=t,zl[t]=r,t<<=1,t&256&&(t^=285);for(let r=255;r<512;r++)Uh[r]=Uh[r-255]})(),ql.log=function(t){if(t<1)throw new Error("log("+t+")");return zl[t]},ql.exp=function(t){return Uh[t]},ql.mul=function(t,r){return t===0||r===0?0:Uh[zl[t]+zl[r]]},function(e){const t=ql;e.mul=function(i,n){const s=new Uint8Array(i.length+n.length-1);for(let h=0;h<i.length;h++)for(let d=0;d<n.length;d++)s[h+d]^=t.mul(i[h],n[d]);return s},e.mod=function(i,n){let s=new Uint8Array(i);for(;s.length-n.length>=0;){const h=s[0];for(let g=0;g<n.length;g++)s[g]^=t.mul(n[g],h);let d=0;for(;d<s.length&&s[d]===0;)d++;s=s.slice(d)}return s},e.generateECPolynomial=function(i){let n=new Uint8Array([1]);for(let s=0;s<i;s++)n=e.mul(n,new Uint8Array([1,t.exp(s)]));return n}}(_b);const Eb=_b;function q1(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}q1.prototype.initialize=function(t){this.degree=t,this.genPoly=Eb.generateECPolynomial(this.degree)},q1.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const r=new Uint8Array(t.length+this.degree);r.set(t);const i=Eb.mod(r,this.genPoly),n=this.degree-i.length;if(n>0){const s=new Uint8Array(this.degree);return s.set(i,n),s}return i};var o$=q1,Mb={},fo={},z1={};z1.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var gs={};const Sb="[0-9]+",a$="[A-Z $%*+\\-./:]+";let Lh="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Lh=Lh.replace(/u/g,"\\u");const c$="(?:(?![A-Z0-9 $%*+\\-./:]|"+Lh+`)(?:.|[\r
]))+`;gs.KANJI=new RegExp(Lh,"g"),gs.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),gs.BYTE=new RegExp(c$,"g"),gs.NUMERIC=new RegExp(Sb,"g"),gs.ALPHANUMERIC=new RegExp(a$,"g");const h$=new RegExp("^"+Lh+"$"),u$=new RegExp("^"+Sb+"$"),l$=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");gs.testKanji=function(t){return h$.test(t)},gs.testNumeric=function(t){return u$.test(t)},gs.testAlphanumeric=function(t){return l$.test(t)},function(e){const t=z1,r=gs;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,h){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(h))throw new Error("Invalid version: "+h);return h>=1&&h<10?s.ccBits[0]:h<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return r.testNumeric(s)?e.NUMERIC:r.testAlphanumeric(s)?e.ALPHANUMERIC:r.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function i(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+n)}}e.from=function(s,h){if(e.isValid(s))return s;try{return i(s)}catch{return h}}}(fo),function(e){const t=Qi,r=Fl,i=Ll,n=fo,s=z1,h=7973,d=t.getBCHDigit(h);function g(D,O,N){for(let L=1;L<=40;L++)if(O<=e.getCapacity(L,N,D))return L}function p(D,O){return n.getCharCountIndicator(D,O)+4}function _(D,O){let N=0;return D.forEach(function(L){const z=p(L.mode,O);N+=z+L.getBitsLength()}),N}function S(D,O){for(let N=1;N<=40;N++)if(_(D,N)<=e.getCapacity(N,O,n.MIXED))return N}e.from=function(O,N){return s.isValid(O)?parseInt(O,10):N},e.getCapacity=function(O,N,L){if(!s.isValid(O))throw new Error("Invalid QR Code version");typeof L>"u"&&(L=n.BYTE);const z=t.getSymbolTotalCodewords(O),G=r.getTotalCodewordsCount(O,N),q=(z-G)*8;if(L===n.MIXED)return q;const W=q-p(L,O);switch(L){case n.NUMERIC:return Math.floor(W/10*3);case n.ALPHANUMERIC:return Math.floor(W/11*2);case n.KANJI:return Math.floor(W/13);case n.BYTE:default:return Math.floor(W/8)}},e.getBestVersionForData=function(O,N){let L;const z=i.from(N,i.M);if(Array.isArray(O)){if(O.length>1)return S(O,z);if(O.length===0)return 1;L=O[0]}else L=O;return g(L.mode,L.getLength(),z)},e.getEncodedBits=function(O){if(!s.isValid(O)||O<7)throw new Error("Invalid QR Code version");let N=O<<12;for(;t.getBCHDigit(N)-d>=0;)N^=h<<t.getBCHDigit(N)-d;return O<<12|N}}(Mb);var Ib={};const H1=Qi,xb=1335,f$=21522,Cb=H1.getBCHDigit(xb);Ib.getEncodedBits=function(t,r){const i=t.bit<<3|r;let n=i<<10;for(;H1.getBCHDigit(n)-Cb>=0;)n^=xb<<H1.getBCHDigit(n)-Cb;return(i<<10|n)^f$};var Db={};const d$=fo;function ac(e){this.mode=d$.NUMERIC,this.data=e.toString()}ac.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)},ac.prototype.getLength=function(){return this.data.length},ac.prototype.getBitsLength=function(){return ac.getBitsLength(this.data.length)},ac.prototype.write=function(t){let r,i,n;for(r=0;r+3<=this.data.length;r+=3)i=this.data.substr(r,3),n=parseInt(i,10),t.put(n,10);const s=this.data.length-r;s>0&&(i=this.data.substr(r),n=parseInt(i,10),t.put(n,s*3+1))};var p$=ac;const g$=fo,K1=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function cc(e){this.mode=g$.ALPHANUMERIC,this.data=e}cc.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)},cc.prototype.getLength=function(){return this.data.length},cc.prototype.getBitsLength=function(){return cc.getBitsLength(this.data.length)},cc.prototype.write=function(t){let r;for(r=0;r+2<=this.data.length;r+=2){let i=K1.indexOf(this.data[r])*45;i+=K1.indexOf(this.data[r+1]),t.put(i,11)}this.data.length%2&&t.put(K1.indexOf(this.data[r]),6)};var m$=cc,v$=function(t){for(var r=[],i=t.length,n=0;n<i;n++){var s=t.charCodeAt(n);if(s>=55296&&s<=56319&&i>n+1){var h=t.charCodeAt(n+1);h>=56320&&h<=57343&&(s=(s-55296)*1024+h-56320+65536,n+=1)}if(s<128){r.push(s);continue}if(s<2048){r.push(s>>6|192),r.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){r.push(s>>12|224),r.push(s>>6&63|128),r.push(s&63|128);continue}if(s>=65536&&s<=1114111){r.push(s>>18|240),r.push(s>>12&63|128),r.push(s>>6&63|128),r.push(s&63|128);continue}r.push(239,191,189)}return new Uint8Array(r).buffer};const w$=v$,y$=fo;function hc(e){this.mode=y$.BYTE,typeof e=="string"&&(e=w$(e)),this.data=new Uint8Array(e)}hc.getBitsLength=function(t){return t*8},hc.prototype.getLength=function(){return this.data.length},hc.prototype.getBitsLength=function(){return hc.getBitsLength(this.data.length)},hc.prototype.write=function(e){for(let t=0,r=this.data.length;t<r;t++)e.put(this.data[t],8)};var b$=hc;const A$=fo,_$=Qi;function uc(e){this.mode=A$.KANJI,this.data=e}uc.getBitsLength=function(t){return t*13},uc.prototype.getLength=function(){return this.data.length},uc.prototype.getBitsLength=function(){return uc.getBitsLength(this.data.length)},uc.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let r=_$.toSJIS(this.data[t]);if(r>=33088&&r<=40956)r-=33088;else if(r>=57408&&r<=60351)r-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);r=(r>>>8&255)*192+(r&255),e.put(r,13)}};var E$=uc,Ob={exports:{}};(function(e){var t={single_source_shortest_paths:function(r,i,n){var s={},h={};h[i]=0;var d=t.PriorityQueue.make();d.push(i,0);for(var g,p,_,S,D,O,N,L,z;!d.empty();){g=d.pop(),p=g.value,S=g.cost,D=r[p]||{};for(_ in D)D.hasOwnProperty(_)&&(O=D[_],N=S+O,L=h[_],z=typeof h[_]>"u",(z||L>N)&&(h[_]=N,d.push(_,N),s[_]=p))}if(typeof n<"u"&&typeof h[n]>"u"){var G=["Could not find a path from ",i," to ",n,"."].join("");throw new Error(G)}return s},extract_shortest_path_from_predecessor_list:function(r,i){for(var n=[],s=i;s;)n.push(s),r[s],s=r[s];return n.reverse(),n},find_path:function(r,i,n){var s=t.single_source_shortest_paths(r,i,n);return t.extract_shortest_path_from_predecessor_list(s,n)},PriorityQueue:{make:function(r){var i=t.PriorityQueue,n={},s;r=r||{};for(s in i)i.hasOwnProperty(s)&&(n[s]=i[s]);return n.queue=[],n.sorter=r.sorter||i.default_sorter,n},default_sorter:function(r,i){return r.cost-i.cost},push:function(r,i){var n={value:r,cost:i};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Ob),function(e){const t=fo,r=p$,i=m$,n=b$,s=E$,h=gs,d=Qi,g=Ob.exports;function p(G){return unescape(encodeURIComponent(G)).length}function _(G,q,W){const B=[];let k;for(;(k=G.exec(W))!==null;)B.push({data:k[0],index:k.index,mode:q,length:k[0].length});return B}function S(G){const q=_(h.NUMERIC,t.NUMERIC,G),W=_(h.ALPHANUMERIC,t.ALPHANUMERIC,G);let B,k;return d.isKanjiModeEnabled()?(B=_(h.BYTE,t.BYTE,G),k=_(h.KANJI,t.KANJI,G)):(B=_(h.BYTE_KANJI,t.BYTE,G),k=[]),q.concat(W,B,k).sort(function(I,U){return I.index-U.index}).map(function(I){return{data:I.data,mode:I.mode,length:I.length}})}function D(G,q){switch(q){case t.NUMERIC:return r.getBitsLength(G);case t.ALPHANUMERIC:return i.getBitsLength(G);case t.KANJI:return s.getBitsLength(G);case t.BYTE:return n.getBitsLength(G)}}function O(G){return G.reduce(function(q,W){const B=q.length-1>=0?q[q.length-1]:null;return B&&B.mode===W.mode?(q[q.length-1].data+=W.data,q):(q.push(W),q)},[])}function N(G){const q=[];for(let W=0;W<G.length;W++){const B=G[W];switch(B.mode){case t.NUMERIC:q.push([B,{data:B.data,mode:t.ALPHANUMERIC,length:B.length},{data:B.data,mode:t.BYTE,length:B.length}]);break;case t.ALPHANUMERIC:q.push([B,{data:B.data,mode:t.BYTE,length:B.length}]);break;case t.KANJI:q.push([B,{data:B.data,mode:t.BYTE,length:p(B.data)}]);break;case t.BYTE:q.push([{data:B.data,mode:t.BYTE,length:p(B.data)}])}}return q}function L(G,q){const W={},B={start:{}};let k=["start"];for(let j=0;j<G.length;j++){const I=G[j],U=[];for(let et=0;et<I.length;et++){const ct=I[et],Z=""+j+et;U.push(Z),W[Z]={node:ct,lastCount:0},B[Z]={};for(let ut=0;ut<k.length;ut++){const o=k[ut];W[o]&&W[o].node.mode===ct.mode?(B[o][Z]=D(W[o].lastCount+ct.length,ct.mode)-D(W[o].lastCount,ct.mode),W[o].lastCount+=ct.length):(W[o]&&(W[o].lastCount=ct.length),B[o][Z]=D(ct.length,ct.mode)+4+t.getCharCountIndicator(ct.mode,q))}}k=U}for(let j=0;j<k.length;j++)B[k[j]].end=0;return{map:B,table:W}}function z(G,q){let W;const B=t.getBestModeForData(G);if(W=t.from(q,B),W!==t.BYTE&&W.bit<B.bit)throw new Error('"'+G+'" cannot be encoded with mode '+t.toString(W)+`.
 Suggested mode is: `+t.toString(B));switch(W===t.KANJI&&!d.isKanjiModeEnabled()&&(W=t.BYTE),W){case t.NUMERIC:return new r(G);case t.ALPHANUMERIC:return new i(G);case t.KANJI:return new s(G);case t.BYTE:return new n(G)}}e.fromArray=function(q){return q.reduce(function(W,B){return typeof B=="string"?W.push(z(B,null)):B.data&&W.push(z(B.data,B.mode)),W},[])},e.fromString=function(q,W){const B=S(q,d.isKanjiModeEnabled()),k=N(B),j=L(k,W),I=g.find_path(j.map,"start","end"),U=[];for(let et=1;et<I.length-1;et++)U.push(j.table[I[et]].node);return e.fromArray(O(U))},e.rawSplit=function(q){return e.fromArray(S(q,d.isKanjiModeEnabled()))}}(Db);const Hl=Qi,W1=Ll,M$=i$,S$=n$,I$=wb,x$=yb,V1=Ab,G1=Fl,C$=o$,Kl=Mb,D$=Ib,O$=fo,Q1=Db;function N$(e,t){const r=e.size,i=x$.getPositions(t);for(let n=0;n<i.length;n++){const s=i[n][0],h=i[n][1];for(let d=-1;d<=7;d++)if(!(s+d<=-1||r<=s+d))for(let g=-1;g<=7;g++)h+g<=-1||r<=h+g||(d>=0&&d<=6&&(g===0||g===6)||g>=0&&g<=6&&(d===0||d===6)||d>=2&&d<=4&&g>=2&&g<=4?e.set(s+d,h+g,!0,!0):e.set(s+d,h+g,!1,!0))}}function P$(e){const t=e.size;for(let r=8;r<t-8;r++){const i=r%2===0;e.set(r,6,i,!0),e.set(6,r,i,!0)}}function R$(e,t){const r=I$.getPositions(t);for(let i=0;i<r.length;i++){const n=r[i][0],s=r[i][1];for(let h=-2;h<=2;h++)for(let d=-2;d<=2;d++)h===-2||h===2||d===-2||d===2||h===0&&d===0?e.set(n+h,s+d,!0,!0):e.set(n+h,s+d,!1,!0)}}function T$(e,t){const r=e.size,i=Kl.getEncodedBits(t);let n,s,h;for(let d=0;d<18;d++)n=Math.floor(d/3),s=d%3+r-8-3,h=(i>>d&1)===1,e.set(n,s,h,!0),e.set(s,n,h,!0)}function Y1(e,t,r){const i=e.size,n=D$.getEncodedBits(t,r);let s,h;for(s=0;s<15;s++)h=(n>>s&1)===1,s<6?e.set(s,8,h,!0):s<8?e.set(s+1,8,h,!0):e.set(i-15+s,8,h,!0),s<8?e.set(8,i-s-1,h,!0):s<9?e.set(8,15-s-1+1,h,!0):e.set(8,15-s-1,h,!0);e.set(i-8,8,1,!0)}function $$(e,t){const r=e.size;let i=-1,n=r-1,s=7,h=0;for(let d=r-1;d>0;d-=2)for(d===6&&d--;;){for(let g=0;g<2;g++)if(!e.isReserved(n,d-g)){let p=!1;h<t.length&&(p=(t[h]>>>s&1)===1),e.set(n,d-g,p),s--,s===-1&&(h++,s=7)}if(n+=i,n<0||r<=n){n-=i,i=-i;break}}}function B$(e,t,r){const i=new M$;r.forEach(function(g){i.put(g.mode.bit,4),i.put(g.getLength(),O$.getCharCountIndicator(g.mode,e)),g.write(i)});const n=Hl.getSymbolTotalCodewords(e),s=G1.getTotalCodewordsCount(e,t),h=(n-s)*8;for(i.getLengthInBits()+4<=h&&i.put(0,4);i.getLengthInBits()%8!==0;)i.putBit(0);const d=(h-i.getLengthInBits())/8;for(let g=0;g<d;g++)i.put(g%2?17:236,8);return U$(i,e,t)}function U$(e,t,r){const i=Hl.getSymbolTotalCodewords(t),n=G1.getTotalCodewordsCount(t,r),s=i-n,h=G1.getBlocksCount(t,r),d=i%h,g=h-d,p=Math.floor(i/h),_=Math.floor(s/h),S=_+1,D=p-_,O=new C$(D);let N=0;const L=new Array(h),z=new Array(h);let G=0;const q=new Uint8Array(e.buffer);for(let I=0;I<h;I++){const U=I<g?_:S;L[I]=q.slice(N,N+U),z[I]=O.encode(L[I]),N+=U,G=Math.max(G,U)}const W=new Uint8Array(i);let B=0,k,j;for(k=0;k<G;k++)for(j=0;j<h;j++)k<L[j].length&&(W[B++]=L[j][k]);for(k=0;k<D;k++)for(j=0;j<h;j++)W[B++]=z[j][k];return W}function L$(e,t,r,i){let n;if(Array.isArray(e))n=Q1.fromArray(e);else if(typeof e=="string"){let p=t;if(!p){const _=Q1.rawSplit(e);p=Kl.getBestVersionForData(_,r)}n=Q1.fromString(e,p||40)}else throw new Error("Invalid data");const s=Kl.getBestVersionForData(n,r);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const h=B$(t,r,n),d=Hl.getSymbolSize(t),g=new S$(d);return N$(g,t),P$(g),R$(g,t),Y1(g,r,0),t>=7&&T$(g,t),$$(g,h),isNaN(i)&&(i=V1.getBestMask(g,Y1.bind(null,g,r))),V1.applyMask(i,g),Y1(g,r,i),{modules:g,version:t,errorCorrectionLevel:r,maskPattern:i,segments:n}}mb.create=function(t,r){if(typeof t>"u"||t==="")throw new Error("No input text");let i=W1.M,n,s;return typeof r<"u"&&(i=W1.from(r.errorCorrectionLevel,W1.M),n=Kl.from(r.version),s=V1.from(r.maskPattern),r.toSJISFunc&&Hl.setToSJISFunction(r.toSJISFunc)),L$(t,n,i,s)};var Nb={},J1={};(function(e){function t(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let i=r.slice().replace("#","").split("");if(i.length<3||i.length===5||i.length>8)throw new Error("Invalid hex color: "+r);(i.length===3||i.length===4)&&(i=Array.prototype.concat.apply([],i.map(function(s){return[s,s]}))),i.length===6&&i.push("F","F");const n=parseInt(i.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+i.slice(0,6).join("")}}e.getOptions=function(i){i||(i={}),i.color||(i.color={});const n=typeof i.margin>"u"||i.margin===null||i.margin<0?4:i.margin,s=i.width&&i.width>=21?i.width:void 0,h=i.scale||4;return{width:s,scale:s?4:h,margin:n,color:{dark:t(i.color.dark||"#000000ff"),light:t(i.color.light||"#ffffffff")},type:i.type,rendererOpts:i.rendererOpts||{}}},e.getScale=function(i,n){return n.width&&n.width>=i+n.margin*2?n.width/(i+n.margin*2):n.scale},e.getImageWidth=function(i,n){const s=e.getScale(i,n);return Math.floor((i+n.margin*2)*s)},e.qrToImageData=function(i,n,s){const h=n.modules.size,d=n.modules.data,g=e.getScale(h,s),p=Math.floor((h+s.margin*2)*g),_=s.margin*g,S=[s.color.light,s.color.dark];for(let D=0;D<p;D++)for(let O=0;O<p;O++){let N=(D*p+O)*4,L=s.color.light;if(D>=_&&O>=_&&D<p-_&&O<p-_){const z=Math.floor((D-_)/g),G=Math.floor((O-_)/g);L=S[d[z*h+G]?1:0]}i[N++]=L.r,i[N++]=L.g,i[N++]=L.b,i[N]=L.a}}})(J1),function(e){const t=J1;function r(n,s,h){n.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=h,s.width=h,s.style.height=h+"px",s.style.width=h+"px"}function i(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,h,d){let g=d,p=h;typeof g>"u"&&(!h||!h.getContext)&&(g=h,h=void 0),h||(p=i()),g=t.getOptions(g);const _=t.getImageWidth(s.modules.size,g),S=p.getContext("2d"),D=S.createImageData(_,_);return t.qrToImageData(D.data,s,g),r(S,p,_),S.putImageData(D,0,0),p},e.renderToDataURL=function(s,h,d){let g=d;typeof g>"u"&&(!h||!h.getContext)&&(g=h,h=void 0),g||(g={});const p=e.render(s,h,g),_=g.type||"image/png",S=g.rendererOpts||{};return p.toDataURL(_,S.quality)}}(Nb);var Pb={};const F$=J1;function Rb(e,t){const r=e.a/255,i=t+'="'+e.hex+'"';return r<1?i+" "+t+'-opacity="'+r.toFixed(2).slice(1)+'"':i}function Z1(e,t,r){let i=e+t;return typeof r<"u"&&(i+=" "+r),i}function k$(e,t,r){let i="",n=0,s=!1,h=0;for(let d=0;d<e.length;d++){const g=Math.floor(d%t),p=Math.floor(d/t);!g&&!s&&(s=!0),e[d]?(h++,d>0&&g>0&&e[d-1]||(i+=s?Z1("M",g+r,.5+p+r):Z1("m",n,0),n=0,s=!1),g+1<t&&e[d+1]||(i+=Z1("h",h),h=0)):n++}return i}Pb.render=function(t,r,i){const n=F$.getOptions(r),s=t.modules.size,h=t.modules.data,d=s+n.margin*2,g=n.color.light.a?"<path "+Rb(n.color.light,"fill")+' d="M0 0h'+d+"v"+d+'H0z"/>':"",p="<path "+Rb(n.color.dark,"stroke")+' d="'+k$(h,s,n.margin)+'"/>',_='viewBox="0 0 '+d+" "+d+'"',D='<svg xmlns="http://www.w3.org/2000/svg" '+(n.width?'width="'+n.width+'" height="'+n.width+'" ':"")+_+' shape-rendering="crispEdges">'+g+p+`</svg>
`;return typeof i=="function"&&i(null,D),D};const j$=e$,X1=mb,Tb=Nb,q$=Pb;function tp(e,t,r,i,n){const s=[].slice.call(arguments,1),h=s.length,d=typeof s[h-1]=="function";if(!d&&!j$())throw new Error("Callback required as last argument");if(d){if(h<2)throw new Error("Too few arguments provided");h===2?(n=r,r=t,t=i=void 0):h===3&&(t.getContext&&typeof n>"u"?(n=i,i=void 0):(n=i,i=r,r=t,t=void 0))}else{if(h<1)throw new Error("Too few arguments provided");return h===1?(r=t,t=i=void 0):h===2&&!t.getContext&&(i=r,r=t,t=void 0),new Promise(function(g,p){try{const _=X1.create(r,i);g(e(_,t,i))}catch(_){p(_)}})}try{const g=X1.create(r,i);n(null,e(g,t,i))}catch(g){n(g)}}$h.create=X1.create,$h.toCanvas=tp.bind(null,Tb.render),$h.toDataURL=tp.bind(null,Tb.renderToDataURL),$h.toString=tp.bind(null,function(e,t,r){return q$.render(e,r)});var z$=Object.defineProperty,$b=Object.getOwnPropertySymbols,H$=Object.prototype.hasOwnProperty,K$=Object.prototype.propertyIsEnumerable,Bb=(e,t,r)=>t in e?z$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ep=(e,t)=>{for(var r in t||(t={}))H$.call(t,r)&&Bb(e,r,t[r]);if($b)for(var r of $b(t))K$.call(t,r)&&Bb(e,r,t[r]);return e};function W$(){var e;const t=(e=ao.state.themeMode)!=null?e:"dark",r={light:{foreground:{1:"rgb(20,20,20)",2:"rgb(121,134,134)",3:"rgb(158,169,169)"},background:{1:"rgb(255,255,255)",2:"rgb(241,243,243)",3:"rgb(228,231,231)"},overlay:"rgba(0,0,0,0.1)"},dark:{foreground:{1:"rgb(228,231,231)",2:"rgb(148,158,158)",3:"rgb(110,119,119)"},background:{1:"rgb(20,20,20)",2:"rgb(39,42,42)",3:"rgb(59,64,64)"},overlay:"rgba(255,255,255,0.1)"}}[t];return{"--wcm-color-fg-1":r.foreground[1],"--wcm-color-fg-2":r.foreground[2],"--wcm-color-fg-3":r.foreground[3],"--wcm-color-bg-1":r.background[1],"--wcm-color-bg-2":r.background[2],"--wcm-color-bg-3":r.background[3],"--wcm-color-overlay":r.overlay}}function Ub(){return{"--wcm-accent-color":"#3396FF","--wcm-accent-fill-color":"#FFFFFF","--wcm-z-index":"89","--wcm-background-color":"#3396FF","--wcm-background-border-radius":"8px","--wcm-container-border-radius":"30px","--wcm-wallet-icon-border-radius":"15px","--wcm-wallet-icon-large-border-radius":"30px","--wcm-wallet-icon-small-border-radius":"7px","--wcm-input-border-radius":"28px","--wcm-button-border-radius":"10px","--wcm-notification-border-radius":"36px","--wcm-secondary-button-border-radius":"28px","--wcm-icon-button-border-radius":"50%","--wcm-button-hover-highlight-border-radius":"10px","--wcm-text-big-bold-size":"20px","--wcm-text-big-bold-weight":"600","--wcm-text-big-bold-line-height":"24px","--wcm-text-big-bold-letter-spacing":"-0.03em","--wcm-text-big-bold-text-transform":"none","--wcm-text-xsmall-bold-size":"10px","--wcm-text-xsmall-bold-weight":"700","--wcm-text-xsmall-bold-line-height":"12px","--wcm-text-xsmall-bold-letter-spacing":"0.02em","--wcm-text-xsmall-bold-text-transform":"uppercase","--wcm-text-xsmall-regular-size":"12px","--wcm-text-xsmall-regular-weight":"600","--wcm-text-xsmall-regular-line-height":"14px","--wcm-text-xsmall-regular-letter-spacing":"-0.03em","--wcm-text-xsmall-regular-text-transform":"none","--wcm-text-small-thin-size":"14px","--wcm-text-small-thin-weight":"500","--wcm-text-small-thin-line-height":"16px","--wcm-text-small-thin-letter-spacing":"-0.03em","--wcm-text-small-thin-text-transform":"none","--wcm-text-small-regular-size":"14px","--wcm-text-small-regular-weight":"600","--wcm-text-small-regular-line-height":"16px","--wcm-text-small-regular-letter-spacing":"-0.03em","--wcm-text-small-regular-text-transform":"none","--wcm-text-medium-regular-size":"16px","--wcm-text-medium-regular-weight":"600","--wcm-text-medium-regular-line-height":"20px","--wcm-text-medium-regular-letter-spacing":"-0.03em","--wcm-text-medium-regular-text-transform":"none","--wcm-font-family":"-apple-system, system-ui, BlinkMacSystemFont, 'Segoe UI', Roboto, Ubuntu, 'Helvetica Neue', sans-serif","--wcm-font-feature-settings":"'tnum' on, 'lnum' on, 'case' on","--wcm-success-color":"rgb(38,181,98)","--wcm-error-color":"rgb(242, 90, 103)","--wcm-overlay-background-color":"rgba(0, 0, 0, 0.3)","--wcm-overlay-backdrop-filter":"none"}}const Ue={getPreset(e){return Ub()[e]},setTheme(){const e=document.querySelector(":root"),{themeVariables:t}=ao.state;if(e){const r=ep(ep(ep({},W$()),Ub()),t);Object.entries(r).forEach(([i,n])=>e.style.setProperty(i,n))}},globalCss:He`*,::after,::before{margin:0;padding:0;box-sizing:border-box;font-style:normal;text-rendering:optimizeSpeed;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;-webkit-tap-highlight-color:transparent;backface-visibility:hidden}button{cursor:pointer;display:flex;justify-content:center;align-items:center;position:relative;border:none;background-color:transparent;transition:all .2s ease}@media (hover:hover) and (pointer:fine){button:active{transition:all .1s ease;transform:scale(.93)}}button::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;transition:background-color,.2s ease}button:disabled{cursor:not-allowed}button svg,button wcm-text{position:relative;z-index:1}input{border:none;outline:0;appearance:none}img{display:block}::selection{color:var(--wcm-accent-fill-color);background:var(--wcm-accent-color)}`},V$=He`button{border-radius:var(--wcm-secondary-button-border-radius);height:28px;padding:0 10px;background-color:var(--wcm-accent-color)}button path{fill:var(--wcm-accent-fill-color)}button::after{border-radius:inherit;border:1px solid var(--wcm-color-overlay)}button:disabled::after{background-color:transparent}.wcm-icon-left svg{margin-right:5px}.wcm-icon-right svg{margin-left:5px}button:active::after{background-color:var(--wcm-color-overlay)}.wcm-ghost,.wcm-ghost:active::after,.wcm-outline{background-color:transparent}.wcm-ghost:active{opacity:.5}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}.wcm-ghost:hover::after{background-color:transparent}.wcm-ghost:hover{opacity:.5}}button:disabled{background-color:var(--wcm-color-bg-3);pointer-events:none}.wcm-ghost::after{border-color:transparent}.wcm-ghost path{fill:var(--wcm-color-fg-2)}.wcm-outline path{fill:var(--wcm-accent-color)}.wcm-outline:disabled{background-color:transparent;opacity:.5}`;var G$=Object.defineProperty,Q$=Object.getOwnPropertyDescriptor,lc=(e,t,r,i)=>{for(var n=i>1?void 0:i?Q$(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&G$(t,r,n),n};let po=class extends Oe{constructor(){super(...arguments),this.disabled=!1,this.iconLeft=void 0,this.iconRight=void 0,this.onClick=()=>null,this.variant="default"}render(){const e={"wcm-icon-left":this.iconLeft!==void 0,"wcm-icon-right":this.iconRight!==void 0,"wcm-ghost":this.variant==="ghost","wcm-outline":this.variant==="outline"};let t="inverse";return this.variant==="ghost"&&(t="secondary"),this.variant==="outline"&&(t="accent"),Gt`<button class="${Bs(e)}" ?disabled="${this.disabled}" @click="${this.onClick}">${this.iconLeft}<wcm-text variant="small-regular" color="${t}"><slot></slot></wcm-text>${this.iconRight}</button>`}};po.styles=[Ue.globalCss,V$],lc([_e({type:Boolean})],po.prototype,"disabled",2),lc([_e()],po.prototype,"iconLeft",2),lc([_e()],po.prototype,"iconRight",2),lc([_e()],po.prototype,"onClick",2),lc([_e()],po.prototype,"variant",2),po=lc([je("wcm-button")],po);const Y$=He`:host{display:inline-block}button{padding:0 15px 1px;height:40px;border-radius:var(--wcm-button-border-radius);color:var(--wcm-accent-fill-color);background-color:var(--wcm-accent-color)}button::after{content:'';top:0;bottom:0;left:0;right:0;position:absolute;background-color:transparent;border-radius:inherit;transition:background-color .2s ease;border:1px solid var(--wcm-color-overlay)}button:active::after{background-color:var(--wcm-color-overlay)}button:disabled{padding-bottom:0;background-color:var(--wcm-color-bg-3);color:var(--wcm-color-fg-3)}.wcm-secondary{color:var(--wcm-accent-color);background-color:transparent}.wcm-secondary::after{display:none}@media(hover:hover){button:hover::after{background-color:var(--wcm-color-overlay)}}`;var J$=Object.defineProperty,Z$=Object.getOwnPropertyDescriptor,rp=(e,t,r,i)=>{for(var n=i>1?void 0:i?Z$(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&J$(t,r,n),n};let Fh=class extends Oe{constructor(){super(...arguments),this.disabled=!1,this.variant="primary"}render(){const e={"wcm-secondary":this.variant==="secondary"};return Gt`<button ?disabled="${this.disabled}" class="${Bs(e)}"><slot></slot></button>`}};Fh.styles=[Ue.globalCss,Y$],rp([_e({type:Boolean})],Fh.prototype,"disabled",2),rp([_e()],Fh.prototype,"variant",2),Fh=rp([je("wcm-button-big")],Fh);const X$=He`:host{background-color:var(--wcm-color-bg-2);border-top:1px solid var(--wcm-color-bg-3)}div{padding:10px 20px;display:inherit;flex-direction:inherit;align-items:inherit;width:inherit;justify-content:inherit}`;var tB=Object.defineProperty,eB=Object.getOwnPropertyDescriptor,rB=(e,t,r,i)=>{for(var n=i>1?void 0:i?eB(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&tB(t,r,n),n};let ip=class extends Oe{render(){return Gt`<div><slot></slot></div>`}};ip.styles=[Ue.globalCss,X$],ip=rB([je("wcm-info-footer")],ip);const Ge={CROSS_ICON:Ar`<svg width="12" height="12" viewBox="0 0 12 12"><path d="M9.94 11A.75.75 0 1 0 11 9.94L7.414 6.353a.5.5 0 0 1 0-.708L11 2.061A.75.75 0 1 0 9.94 1L6.353 4.586a.5.5 0 0 1-.708 0L2.061 1A.75.75 0 0 0 1 2.06l3.586 3.586a.5.5 0 0 1 0 .708L1 9.939A.75.75 0 1 0 2.06 11l3.586-3.586a.5.5 0 0 1 .708 0L9.939 11Z" fill="#fff"/></svg>`,WALLET_CONNECT_LOGO:Ar`<svg width="178" height="29" viewBox="0 0 178 29" id="wcm-wc-logo"><path d="M10.683 7.926c5.284-5.17 13.85-5.17 19.134 0l.636.623a.652.652 0 0 1 0 .936l-2.176 2.129a.343.343 0 0 1-.478 0l-.875-.857c-3.686-3.607-9.662-3.607-13.348 0l-.937.918a.343.343 0 0 1-.479 0l-2.175-2.13a.652.652 0 0 1 0-.936l.698-.683Zm23.633 4.403 1.935 1.895a.652.652 0 0 1 0 .936l-8.73 8.543a.687.687 0 0 1-.956 0L20.37 17.64a.172.172 0 0 0-.239 0l-6.195 6.063a.687.687 0 0 1-.957 0l-8.73-8.543a.652.652 0 0 1 0-.936l1.936-1.895a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .239 0l6.195-6.064a.687.687 0 0 1 .957 0l6.196 6.064a.172.172 0 0 0 .24 0l6.195-6.064a.687.687 0 0 1 .956 0ZM48.093 20.948l2.338-9.355c.139-.515.258-1.07.416-1.942.12.872.258 1.427.357 1.942l2.022 9.355h4.181l3.528-13.874h-3.21l-1.943 8.523a24.825 24.825 0 0 0-.456 2.457c-.158-.931-.317-1.625-.495-2.438l-1.883-8.542h-4.201l-2.042 8.542a41.204 41.204 0 0 0-.475 2.438 41.208 41.208 0 0 0-.476-2.438l-1.903-8.542h-3.349l3.508 13.874h4.083ZM63.33 21.304c1.585 0 2.596-.654 3.11-1.605-.059.297-.078.595-.078.892v.357h2.655V15.22c0-2.735-1.248-4.32-4.3-4.32-2.636 0-4.36 1.466-4.52 3.487h2.914c.1-.891.734-1.426 1.705-1.426.911 0 1.407.515 1.407 1.11 0 .435-.258.693-1.03.792l-1.388.159c-2.061.257-3.825 1.01-3.825 3.19 0 1.982 1.645 3.092 3.35 3.092Zm.891-2.041c-.773 0-1.348-.436-1.348-1.19 0-.733.655-1.09 1.645-1.268l.674-.119c.575-.118.892-.218 1.09-.396v.912c0 1.228-.892 2.06-2.06 2.06ZM70.398 7.074v13.874h2.874V7.074h-2.874ZM74.934 7.074v13.874h2.874V7.074h-2.874ZM84.08 21.304c2.735 0 4.5-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922H81.92ZM94.92 21.146c.633 0 1.248-.1 1.525-.179v-2.18c-.218.04-.475.06-.693.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.338v-2.24h-2.338V7.788H91.47v3.448H89.37v2.24h2.1v4.201c0 2.3 1.15 3.469 3.45 3.469ZM104.62 21.304c3.924 0 6.302-2.299 6.599-5.608h-3.111c-.238 1.803-1.506 3.032-3.369 3.032-2.2 0-3.746-1.784-3.746-4.796 0-2.953 1.605-4.638 3.805-4.638 1.883 0 2.953 1.15 3.171 2.834h3.191c-.317-3.448-2.854-5.41-6.342-5.41-3.984 0-7.036 2.695-7.036 7.214 0 4.677 2.676 7.372 6.838 7.372ZM117.449 21.304c2.993 0 5.114-1.882 5.114-5.172 0-3.23-2.121-5.233-5.114-5.233-2.972 0-5.093 2.002-5.093 5.233 0 3.29 2.101 5.172 5.093 5.172Zm0-2.22c-1.327 0-2.18-1.09-2.18-2.952 0-1.903.892-2.973 2.18-2.973 1.308 0 2.2 1.07 2.2 2.973 0 1.862-.872 2.953-2.2 2.953ZM126.569 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.229-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM137.464 20.948v-5.689c0-1.208.753-2.1 1.823-2.1 1.011 0 1.606.773 1.606 2.06v5.729h2.873v-6.144c0-2.339-1.228-3.905-3.428-3.905-1.526 0-2.458.734-2.953 1.606a5.31 5.31 0 0 0 .079-.892v-.377h-2.874v9.712h2.874ZM149.949 21.304c2.735 0 4.499-1.546 4.697-3.567h-2.893c-.139.892-.892 1.387-1.804 1.387-1.228 0-2.12-.99-2.14-2.358h6.897v-.555c0-3.21-1.764-5.312-4.816-5.312-2.933 0-4.994 2.062-4.994 5.173 0 3.37 2.12 5.232 5.053 5.232Zm-2.16-6.421c.119-1.11.932-1.922 2.081-1.922 1.11 0 1.883.772 1.903 1.922h-3.984ZM160.876 21.304c3.013 0 4.658-1.645 4.975-4.201h-2.874c-.099 1.07-.713 1.982-2.001 1.982-1.309 0-2.2-1.21-2.2-2.993 0-1.942 1.03-2.933 2.259-2.933 1.209 0 1.803.872 1.883 1.882h2.873c-.218-2.358-1.823-4.142-4.776-4.142-2.874 0-5.153 1.903-5.153 5.193 0 3.25 1.923 5.212 5.014 5.212ZM172.067 21.146c.634 0 1.248-.1 1.526-.179v-2.18c-.218.04-.476.06-.694.06-1.05 0-1.427-.595-1.427-1.566v-3.805h2.339v-2.24h-2.339V7.788h-2.854v3.448h-2.1v2.24h2.1v4.201c0 2.3 1.15 3.469 3.449 3.469Z" fill="#fff"/></svg>`,WALLET_CONNECT_ICON:Ar`<svg width="28" height="20" viewBox="0 0 28 20"><g clip-path="url(#a)"><path d="M7.386 6.482c3.653-3.576 9.575-3.576 13.228 0l.44.43a.451.451 0 0 1 0 .648L19.55 9.033a.237.237 0 0 1-.33 0l-.606-.592c-2.548-2.496-6.68-2.496-9.228 0l-.648.634a.237.237 0 0 1-.33 0L6.902 7.602a.451.451 0 0 1 0-.647l.483-.473Zm16.338 3.046 1.339 1.31a.451.451 0 0 1 0 .648l-6.035 5.909a.475.475 0 0 1-.662 0L14.083 13.2a.119.119 0 0 0-.166 0l-4.283 4.194a.475.475 0 0 1-.662 0l-6.035-5.91a.451.451 0 0 1 0-.647l1.338-1.31a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0l4.283 4.194c.046.044.12.044.166 0l4.283-4.194a.475.475 0 0 1 .662 0Z" fill="#000000"/></g><defs><clipPath id="a"><path fill="#ffffff" d="M0 0h28v20H0z"/></clipPath></defs></svg>`,WALLET_CONNECT_ICON_COLORED:Ar`<svg width="96" height="96" fill="none"><path fill="#fff" d="M25.322 33.597c12.525-12.263 32.83-12.263 45.355 0l1.507 1.476a1.547 1.547 0 0 1 0 2.22l-5.156 5.048a.814.814 0 0 1-1.134 0l-2.074-2.03c-8.737-8.555-22.903-8.555-31.64 0l-2.222 2.175a.814.814 0 0 1-1.134 0l-5.156-5.049a1.547 1.547 0 0 1 0-2.22l1.654-1.62Zm56.019 10.44 4.589 4.494a1.547 1.547 0 0 1 0 2.22l-20.693 20.26a1.628 1.628 0 0 1-2.267 0L48.283 56.632a.407.407 0 0 0-.567 0L33.03 71.012a1.628 1.628 0 0 1-2.268 0L10.07 50.75a1.547 1.547 0 0 1 0-2.22l4.59-4.494a1.628 1.628 0 0 1 2.267 0l14.687 14.38c.156.153.41.153.567 0l14.685-14.38a1.628 1.628 0 0 1 2.268 0l14.687 14.38c.156.153.41.153.567 0l14.686-14.38a1.628 1.628 0 0 1 2.268 0Z"/><path stroke="#000" d="M25.672 33.954c12.33-12.072 32.325-12.072 44.655 0l1.508 1.476a1.047 1.047 0 0 1 0 1.506l-5.157 5.048a.314.314 0 0 1-.434 0l-2.074-2.03c-8.932-8.746-23.409-8.746-32.34 0l-2.222 2.174a.314.314 0 0 1-.434 0l-5.157-5.048a1.047 1.047 0 0 1 0-1.506l1.655-1.62Zm55.319 10.44 4.59 4.494a1.047 1.047 0 0 1 0 1.506l-20.694 20.26a1.128 1.128 0 0 1-1.568 0l-14.686-14.38a.907.907 0 0 0-1.267 0L32.68 70.655a1.128 1.128 0 0 1-1.568 0L10.42 50.394a1.047 1.047 0 0 1 0-1.506l4.59-4.493a1.128 1.128 0 0 1 1.567 0l14.687 14.379a.907.907 0 0 0 1.266 0l-.35-.357.35.357 14.686-14.38a1.128 1.128 0 0 1 1.568 0l14.687 14.38a.907.907 0 0 0 1.267 0l14.686-14.38a1.128 1.128 0 0 1 1.568 0Z"/></svg>`,BACK_ICON:Ar`<svg width="10" height="18" viewBox="0 0 10 18"><path fill-rule="evenodd" clip-rule="evenodd" d="M8.735.179a.75.75 0 0 1 .087 1.057L2.92 8.192a1.25 1.25 0 0 0 0 1.617l5.902 6.956a.75.75 0 1 1-1.144.97L1.776 10.78a2.75 2.75 0 0 1 0-3.559L7.678.265A.75.75 0 0 1 8.735.18Z" fill="#fff"/></svg>`,COPY_ICON:Ar`<svg width="24" height="24" fill="none"><path fill="#fff" fill-rule="evenodd" d="M7.01 7.01c.03-1.545.138-2.5.535-3.28A5 5 0 0 1 9.73 1.545C10.8 1 12.2 1 15 1c2.8 0 4.2 0 5.27.545a5 5 0 0 1 2.185 2.185C23 4.8 23 6.2 23 9c0 2.8 0 4.2-.545 5.27a5 5 0 0 1-2.185 2.185c-.78.397-1.735.505-3.28.534l-.001.01c-.03 1.54-.138 2.493-.534 3.27a5 5 0 0 1-2.185 2.186C13.2 23 11.8 23 9 23c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C1 19.2 1 17.8 1 15c0-2.8 0-4.2.545-5.27A5 5 0 0 1 3.73 7.545C4.508 7.149 5.46 7.04 7 7.01h.01ZM15 15.5c-1.425 0-2.403-.001-3.162-.063-.74-.06-1.139-.172-1.427-.319a3.5 3.5 0 0 1-1.53-1.529c-.146-.288-.257-.686-.318-1.427C8.501 11.403 8.5 10.425 8.5 9c0-1.425.001-2.403.063-3.162.06-.74.172-1.139.318-1.427a3.5 3.5 0 0 1 1.53-1.53c.288-.146.686-.257 1.427-.318.759-.062 1.737-.063 3.162-.063 1.425 0 2.403.001 3.162.063.74.06 1.139.172 1.427.318a3.5 3.5 0 0 1 1.53 1.53c.146.288.257.686.318 1.427.062.759.063 1.737.063 3.162 0 1.425-.001 2.403-.063 3.162-.06.74-.172 1.139-.319 1.427a3.5 3.5 0 0 1-1.529 1.53c-.288.146-.686.257-1.427.318-.759.062-1.737.063-3.162.063ZM7 8.511c-.444.009-.825.025-1.162.052-.74.06-1.139.172-1.427.318a3.5 3.5 0 0 0-1.53 1.53c-.146.288-.257.686-.318 1.427-.062.759-.063 1.737-.063 3.162 0 1.425.001 2.403.063 3.162.06.74.172 1.139.318 1.427a3.5 3.5 0 0 0 1.53 1.53c.288.146.686.257 1.427.318.759.062 1.737.063 3.162.063 1.425 0 2.403-.001 3.162-.063.74-.06 1.139-.172 1.427-.319a3.5 3.5 0 0 0 1.53-1.53c.146-.287.257-.685.318-1.426.027-.337.043-.718.052-1.162H15c-2.8 0-4.2 0-5.27-.545a5 5 0 0 1-2.185-2.185C7 13.2 7 11.8 7 9v-.489Z" clip-rule="evenodd"/></svg>`,RETRY_ICON:Ar`<svg width="15" height="16" viewBox="0 0 15 16"><path d="M6.464 2.03A.75.75 0 0 0 5.403.97L2.08 4.293a1 1 0 0 0 0 1.414L5.403 9.03a.75.75 0 0 0 1.06-1.06L4.672 6.177a.25.25 0 0 1 .177-.427h2.085a4 4 0 1 1-3.93 4.746c-.077-.407-.405-.746-.82-.746-.414 0-.755.338-.7.748a5.501 5.501 0 1 0 5.45-6.248H4.848a.25.25 0 0 1-.177-.427L6.464 2.03Z" fill="#fff"/></svg>`,DESKTOP_ICON:Ar`<svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M0 5.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C2.204 1 3.13 1 4.98 1h6.04c1.85 0 2.775 0 3.466.394a3 3 0 0 1 1.12 1.12C16 3.204 16 4.13 16 5.98v1.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C13.796 12 12.87 12 11.02 12H4.98c-1.85 0-2.775 0-3.466-.394a3 3 0 0 1-1.12-1.12C0 9.796 0 8.87 0 7.02V5.98ZM4.98 2.5h6.04c.953 0 1.568.001 2.034.043.446.04.608.108.69.154a1.5 1.5 0 0 1 .559.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033v1.04c0 .952-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.046-.243.114-.69.154-.466.042-1.08.043-2.033.043H4.98c-.952 0-1.568-.001-2.034-.043-.446-.04-.608-.108-.69-.154a1.5 1.5 0 0 1-.559-.56c-.046-.08-.114-.243-.154-.69-.042-.465-.043-1.08-.043-2.033V5.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.046.243-.114.69-.154.465-.042 1.08-.043 2.033-.043Z" fill="#fff"/><path d="M4 14.25a.75.75 0 0 1 .75-.75h6.5a.75.75 0 0 1 0 1.5h-6.5a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,MOBILE_ICON:Ar`<svg width="16" height="16" viewBox="0 0 16 16"><path d="M6.75 5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M3 4.98c0-1.85 0-2.775.394-3.466a3 3 0 0 1 1.12-1.12C5.204 0 6.136 0 8 0s2.795 0 3.486.394a3 3 0 0 1 1.12 1.12C13 2.204 13 3.13 13 4.98v6.04c0 1.85 0 2.775-.394 3.466a3 3 0 0 1-1.12 1.12C10.796 16 9.864 16 8 16s-2.795 0-3.486-.394a3 3 0 0 1-1.12-1.12C3 13.796 3 12.87 3 11.02V4.98Zm8.5 0v6.04c0 .953-.001 1.568-.043 2.034-.04.446-.108.608-.154.69a1.499 1.499 0 0 1-.56.559c-.08.045-.242.113-.693.154-.47.042-1.091.043-2.05.043-.959 0-1.58-.001-2.05-.043-.45-.04-.613-.109-.693-.154a1.5 1.5 0 0 1-.56-.56c-.046-.08-.114-.243-.154-.69-.042-.466-.043-1.08-.043-2.033V4.98c0-.952.001-1.568.043-2.034.04-.446.108-.608.154-.69a1.5 1.5 0 0 1 .56-.559c.08-.045.243-.113.693-.154C6.42 1.501 7.041 1.5 8 1.5c.959 0 1.58.001 2.05.043.45.04.613.109.693.154a1.5 1.5 0 0 1 .56.56c.046.08.114.243.154.69.042.465.043 1.08.043 2.033Z" fill="#fff"/></svg>`,ARROW_DOWN_ICON:Ar`<svg width="14" height="14" viewBox="0 0 14 14"><path d="M2.28 7.47a.75.75 0 0 0-1.06 1.06l5.25 5.25a.75.75 0 0 0 1.06 0l5.25-5.25a.75.75 0 0 0-1.06-1.06l-3.544 3.543a.25.25 0 0 1-.426-.177V.75a.75.75 0 0 0-1.5 0v10.086a.25.25 0 0 1-.427.176L2.28 7.47Z" fill="#fff"/></svg>`,ARROW_UP_RIGHT_ICON:Ar`<svg width="15" height="14" fill="none"><path d="M4.5 1.75A.75.75 0 0 1 5.25 1H12a1.5 1.5 0 0 1 1.5 1.5v6.75a.75.75 0 0 1-1.5 0V4.164a.25.25 0 0 0-.427-.176L4.061 11.5A.75.75 0 0 1 3 10.44l7.513-7.513a.25.25 0 0 0-.177-.427H5.25a.75.75 0 0 1-.75-.75Z" fill="#fff"/></svg>`,ARROW_RIGHT_ICON:Ar`<svg width="6" height="14" viewBox="0 0 6 14"><path fill-rule="evenodd" clip-rule="evenodd" d="M2.181 1.099a.75.75 0 0 1 1.024.279l2.433 4.258a2.75 2.75 0 0 1 0 2.729l-2.433 4.257a.75.75 0 1 1-1.303-.744L4.335 7.62a1.25 1.25 0 0 0 0-1.24L1.902 2.122a.75.75 0 0 1 .28-1.023Z" fill="#fff"/></svg>`,QRCODE_ICON:Ar`<svg width="25" height="24" viewBox="0 0 25 24"><path d="M23.748 9a.748.748 0 0 0 .748-.752c-.018-2.596-.128-4.07-.784-5.22a6 6 0 0 0-2.24-2.24c-1.15-.656-2.624-.766-5.22-.784a.748.748 0 0 0-.752.748c0 .414.335.749.748.752 1.015.007 1.82.028 2.494.088.995.09 1.561.256 1.988.5.7.398 1.28.978 1.679 1.678.243.427.41.993.498 1.988.061.675.082 1.479.09 2.493a.753.753 0 0 0 .75.749ZM3.527.788C4.677.132 6.152.022 8.747.004A.748.748 0 0 1 9.5.752a.753.753 0 0 1-.749.752c-1.014.007-1.818.028-2.493.088-.995.09-1.561.256-1.988.5-.7.398-1.28.978-1.679 1.678-.243.427-.41.993-.499 1.988-.06.675-.081 1.479-.088 2.493A.753.753 0 0 1 1.252 9a.748.748 0 0 1-.748-.752c.018-2.596.128-4.07.784-5.22a6 6 0 0 1 2.24-2.24ZM1.252 15a.748.748 0 0 0-.748.752c.018 2.596.128 4.07.784 5.22a6 6 0 0 0 2.24 2.24c1.15.656 2.624.766 5.22.784a.748.748 0 0 0 .752-.748.753.753 0 0 0-.749-.752c-1.014-.007-1.818-.028-2.493-.089-.995-.089-1.561-.255-1.988-.498a4.5 4.5 0 0 1-1.679-1.68c-.243-.426-.41-.992-.499-1.987-.06-.675-.081-1.479-.088-2.493A.753.753 0 0 0 1.252 15ZM22.996 15.749a.753.753 0 0 1 .752-.749c.415 0 .751.338.748.752-.018 2.596-.128 4.07-.784 5.22a6 6 0 0 1-2.24 2.24c-1.15.656-2.624.766-5.22.784a.748.748 0 0 1-.752-.748c0-.414.335-.749.748-.752 1.015-.007 1.82-.028 2.494-.089.995-.089 1.561-.255 1.988-.498a4.5 4.5 0 0 0 1.679-1.68c.243-.426.41-.992.498-1.987.061-.675.082-1.479.09-2.493Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M7 4a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 11h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 4H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1ZM13.5 6.5A2.5 2.5 0 0 1 16 4h2a2.5 2.5 0 0 1 2.5 2.5v2A2.5 2.5 0 0 1 18 11h-2a2.5 2.5 0 0 1-2.5-2.5v-2Zm2.5-1h2a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-2a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1ZM7 13a2.5 2.5 0 0 0-2.5 2.5v2A2.5 2.5 0 0 0 7 20h2a2.5 2.5 0 0 0 2.5-2.5v-2A2.5 2.5 0 0 0 9 13H7Zm2 1.5H7a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Z" fill="#fff"/><path d="M13.5 15.5c0-.465 0-.697.038-.89a2 2 0 0 1 1.572-1.572C15.303 13 15.535 13 16 13v2.5h-2.5ZM18 13c.465 0 .697 0 .89.038a2 2 0 0 1 1.572 1.572c.038.193.038.425.038.89H18V13ZM18 17.5h2.5c0 .465 0 .697-.038.89a2 2 0 0 1-1.572 1.572C18.697 20 18.465 20 18 20v-2.5ZM13.5 17.5H16V20c-.465 0-.697 0-.89-.038a2 2 0 0 1-1.572-1.572c-.038-.193-.038-.425-.038-.89Z" fill="#fff"/></svg>`,SCAN_ICON:Ar`<svg width="16" height="16" fill="none"><path fill="#fff" d="M10 15.216c0 .422.347.763.768.74 1.202-.064 2.025-.222 2.71-.613a5.001 5.001 0 0 0 1.865-1.866c.39-.684.549-1.507.613-2.709a.735.735 0 0 0-.74-.768.768.768 0 0 0-.76.732c-.009.157-.02.306-.032.447-.073.812-.206 1.244-.384 1.555-.31.545-.761.996-1.306 1.306-.311.178-.743.311-1.555.384-.141.013-.29.023-.447.032a.768.768 0 0 0-.732.76ZM10 .784c0 .407.325.737.732.76.157.009.306.02.447.032.812.073 1.244.206 1.555.384a3.5 3.5 0 0 1 1.306 1.306c.178.311.311.743.384 1.555.013.142.023.29.032.447a.768.768 0 0 0 .76.732.734.734 0 0 0 .74-.768c-.064-1.202-.222-2.025-.613-2.71A5 5 0 0 0 13.477.658c-.684-.39-1.507-.549-2.709-.613a.735.735 0 0 0-.768.74ZM5.232.044A.735.735 0 0 1 6 .784a.768.768 0 0 1-.732.76c-.157.009-.305.02-.447.032-.812.073-1.244.206-1.555.384A3.5 3.5 0 0 0 1.96 3.266c-.178.311-.311.743-.384 1.555-.013.142-.023.29-.032.447A.768.768 0 0 1 .784 6a.735.735 0 0 1-.74-.768c.064-1.202.222-2.025.613-2.71A5 5 0 0 1 2.523.658C3.207.267 4.03.108 5.233.044ZM5.268 14.456a.768.768 0 0 1 .732.76.734.734 0 0 1-.768.74c-1.202-.064-2.025-.222-2.71-.613a5 5 0 0 1-1.865-1.866c-.39-.684-.549-1.507-.613-2.709A.735.735 0 0 1 .784 10c.407 0 .737.325.76.732.009.157.02.306.032.447.073.812.206 1.244.384 1.555a3.5 3.5 0 0 0 1.306 1.306c.311.178.743.311 1.555.384.142.013.29.023.447.032Z"/></svg>`,CHECKMARK_ICON:Ar`<svg width="13" height="12" viewBox="0 0 13 12"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.155.132a.75.75 0 0 1 .232 1.035L5.821 11.535a1 1 0 0 1-1.626.09L.665 7.21a.75.75 0 1 1 1.17-.937L4.71 9.867a.25.25 0 0 0 .406-.023L11.12.364a.75.75 0 0 1 1.035-.232Z" fill="#fff"/></svg>`,SEARCH_ICON:Ar`<svg width="20" height="21"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.432 13.992c-.354-.353-.91-.382-1.35-.146a5.5 5.5 0 1 1 2.265-2.265c-.237.441-.208.997.145 1.35l3.296 3.296a.75.75 0 1 1-1.06 1.061l-3.296-3.296Zm.06-5a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z" fill="#949E9E"/></svg>`,WALLET_PLACEHOLDER:Ar`<svg width="60" height="60" fill="none" viewBox="0 0 60 60"><g clip-path="url(#q)"><path id="wallet-placeholder-fill" fill="#fff" d="M0 24.9c0-9.251 0-13.877 1.97-17.332a15 15 0 0 1 5.598-5.597C11.023 0 15.648 0 24.9 0h10.2c9.252 0 13.877 0 17.332 1.97a15 15 0 0 1 5.597 5.598C60 11.023 60 15.648 60 24.9v10.2c0 9.252 0 13.877-1.97 17.332a15.001 15.001 0 0 1-5.598 5.597C48.977 60 44.352 60 35.1 60H24.9c-9.251 0-13.877 0-17.332-1.97a15 15 0 0 1-5.597-5.598C0 48.977 0 44.352 0 35.1V24.9Z"/><path id="wallet-placeholder-dash" stroke="#000" stroke-dasharray="4 4" stroke-width="1.5" d="M.04 41.708a231.598 231.598 0 0 1-.039-4.403l.75-.001L.75 35.1v-2.55H0v-5.1h.75V24.9l.001-2.204h-.75c.003-1.617.011-3.077.039-4.404l.75.016c.034-1.65.099-3.08.218-4.343l-.746-.07c.158-1.678.412-3.083.82-4.316l.713.236c.224-.679.497-1.296.827-1.875a14.25 14.25 0 0 1 1.05-1.585L3.076 5.9A15 15 0 0 1 5.9 3.076l.455.596a14.25 14.25 0 0 1 1.585-1.05c.579-.33 1.196-.603 1.875-.827l-.236-.712C10.812.674 12.217.42 13.895.262l.07.746C15.23.89 16.66.824 18.308.79l-.016-.75C19.62.012 21.08.004 22.695.001l.001.75L24.9.75h2.55V0h5.1v.75h2.55l2.204.001v-.75c1.617.003 3.077.011 4.404.039l-.016.75c1.65.034 3.08.099 4.343.218l.07-.746c1.678.158 3.083.412 4.316.82l-.236.713c.679.224 1.296.497 1.875.827a14.24 14.24 0 0 1 1.585 1.05l.455-.596A14.999 14.999 0 0 1 56.924 5.9l-.596.455c.384.502.735 1.032 1.05 1.585.33.579.602 1.196.827 1.875l.712-.236c.409 1.233.663 2.638.822 4.316l-.747.07c.119 1.264.184 2.694.218 4.343l.75-.016c.028 1.327.036 2.787.039 4.403l-.75.001.001 2.204v2.55H60v5.1h-.75v2.55l-.001 2.204h.75a231.431 231.431 0 0 1-.039 4.404l-.75-.016c-.034 1.65-.099 3.08-.218 4.343l.747.07c-.159 1.678-.413 3.083-.822 4.316l-.712-.236a10.255 10.255 0 0 1-.827 1.875 14.242 14.242 0 0 1-1.05 1.585l.596.455a14.997 14.997 0 0 1-2.824 2.824l-.455-.596c-.502.384-1.032.735-1.585 1.05-.579.33-1.196.602-1.875.827l.236.712c-1.233.409-2.638.663-4.316.822l-.07-.747c-1.264.119-2.694.184-4.343.218l.016.75c-1.327.028-2.787.036-4.403.039l-.001-.75-2.204.001h-2.55V60h-5.1v-.75H24.9l-2.204-.001v.75a231.431 231.431 0 0 1-4.404-.039l.016-.75c-1.65-.034-3.08-.099-4.343-.218l-.07.747c-1.678-.159-3.083-.413-4.316-.822l.236-.712a10.258 10.258 0 0 1-1.875-.827 14.252 14.252 0 0 1-1.585-1.05l-.455.596A14.999 14.999 0 0 1 3.076 54.1l.596-.455a14.24 14.24 0 0 1-1.05-1.585 10.259 10.259 0 0 1-.827-1.875l-.712.236C.674 49.188.42 47.783.262 46.105l.746-.07C.89 44.77.824 43.34.79 41.692l-.75.016Z"/><path fill="#fff" fill-rule="evenodd" d="M35.643 32.145c-.297-.743-.445-1.114-.401-1.275a.42.42 0 0 1 .182-.27c.134-.1.463-.1 1.123-.1.742 0 1.499.046 2.236-.05a6 6 0 0 0 5.166-5.166c.051-.39.051-.855.051-1.784 0-.928 0-1.393-.051-1.783a6 6 0 0 0-5.166-5.165c-.39-.052-.854-.052-1.783-.052h-7.72c-4.934 0-7.401 0-9.244 1.051a8 8 0 0 0-2.985 2.986C16.057 22.28 16.003 24.58 16 29 15.998 31.075 16 33.15 16 35.224A7.778 7.778 0 0 0 23.778 43H28.5c1.394 0 2.09 0 2.67-.116a6 6 0 0 0 4.715-4.714c.115-.58.115-1.301.115-2.744 0-1.31 0-1.964-.114-2.49a4.998 4.998 0 0 0-.243-.792Z" clip-rule="evenodd"/><path fill="#9EA9A9" fill-rule="evenodd" d="M37 18h-7.72c-2.494 0-4.266.002-5.647.126-1.361.122-2.197.354-2.854.728a6.5 6.5 0 0 0-2.425 2.426c-.375.657-.607 1.492-.729 2.853-.11 1.233-.123 2.777-.125 4.867 0 .7 0 1.05.097 1.181.096.13.182.181.343.2.163.02.518-.18 1.229-.581a6.195 6.195 0 0 1 3.053-.8H37c.977 0 1.32-.003 1.587-.038a4.5 4.5 0 0 0 3.874-3.874c.036-.268.039-.611.039-1.588 0-.976-.003-1.319-.038-1.587a4.5 4.5 0 0 0-3.875-3.874C38.32 18.004 37.977 18 37 18Zm-7.364 12.5h-7.414a4.722 4.722 0 0 0-4.722 4.723 6.278 6.278 0 0 0 6.278 6.278H28.5c1.466 0 1.98-.008 2.378-.087a4.5 4.5 0 0 0 3.535-3.536c.08-.397.087-.933.087-2.451 0-1.391-.009-1.843-.08-2.17a3.5 3.5 0 0 0-2.676-2.676c-.328-.072-.762-.08-2.108-.08Z" clip-rule="evenodd"/></g><defs><clipPath id="q"><path fill="#fff" d="M0 0h60v60H0z"/></clipPath></defs></svg>`,GLOBE_ICON:Ar`<svg width="16" height="16" fill="none" viewBox="0 0 16 16"><path fill="#fff" fill-rule="evenodd" d="M15.5 8a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Zm-2.113.75c.301 0 .535.264.47.558a6.01 6.01 0 0 1-2.867 3.896c-.203.116-.42-.103-.334-.32.409-1.018.691-2.274.797-3.657a.512.512 0 0 1 .507-.477h1.427Zm.47-2.058c.065.294-.169.558-.47.558H11.96a.512.512 0 0 1-.507-.477c-.106-1.383-.389-2.638-.797-3.656-.087-.217.13-.437.333-.32a6.01 6.01 0 0 1 2.868 3.895Zm-4.402.558c.286 0 .515-.24.49-.525-.121-1.361-.429-2.534-.83-3.393-.279-.6-.549-.93-.753-1.112a.535.535 0 0 0-.724 0c-.204.182-.474.513-.754 1.112-.4.859-.708 2.032-.828 3.393a.486.486 0 0 0 .49.525h2.909Zm-5.415 0c.267 0 .486-.21.507-.477.106-1.383.389-2.638.797-3.656.087-.217-.13-.437-.333-.32a6.01 6.01 0 0 0-2.868 3.895c-.065.294.169.558.47.558H4.04ZM2.143 9.308c-.065-.294.169-.558.47-.558H4.04c.267 0 .486.21.507.477.106 1.383.389 2.639.797 3.657.087.217-.13.436-.333.32a6.01 6.01 0 0 1-2.868-3.896Zm3.913-.033a.486.486 0 0 1 .49-.525h2.909c.286 0 .515.24.49.525-.121 1.361-.428 2.535-.83 3.394-.279.6-.549.93-.753 1.112a.535.535 0 0 1-.724 0c-.204-.182-.474-.513-.754-1.112-.4-.859-.708-2.033-.828-3.394Z" clip-rule="evenodd"/></svg>`},iB=He`.wcm-toolbar-placeholder{top:0;bottom:0;left:0;right:0;width:100%;position:absolute;display:block;pointer-events:none;height:100px;border-radius:calc(var(--wcm-background-border-radius) * .9);background-color:var(--wcm-background-color);background-position:center;background-size:cover}.wcm-toolbar{height:38px;display:flex;position:relative;margin:5px 15px 5px 5px;justify-content:space-between;align-items:center}.wcm-toolbar img,.wcm-toolbar svg{height:28px;object-position:left center;object-fit:contain}#wcm-wc-logo path{fill:var(--wcm-accent-fill-color)}button{width:28px;height:28px;border-radius:var(--wcm-icon-button-border-radius);border:0;display:flex;justify-content:center;align-items:center;cursor:pointer;background-color:var(--wcm-color-bg-1);box-shadow:0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-bg-2)}button svg{display:block;object-position:center}button path{fill:var(--wcm-color-fg-1)}.wcm-toolbar div{display:flex}@media(hover:hover){button:hover{background-color:var(--wcm-color-bg-2)}}`;var nB=Object.defineProperty,sB=Object.getOwnPropertyDescriptor,oB=(e,t,r,i)=>{for(var n=i>1?void 0:i?sB(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&nB(t,r,n),n};let np=class extends Oe{render(){return Gt`<div class="wcm-toolbar-placeholder"></div><div class="wcm-toolbar">${Ge.WALLET_CONNECT_LOGO} <button @click="${Ko.close}">${Ge.CROSS_ICON}</button></div>`}};np.styles=[Ue.globalCss,iB],np=oB([je("wcm-modal-backcard")],np);const aB=He`main{padding:20px;padding-top:0;width:100%}`;var cB=Object.defineProperty,hB=Object.getOwnPropertyDescriptor,uB=(e,t,r,i)=>{for(var n=i>1?void 0:i?hB(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&cB(t,r,n),n};let sp=class extends Oe{render(){return Gt`<main><slot></slot></main>`}};sp.styles=[Ue.globalCss,aB],sp=uB([je("wcm-modal-content")],sp);const lB=He`footer{padding:10px;display:flex;flex-direction:column;align-items:inherit;justify-content:inherit;border-top:1px solid var(--wcm-color-bg-2)}`;var fB=Object.defineProperty,dB=Object.getOwnPropertyDescriptor,pB=(e,t,r,i)=>{for(var n=i>1?void 0:i?dB(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&fB(t,r,n),n};let op=class extends Oe{render(){return Gt`<footer><slot></slot></footer>`}};op.styles=[Ue.globalCss,lB],op=pB([je("wcm-modal-footer")],op);const gB=He`header{display:flex;justify-content:center;align-items:center;padding:20px;position:relative}.wcm-border{border-bottom:1px solid var(--wcm-color-bg-2);margin-bottom:20px}header button{padding:15px 20px}header button:active{opacity:.5}@media(hover:hover){header button:hover{opacity:.5}}.wcm-back-btn{position:absolute;left:0}.wcm-action-btn{position:absolute;right:0}path{fill:var(--wcm-accent-color)}`;var mB=Object.defineProperty,vB=Object.getOwnPropertyDescriptor,kh=(e,t,r,i)=>{for(var n=i>1?void 0:i?vB(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&mB(t,r,n),n};let Xo=class extends Oe{constructor(){super(...arguments),this.title="",this.onAction=void 0,this.actionIcon=void 0,this.border=!1}backBtnTemplate(){return Gt`<button class="wcm-back-btn" @click="${vr.goBack}">${Ge.BACK_ICON}</button>`}actionBtnTemplate(){return Gt`<button class="wcm-action-btn" @click="${this.onAction}">${this.actionIcon}</button>`}render(){const e={"wcm-border":this.border},t=vr.state.history.length>1,r=this.title?Gt`<wcm-text variant="big-bold">${this.title}</wcm-text>`:Gt`<slot></slot>`;return Gt`<header class="${Bs(e)}">${t?this.backBtnTemplate():null} ${r} ${this.onAction?this.actionBtnTemplate():null}</header>`}};Xo.styles=[Ue.globalCss,gB],kh([_e()],Xo.prototype,"title",2),kh([_e()],Xo.prototype,"onAction",2),kh([_e()],Xo.prototype,"actionIcon",2),kh([_e({type:Boolean})],Xo.prototype,"border",2),Xo=kh([je("wcm-modal-header")],Xo);const le={MOBILE_BREAKPOINT:600,WCM_RECENT_WALLET_DATA:"WCM_RECENT_WALLET_DATA",EXPLORER_WALLET_URL:"https://explorer.walletconnect.com/?type=wallet",getShadowRootElement(e,t){const r=e.renderRoot.querySelector(t);if(!r)throw new Error(`${t} not found`);return r},getWalletIcon({id:e,image_id:t}){const{walletImages:r}=Gi.state;return r!=null&&r[e]?r[e]:t?$i.getWalletImageUrl(t):""},getWalletName(e,t=!1){return t&&e.length>8?`${e.substring(0,8)}..`:e},isMobileAnimation(){return window.innerWidth<=le.MOBILE_BREAKPOINT},async preloadImage(e){const t=new Promise((r,i)=>{const n=new Image;n.onload=r,n.onerror=i,n.crossOrigin="anonymous",n.src=e});return Promise.race([t,se.wait(3e3)])},getErrorMessage(e){return e instanceof Error?e.message:"Unknown Error"},debounce(e,t=500){let r;return(...i)=>{function n(){e(...i)}r&&clearTimeout(r),r=setTimeout(n,t)}},handleMobileLinking(e){const{walletConnectUri:t}=Sr.state,{mobile:r,name:i}=e,n=r?.native,s=r?.universal;le.setRecentWallet(e);function h(d){let g="";n?g=se.formatUniversalUrl(n,d,i):s&&(g=se.formatNativeUrl(s,d,i)),se.openHref(g,"_self")}t&&h(t)},handleAndroidLinking(){const{walletConnectUri:e}=Sr.state;e&&(se.setWalletConnectAndroidDeepLink(e),se.openHref(e,"_self"))},async handleUriCopy(){const{walletConnectUri:e}=Sr.state;if(e)try{await navigator.clipboard.writeText(e),co.openToast("Link copied","success")}catch{co.openToast("Failed to copy","error")}},getCustomImageUrls(){const{walletImages:e}=Gi.state,t=Object.values(e??{});return Object.values(t)},truncate(e,t=8){return e.length<=t?e:`${e.substring(0,4)}...${e.substring(e.length-4)}`},setRecentWallet(e){try{localStorage.setItem(le.WCM_RECENT_WALLET_DATA,JSON.stringify(e))}catch{console.info("Unable to set recent wallet")}},getRecentWallet(){try{const e=localStorage.getItem(le.WCM_RECENT_WALLET_DATA);return e?JSON.parse(e):void 0}catch{console.info("Unable to get recent wallet")}},caseSafeIncludes(e,t){return e.toUpperCase().includes(t.toUpperCase())},openWalletExplorerUrl(){se.openHref(le.EXPLORER_WALLET_URL,"_blank")},getCachedRouterWalletPlatforms(){const{desktop:e,mobile:t}=se.getWalletRouterData(),r=!!e?.native,i=!!e?.universal,n=!!t?.native||!!t?.universal;return{isDesktop:r,isMobile:n,isWeb:i}},goToConnectingView(e){vr.setData({Wallet:e});const t=se.isMobile(),{isDesktop:r,isWeb:i,isMobile:n}=le.getCachedRouterWalletPlatforms();t?n?vr.push("MobileConnecting"):i?vr.push("WebConnecting"):vr.push("InstallWallet"):r?vr.push("DesktopConnecting"):i?vr.push("WebConnecting"):n?vr.push("MobileQrcodeConnecting"):vr.push("InstallWallet")}},wB=He`.wcm-router{overflow:hidden;will-change:transform}.wcm-content{display:flex;flex-direction:column}`;var yB=Object.defineProperty,bB=Object.getOwnPropertyDescriptor,ap=(e,t,r,i)=>{for(var n=i>1?void 0:i?bB(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&yB(t,r,n),n};let jh=class extends Oe{constructor(){super(),this.view=vr.state.view,this.prevView=vr.state.view,this.unsubscribe=void 0,this.oldHeight="0px",this.resizeObserver=void 0,this.unsubscribe=vr.subscribe(e=>{this.view!==e.view&&this.onChangeRoute()})}firstUpdated(){this.resizeObserver=new ResizeObserver(([e])=>{const t=`${e.contentRect.height}px`;this.oldHeight!=="0px"&&Zo(this.routerEl,{height:[this.oldHeight,t]},{duration:.2}),this.oldHeight=t}),this.resizeObserver.observe(this.contentEl)}disconnectedCallback(){var e,t;(e=this.unsubscribe)==null||e.call(this),(t=this.resizeObserver)==null||t.disconnect()}get routerEl(){return le.getShadowRootElement(this,".wcm-router")}get contentEl(){return le.getShadowRootElement(this,".wcm-content")}viewTemplate(){switch(this.view){case"ConnectWallet":return Gt`<wcm-connect-wallet-view></wcm-connect-wallet-view>`;case"DesktopConnecting":return Gt`<wcm-desktop-connecting-view></wcm-desktop-connecting-view>`;case"MobileConnecting":return Gt`<wcm-mobile-connecting-view></wcm-mobile-connecting-view>`;case"WebConnecting":return Gt`<wcm-web-connecting-view></wcm-web-connecting-view>`;case"MobileQrcodeConnecting":return Gt`<wcm-mobile-qr-connecting-view></wcm-mobile-qr-connecting-view>`;case"WalletExplorer":return Gt`<wcm-wallet-explorer-view></wcm-wallet-explorer-view>`;case"Qrcode":return Gt`<wcm-qrcode-view></wcm-qrcode-view>`;case"InstallWallet":return Gt`<wcm-install-wallet-view></wcm-install-wallet-view>`;default:return Gt`<div>Not Found</div>`}}async onChangeRoute(){await Zo(this.routerEl,{opacity:[1,0],scale:[1,1.02]},{duration:.15,delay:.1}).finished,this.view=vr.state.view,Zo(this.routerEl,{opacity:[0,1],scale:[.99,1]},{duration:.37,delay:.05})}render(){return Gt`<div class="wcm-router"><div class="wcm-content">${this.viewTemplate()}</div></div>`}};jh.styles=[Ue.globalCss,wB],ap([Bi()],jh.prototype,"view",2),ap([Bi()],jh.prototype,"prevView",2),jh=ap([je("wcm-modal-router")],jh);const AB=He`div{height:36px;width:max-content;display:flex;justify-content:center;align-items:center;padding:9px 15px 11px;position:absolute;top:12px;box-shadow:0 6px 14px -6px rgba(10,16,31,.3),0 10px 32px -4px rgba(10,16,31,.15);z-index:2;left:50%;transform:translateX(-50%);pointer-events:none;backdrop-filter:blur(20px) saturate(1.8);-webkit-backdrop-filter:blur(20px) saturate(1.8);border-radius:var(--wcm-notification-border-radius);border:1px solid var(--wcm-color-overlay);background-color:var(--wcm-color-overlay)}svg{margin-right:5px}@-moz-document url-prefix(){div{background-color:var(--wcm-color-bg-3)}}.wcm-success path{fill:var(--wcm-accent-color)}.wcm-error path{fill:var(--wcm-error-color)}`;var _B=Object.defineProperty,EB=Object.getOwnPropertyDescriptor,Lb=(e,t,r,i)=>{for(var n=i>1?void 0:i?EB(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&_B(t,r,n),n};let Wl=class extends Oe{constructor(){super(),this.open=!1,this.unsubscribe=void 0,this.timeout=void 0,this.unsubscribe=co.subscribe(e=>{e.open?(this.open=!0,this.timeout=setTimeout(()=>co.closeToast(),2200)):(this.open=!1,clearTimeout(this.timeout))})}disconnectedCallback(){var e;(e=this.unsubscribe)==null||e.call(this),clearTimeout(this.timeout),co.closeToast()}render(){const{message:e,variant:t}=co.state,r={"wcm-success":t==="success","wcm-error":t==="error"};return this.open?Gt`<div class="${Bs(r)}">${t==="success"?Ge.CHECKMARK_ICON:null} ${t==="error"?Ge.CROSS_ICON:null}<wcm-text variant="small-regular">${e}</wcm-text></div>`:null}};Wl.styles=[Ue.globalCss,AB],Lb([Bi()],Wl.prototype,"open",2),Wl=Lb([je("wcm-modal-toast")],Wl);const MB=.1,Fb=2.5,Us=7;function cp(e,t,r){return e===t?!1:(e-t<0?t-e:e-t)<=r+MB}function SB(e,t){const r=Array.prototype.slice.call($h.create(e,{errorCorrectionLevel:t}).modules.data,0),i=Math.sqrt(r.length);return r.reduce((n,s,h)=>(h%i===0?n.push([s]):n[n.length-1].push(s))&&n,[])}const IB={generate(e,t,r){const i="#141414",n="#ffffff",s=[],h=SB(e,"Q"),d=t/h.length,g=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];g.forEach(({x:N,y:L})=>{const z=(h.length-Us)*d*N,G=(h.length-Us)*d*L,q=.45;for(let W=0;W<g.length;W+=1){const B=d*(Us-W*2);s.push(Ar`<rect fill="${W%2===0?i:n}" height="${B}" rx="${B*q}" ry="${B*q}" width="${B}" x="${z+d*W}" y="${G+d*W}">`)}});const p=Math.floor((r+25)/d),_=h.length/2-p/2,S=h.length/2+p/2-1,D=[];h.forEach((N,L)=>{N.forEach((z,G)=>{if(h[L][G]&&!(L<Us&&G<Us||L>h.length-(Us+1)&&G<Us||L<Us&&G>h.length-(Us+1))&&!(L>_&&L<S&&G>_&&G<S)){const q=L*d+d/2,W=G*d+d/2;D.push([q,W])}})});const O={};return D.forEach(([N,L])=>{O[N]?O[N].push(L):O[N]=[L]}),Object.entries(O).map(([N,L])=>{const z=L.filter(G=>L.every(q=>!cp(G,q,d)));return[Number(N),z]}).forEach(([N,L])=>{L.forEach(z=>{s.push(Ar`<circle cx="${N}" cy="${z}" fill="${i}" r="${d/Fb}">`)})}),Object.entries(O).filter(([N,L])=>L.length>1).map(([N,L])=>{const z=L.filter(G=>L.some(q=>cp(G,q,d)));return[Number(N),z]}).map(([N,L])=>{L.sort((G,q)=>G<q?-1:1);const z=[];for(const G of L){const q=z.find(W=>W.some(B=>cp(G,B,d)));q?q.push(G):z.push([G])}return[N,z.map(G=>[G[0],G[G.length-1]])]}).forEach(([N,L])=>{L.forEach(([z,G])=>{s.push(Ar`<line x1="${N}" x2="${N}" y1="${z}" y2="${G}" stroke="${i}" stroke-width="${d/(Fb/2)}" stroke-linecap="round">`)})}),s}},xB=He`@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}div{position:relative;user-select:none;display:block;overflow:hidden;aspect-ratio:1/1;animation:fadeIn ease .2s}.wcm-dark{background-color:#fff;border-radius:var(--wcm-container-border-radius);padding:18px;box-shadow:0 2px 5px #000}svg:first-child,wcm-wallet-image{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{transform:translateY(-50%) translateX(-50%)}wcm-wallet-image{width:25%;height:25%;border-radius:var(--wcm-wallet-icon-border-radius)}svg:first-child{transform:translateY(-50%) translateX(-50%) scale(.9)}svg:first-child path:first-child{fill:var(--wcm-accent-color)}svg:first-child path:last-child{stroke:var(--wcm-color-overlay)}`;var CB=Object.defineProperty,DB=Object.getOwnPropertyDescriptor,fc=(e,t,r,i)=>{for(var n=i>1?void 0:i?DB(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&CB(t,r,n),n};let Ls=class extends Oe{constructor(){super(...arguments),this.uri="",this.size=0,this.imageId=void 0,this.walletId=void 0,this.imageUrl=void 0}svgTemplate(){const e=ao.state.themeMode==="light"?this.size:this.size-36;return Ar`<svg height="${e}" width="${e}">${IB.generate(this.uri,e,e/4)}</svg>`}render(){const e={"wcm-dark":ao.state.themeMode==="dark"};return Gt`<div style="${`width: ${this.size}px`}" class="${Bs(e)}">${this.walletId||this.imageUrl?Gt`<wcm-wallet-image walletId="${pi(this.walletId)}" imageId="${pi(this.imageId)}" imageUrl="${pi(this.imageUrl)}"></wcm-wallet-image>`:Ge.WALLET_CONNECT_ICON_COLORED} ${this.svgTemplate()}</div>`}};Ls.styles=[Ue.globalCss,xB],fc([_e()],Ls.prototype,"uri",2),fc([_e({type:Number})],Ls.prototype,"size",2),fc([_e()],Ls.prototype,"imageId",2),fc([_e()],Ls.prototype,"walletId",2),fc([_e()],Ls.prototype,"imageUrl",2),Ls=fc([je("wcm-qrcode")],Ls);const OB=He`:host{position:relative;height:28px;width:80%}input{width:100%;height:100%;line-height:28px!important;border-radius:var(--wcm-input-border-radius);font-style:normal;font-family:-apple-system,system-ui,BlinkMacSystemFont,'Segoe UI',Roboto,Ubuntu,'Helvetica Neue',sans-serif;font-feature-settings:'case' on;font-weight:500;font-size:16px;letter-spacing:-.03em;padding:0 10px 0 34px;transition:.2s all ease;color:var(--wcm-color-fg-1);background-color:var(--wcm-color-bg-3);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay);caret-color:var(--wcm-accent-color)}input::placeholder{color:var(--wcm-color-fg-2)}svg{left:10px;top:4px;pointer-events:none;position:absolute;width:20px;height:20px}input:focus-within{box-shadow:inset 0 0 0 1px var(--wcm-accent-color)}path{fill:var(--wcm-color-fg-2)}`;var NB=Object.defineProperty,PB=Object.getOwnPropertyDescriptor,kb=(e,t,r,i)=>{for(var n=i>1?void 0:i?PB(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&NB(t,r,n),n};let Vl=class extends Oe{constructor(){super(...arguments),this.onChange=()=>null}render(){return Gt`<input type="text" @input="${this.onChange}" placeholder="Search wallets"> ${Ge.SEARCH_ICON}`}};Vl.styles=[Ue.globalCss,OB],kb([_e()],Vl.prototype,"onChange",2),Vl=kb([je("wcm-search-input")],Vl);const RB=He`@keyframes rotate{100%{transform:rotate(360deg)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}100%{stroke-dasharray:90,150;stroke-dashoffset:-124}}svg{animation:rotate 2s linear infinite;display:flex;justify-content:center;align-items:center}svg circle{stroke-linecap:round;animation:dash 1.5s ease infinite;stroke:var(--wcm-accent-color)}`;var TB=Object.defineProperty,$B=Object.getOwnPropertyDescriptor,BB=(e,t,r,i)=>{for(var n=i>1?void 0:i?$B(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&TB(t,r,n),n};let hp=class extends Oe{render(){return Gt`<svg viewBox="0 0 50 50" width="24" height="24"><circle cx="25" cy="25" r="20" fill="none" stroke-width="4" stroke="#fff"/></svg>`}};hp.styles=[Ue.globalCss,RB],hp=BB([je("wcm-spinner")],hp);const UB=He`span{font-style:normal;font-family:var(--wcm-font-family);font-feature-settings:var(--wcm-font-feature-settings)}.wcm-xsmall-bold{font-family:var(--wcm-text-xsmall-bold-font-family);font-weight:var(--wcm-text-xsmall-bold-weight);font-size:var(--wcm-text-xsmall-bold-size);line-height:var(--wcm-text-xsmall-bold-line-height);letter-spacing:var(--wcm-text-xsmall-bold-letter-spacing);text-transform:var(--wcm-text-xsmall-bold-text-transform)}.wcm-xsmall-regular{font-family:var(--wcm-text-xsmall-regular-font-family);font-weight:var(--wcm-text-xsmall-regular-weight);font-size:var(--wcm-text-xsmall-regular-size);line-height:var(--wcm-text-xsmall-regular-line-height);letter-spacing:var(--wcm-text-xsmall-regular-letter-spacing);text-transform:var(--wcm-text-xsmall-regular-text-transform)}.wcm-small-thin{font-family:var(--wcm-text-small-thin-font-family);font-weight:var(--wcm-text-small-thin-weight);font-size:var(--wcm-text-small-thin-size);line-height:var(--wcm-text-small-thin-line-height);letter-spacing:var(--wcm-text-small-thin-letter-spacing);text-transform:var(--wcm-text-small-thin-text-transform)}.wcm-small-regular{font-family:var(--wcm-text-small-regular-font-family);font-weight:var(--wcm-text-small-regular-weight);font-size:var(--wcm-text-small-regular-size);line-height:var(--wcm-text-small-regular-line-height);letter-spacing:var(--wcm-text-small-regular-letter-spacing);text-transform:var(--wcm-text-small-regular-text-transform)}.wcm-medium-regular{font-family:var(--wcm-text-medium-regular-font-family);font-weight:var(--wcm-text-medium-regular-weight);font-size:var(--wcm-text-medium-regular-size);line-height:var(--wcm-text-medium-regular-line-height);letter-spacing:var(--wcm-text-medium-regular-letter-spacing);text-transform:var(--wcm-text-medium-regular-text-transform)}.wcm-big-bold{font-family:var(--wcm-text-big-bold-font-family);font-weight:var(--wcm-text-big-bold-weight);font-size:var(--wcm-text-big-bold-size);line-height:var(--wcm-text-big-bold-line-height);letter-spacing:var(--wcm-text-big-bold-letter-spacing);text-transform:var(--wcm-text-big-bold-text-transform)}:host(*){color:var(--wcm-color-fg-1)}.wcm-color-primary{color:var(--wcm-color-fg-1)}.wcm-color-secondary{color:var(--wcm-color-fg-2)}.wcm-color-tertiary{color:var(--wcm-color-fg-3)}.wcm-color-inverse{color:var(--wcm-accent-fill-color)}.wcm-color-accnt{color:var(--wcm-accent-color)}.wcm-color-error{color:var(--wcm-error-color)}`;var LB=Object.defineProperty,FB=Object.getOwnPropertyDescriptor,up=(e,t,r,i)=>{for(var n=i>1?void 0:i?FB(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&LB(t,r,n),n};let qh=class extends Oe{constructor(){super(...arguments),this.variant="medium-regular",this.color="primary"}render(){const e={"wcm-big-bold":this.variant==="big-bold","wcm-medium-regular":this.variant==="medium-regular","wcm-small-regular":this.variant==="small-regular","wcm-small-thin":this.variant==="small-thin","wcm-xsmall-regular":this.variant==="xsmall-regular","wcm-xsmall-bold":this.variant==="xsmall-bold","wcm-color-primary":this.color==="primary","wcm-color-secondary":this.color==="secondary","wcm-color-tertiary":this.color==="tertiary","wcm-color-inverse":this.color==="inverse","wcm-color-accnt":this.color==="accent","wcm-color-error":this.color==="error"};return Gt`<span><slot class="${Bs(e)}"></slot></span>`}};qh.styles=[Ue.globalCss,UB],up([_e()],qh.prototype,"variant",2),up([_e()],qh.prototype,"color",2),qh=up([je("wcm-text")],qh);const kB=He`button{width:100%;height:100%;border-radius:var(--wcm-button-hover-highlight-border-radius);display:flex;align-items:flex-start}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}button>div{width:80px;padding:5px 0;display:flex;flex-direction:column;align-items:center}wcm-text{width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}wcm-wallet-image{height:60px;width:60px;transition:all .2s ease;border-radius:var(--wcm-wallet-icon-border-radius);margin-bottom:5px}.wcm-sublabel{margin-top:2px}`;var jB=Object.defineProperty,qB=Object.getOwnPropertyDescriptor,go=(e,t,r,i)=>{for(var n=i>1?void 0:i?qB(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&jB(t,r,n),n};let ms=class extends Oe{constructor(){super(...arguments),this.onClick=()=>null,this.name="",this.walletId="",this.label=void 0,this.imageId=void 0,this.installed=!1,this.recent=!1}sublabelTemplate(){return this.recent?Gt`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">RECENT</wcm-text>`:this.installed?Gt`<wcm-text class="wcm-sublabel" variant="xsmall-bold" color="tertiary">INSTALLED</wcm-text>`:null}handleClick(){M3.click({name:"WALLET_BUTTON",walletId:this.walletId}),this.onClick()}render(){var e;return Gt`<button @click="${this.handleClick.bind(this)}"><div><wcm-wallet-image walletId="${this.walletId}" imageId="${pi(this.imageId)}"></wcm-wallet-image><wcm-text variant="xsmall-regular">${(e=this.label)!=null?e:le.getWalletName(this.name,!0)}</wcm-text>${this.sublabelTemplate()}</div></button>`}};ms.styles=[Ue.globalCss,kB],go([_e()],ms.prototype,"onClick",2),go([_e()],ms.prototype,"name",2),go([_e()],ms.prototype,"walletId",2),go([_e()],ms.prototype,"label",2),go([_e()],ms.prototype,"imageId",2),go([_e({type:Boolean})],ms.prototype,"installed",2),go([_e({type:Boolean})],ms.prototype,"recent",2),ms=go([je("wcm-wallet-button")],ms);const zB=He`:host{display:block}div{overflow:hidden;position:relative;border-radius:inherit;width:100%;height:100%;background-color:var(--wcm-color-overlay)}svg{position:relative;width:100%;height:100%}div::after{content:'';position:absolute;top:0;bottom:0;left:0;right:0;border-radius:inherit;border:1px solid var(--wcm-color-overlay)}div img{width:100%;height:100%;object-fit:cover;object-position:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var HB=Object.defineProperty,KB=Object.getOwnPropertyDescriptor,Gl=(e,t,r,i)=>{for(var n=i>1?void 0:i?KB(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&HB(t,r,n),n};let dc=class extends Oe{constructor(){super(...arguments),this.walletId="",this.imageId=void 0,this.imageUrl=void 0}render(){var e;const t=(e=this.imageUrl)!=null&&e.length?this.imageUrl:le.getWalletIcon({id:this.walletId,image_id:this.imageId});return Gt`${t.length?Gt`<div><img crossorigin="anonymous" src="${t}" alt="${this.id}"></div>`:Ge.WALLET_PLACEHOLDER}`}};dc.styles=[Ue.globalCss,zB],Gl([_e()],dc.prototype,"walletId",2),Gl([_e()],dc.prototype,"imageId",2),Gl([_e()],dc.prototype,"imageUrl",2),dc=Gl([je("wcm-wallet-image")],dc);var WB=Object.defineProperty,VB=Object.getOwnPropertyDescriptor,jb=(e,t,r,i)=>{for(var n=i>1?void 0:i?VB(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&WB(t,r,n),n};let lp=class extends Oe{constructor(){super(),this.preload=!0,this.preloadData()}async loadImages(e){try{e!=null&&e.length&&await Promise.all(e.map(async t=>le.preloadImage(t)))}catch{console.info("Unsuccessful attempt at preloading some images",e)}}async preloadListings(){if(Gi.state.enableExplorer){await $i.getRecomendedWallets(),Sr.setIsDataLoaded(!0);const{recomendedWallets:e}=$i.state,t=e.map(r=>le.getWalletIcon(r));await this.loadImages(t)}else Sr.setIsDataLoaded(!0)}async preloadCustomImages(){const e=le.getCustomImageUrls();await this.loadImages(e)}async preloadData(){try{this.preload&&(this.preload=!1,await Promise.all([this.preloadListings(),this.preloadCustomImages()]))}catch(e){console.error(e),co.openToast("Failed preloading","error")}}};jb([Bi()],lp.prototype,"preload",2),lp=jb([je("wcm-explorer-context")],lp);var GB=Object.defineProperty,QB=Object.getOwnPropertyDescriptor,YB=(e,t,r,i)=>{for(var n=i>1?void 0:i?QB(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&GB(t,r,n),n};let qb=class extends Oe{constructor(){super(),this.unsubscribeTheme=void 0,Ue.setTheme(),this.unsubscribeTheme=ao.subscribe(Ue.setTheme)}disconnectedCallback(){var e;(e=this.unsubscribeTheme)==null||e.call(this)}};qb=YB([je("wcm-theme-context")],qb);const JB=He`@keyframes scroll{0%{transform:translate3d(0,0,0)}100%{transform:translate3d(calc(-70px * 9),0,0)}}.wcm-slider{position:relative;overflow-x:hidden;padding:10px 0;margin:0 -20px;width:calc(100% + 40px)}.wcm-track{display:flex;width:calc(70px * 18);animation:scroll 20s linear infinite;opacity:.7}.wcm-track svg{margin:0 5px}wcm-wallet-image{width:60px;height:60px;margin:0 5px;border-radius:var(--wcm-wallet-icon-border-radius)}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-title{display:flex;align-items:center;margin-bottom:10px}.wcm-title svg{margin-right:6px}.wcm-title path{fill:var(--wcm-accent-color)}wcm-modal-footer .wcm-title{padding:0 10px}wcm-button-big{position:absolute;top:50%;left:50%;transform:translateY(-50%) translateX(-50%);filter:drop-shadow(0 0 17px var(--wcm-color-bg-1))}wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-info-footer wcm-text{text-align:center;margin-bottom:15px}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var ZB=Object.defineProperty,XB=Object.getOwnPropertyDescriptor,tU=(e,t,r,i)=>{for(var n=i>1?void 0:i?XB(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&ZB(t,r,n),n};let fp=class extends Oe{onGoToQrcode(){vr.push("Qrcode")}render(){const{recomendedWallets:e}=$i.state,t=[...e,...e],r=se.RECOMMENDED_WALLET_AMOUNT*2;return Gt`<wcm-modal-header title="Connect your wallet" .onAction="${this.onGoToQrcode}" .actionIcon="${Ge.QRCODE_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-title">${Ge.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">WalletConnect</wcm-text></div><div class="wcm-slider"><div class="wcm-track">${[...Array(r)].map((i,n)=>{const s=t[n%t.length];return s?Gt`<wcm-wallet-image walletId="${s.id}" imageId="${s.image_id}"></wcm-wallet-image>`:Ge.WALLET_PLACEHOLDER})}</div><wcm-button-big @click="${le.handleAndroidLinking}"><wcm-text variant="medium-regular" color="inverse">Select Wallet</wcm-text></wcm-button-big></div></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">Choose WalletConnect to see supported apps on your device</wcm-text></wcm-info-footer>`}};fp.styles=[Ue.globalCss,JB],fp=tU([je("wcm-android-wallet-selection")],fp);const eU=He`@keyframes loading{to{stroke-dashoffset:0}}@keyframes shake{10%,90%{transform:translate3d(-1px,0,0)}20%,80%{transform:translate3d(1px,0,0)}30%,50%,70%{transform:translate3d(-2px,0,0)}40%,60%{transform:translate3d(2px,0,0)}}:host{display:flex;flex-direction:column;align-items:center}div{position:relative;width:110px;height:110px;display:flex;justify-content:center;align-items:center;margin:40px 0 20px 0;transform:translate3d(0,0,0)}svg{position:absolute;width:110px;height:110px;fill:none;stroke:transparent;stroke-linecap:round;stroke-width:2px;top:0;left:0}use{stroke:var(--wcm-accent-color);animation:loading 1s linear infinite}wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:90px;height:90px}wcm-text{margin-bottom:40px}.wcm-error svg{stroke:var(--wcm-error-color)}.wcm-error use{display:none}.wcm-error{animation:shake .4s cubic-bezier(.36,.07,.19,.97) both}.wcm-stale svg,.wcm-stale use{display:none}`;var rU=Object.defineProperty,iU=Object.getOwnPropertyDescriptor,pc=(e,t,r,i)=>{for(var n=i>1?void 0:i?iU(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&rU(t,r,n),n};let mo=class extends Oe{constructor(){super(...arguments),this.walletId=void 0,this.imageId=void 0,this.isError=!1,this.isStale=!1,this.label=""}svgLoaderTemplate(){var e,t;const r=(t=(e=ao.state.themeVariables)==null?void 0:e["--wcm-wallet-icon-large-border-radius"])!=null?t:Ue.getPreset("--wcm-wallet-icon-large-border-radius");let i=0;r.includes("%")?i=88/100*parseInt(r,10):i=parseInt(r,10),i*=1.17;const n=317-i*1.57,s=425-i*1.8;return Gt`<svg viewBox="0 0 110 110" width="110" height="110"><rect id="wcm-loader" x="2" y="2" width="106" height="106" rx="${i}"/><use xlink:href="#wcm-loader" stroke-dasharray="106 ${n}" stroke-dashoffset="${s}"></use></svg>`}render(){const e={"wcm-error":this.isError,"wcm-stale":this.isStale};return Gt`<div class="${Bs(e)}">${this.svgLoaderTemplate()}<wcm-wallet-image walletId="${pi(this.walletId)}" imageId="${pi(this.imageId)}"></wcm-wallet-image></div><wcm-text variant="medium-regular" color="${this.isError?"error":"primary"}">${this.isError?"Connection declined":this.label}</wcm-text>`}};mo.styles=[Ue.globalCss,eU],pc([_e()],mo.prototype,"walletId",2),pc([_e()],mo.prototype,"imageId",2),pc([_e({type:Boolean})],mo.prototype,"isError",2),pc([_e({type:Boolean})],mo.prototype,"isStale",2),pc([_e()],mo.prototype,"label",2),mo=pc([je("wcm-connector-waiting")],mo);const gc={manualWallets(){var e,t;const{mobileWallets:r,desktopWallets:i}=Gi.state,n=(e=gc.recentWallet())==null?void 0:e.id,s=se.isMobile()?r:i,h=s?.filter(d=>n!==d.id);return(t=se.isMobile()?h?.map(({id:d,name:g,links:p})=>({id:d,name:g,mobile:p,links:p})):h?.map(({id:d,name:g,links:p})=>({id:d,name:g,desktop:p,links:p})))!=null?t:[]},recentWallet(){return le.getRecentWallet()},recomendedWallets(e=!1){var t;const r=e||(t=gc.recentWallet())==null?void 0:t.id,{recomendedWallets:i}=$i.state;return i.filter(n=>r!==n.id)}},vo={onConnecting(e){le.goToConnectingView(e)},manualWalletsTemplate(){return gc.manualWallets().map(e=>Gt`<wcm-wallet-button walletId="${e.id}" name="${e.name}" .onClick="${()=>this.onConnecting(e)}"></wcm-wallet-button>`)},recomendedWalletsTemplate(e=!1){return gc.recomendedWallets(e).map(t=>Gt`<wcm-wallet-button name="${t.name}" walletId="${t.id}" imageId="${t.image_id}" .onClick="${()=>this.onConnecting(t)}"></wcm-wallet-button>`)},recentWalletTemplate(){const e=gc.recentWallet();if(e)return Gt`<wcm-wallet-button name="${e.name}" walletId="${e.id}" imageId="${pi(e.image_id)}" .recent="${!0}" .onClick="${()=>this.onConnecting(e)}"></wcm-wallet-button>`}},nU=He`.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between}.wcm-desktop-title,.wcm-mobile-title{display:flex;align-items:center}.wcm-mobile-title{justify-content:space-between;margin-bottom:20px;margin-top:-10px}.wcm-desktop-title{margin-bottom:10px;padding:0 10px}.wcm-subtitle{display:flex;align-items:center}.wcm-subtitle:last-child path{fill:var(--wcm-color-fg-3)}.wcm-desktop-title svg,.wcm-mobile-title svg{margin-right:6px}.wcm-desktop-title path,.wcm-mobile-title path{fill:var(--wcm-accent-color)}`;var sU=Object.defineProperty,oU=Object.getOwnPropertyDescriptor,aU=(e,t,r,i)=>{for(var n=i>1?void 0:i?oU(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&sU(t,r,n),n};let dp=class extends Oe{render(){const{explorerExcludedWalletIds:e,enableExplorer:t}=Gi.state,r=e!=="ALL"&&t,i=vo.manualWalletsTemplate(),n=vo.recomendedWalletsTemplate();let s=[vo.recentWalletTemplate(),...i,...n];s=s.filter(Boolean);const h=s.length>4||r;let d=[];h?d=s.slice(0,3):d=s;const g=!!d.length;return Gt`<wcm-modal-header .border="${!0}" title="Connect your wallet" .onAction="${le.handleUriCopy}" .actionIcon="${Ge.COPY_ICON}"></wcm-modal-header><wcm-modal-content><div class="wcm-mobile-title"><div class="wcm-subtitle">${Ge.MOBILE_ICON}<wcm-text variant="small-regular" color="accent">Mobile</wcm-text></div><div class="wcm-subtitle">${Ge.SCAN_ICON}<wcm-text variant="small-regular" color="secondary">Scan with your wallet</wcm-text></div></div><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>${g?Gt`<wcm-modal-footer><div class="wcm-desktop-title">${Ge.DESKTOP_ICON}<wcm-text variant="small-regular" color="accent">Desktop</wcm-text></div><div class="wcm-grid">${d} ${h?Gt`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-footer>`:null}`}};dp.styles=[Ue.globalCss,nU],dp=aU([je("wcm-desktop-wallet-selection")],dp);const cU=He`div{background-color:var(--wcm-color-bg-2);padding:10px 20px 15px 20px;border-top:1px solid var(--wcm-color-bg-3);text-align:center}a{color:var(--wcm-accent-color);text-decoration:none;transition:opacity .2s ease-in-out;display:inline}a:active{opacity:.8}@media(hover:hover){a:hover{opacity:.8}}`;var hU=Object.defineProperty,uU=Object.getOwnPropertyDescriptor,lU=(e,t,r,i)=>{for(var n=i>1?void 0:i?uU(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&hU(t,r,n),n};let pp=class extends Oe{render(){const{termsOfServiceUrl:e,privacyPolicyUrl:t}=Gi.state;return e??t?Gt`<div><wcm-text variant="small-regular" color="secondary">By connecting your wallet to this app, you agree to the app's ${e?Gt`<a href="${e}" target="_blank" rel="noopener noreferrer">Terms of Service</a>`:null} ${e&&t?"and":null} ${t?Gt`<a href="${t}" target="_blank" rel="noopener noreferrer">Privacy Policy</a>`:null}</wcm-text></div>`:null}};pp.styles=[Ue.globalCss,cU],pp=lU([je("wcm-legal-notice")],pp);const fU=He`div{display:grid;grid-template-columns:repeat(4,80px);margin:0 -10px;justify-content:space-between;row-gap:10px}`;var dU=Object.defineProperty,pU=Object.getOwnPropertyDescriptor,gU=(e,t,r,i)=>{for(var n=i>1?void 0:i?pU(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&dU(t,r,n),n};let gp=class extends Oe{onQrcode(){vr.push("Qrcode")}render(){const{explorerExcludedWalletIds:e,enableExplorer:t}=Gi.state,r=e!=="ALL"&&t,i=vo.manualWalletsTemplate(),n=vo.recomendedWalletsTemplate();let s=[vo.recentWalletTemplate(),...i,...n];s=s.filter(Boolean);const h=s.length>8||r;let d=[];h?d=s.slice(0,7):d=s;const g=!!d.length;return Gt`<wcm-modal-header title="Connect your wallet" .onAction="${this.onQrcode}" .actionIcon="${Ge.QRCODE_ICON}"></wcm-modal-header>${g?Gt`<wcm-modal-content><div>${d} ${h?Gt`<wcm-view-all-wallets-button></wcm-view-all-wallets-button>`:null}</div></wcm-modal-content>`:null}`}};gp.styles=[Ue.globalCss,fU],gp=gU([je("wcm-mobile-wallet-selection")],gp);const mU=He`:host{all:initial}.wcm-overlay{top:0;bottom:0;left:0;right:0;position:fixed;z-index:var(--wcm-z-index);overflow:hidden;display:flex;justify-content:center;align-items:center;opacity:0;pointer-events:none;background-color:var(--wcm-overlay-background-color);backdrop-filter:var(--wcm-overlay-backdrop-filter)}@media(max-height:720px) and (orientation:landscape){.wcm-overlay{overflow:scroll;align-items:flex-start;padding:20px 0}}.wcm-active{pointer-events:auto}.wcm-container{position:relative;max-width:360px;width:100%;outline:0;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) var(--wcm-container-border-radius) var(--wcm-container-border-radius);border:1px solid var(--wcm-color-overlay);overflow:hidden}.wcm-card{width:100%;position:relative;border-radius:var(--wcm-container-border-radius);overflow:hidden;box-shadow:0 6px 14px -6px rgba(10,16,31,.12),0 10px 32px -4px rgba(10,16,31,.1),0 0 0 1px var(--wcm-color-overlay);background-color:var(--wcm-color-bg-1);color:var(--wcm-color-fg-1)}@media(max-width:600px){.wcm-container{max-width:440px;border-radius:var(--wcm-background-border-radius) var(--wcm-background-border-radius) 0 0}.wcm-card{border-radius:var(--wcm-container-border-radius) var(--wcm-container-border-radius) 0 0}.wcm-overlay{align-items:flex-end}}@media(max-width:440px){.wcm-container{border:0}}`;var vU=Object.defineProperty,wU=Object.getOwnPropertyDescriptor,mp=(e,t,r,i)=>{for(var n=i>1?void 0:i?wU(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&vU(t,r,n),n};let mc=class extends Oe{constructor(){super(),this.open=!1,this.active=!1,this.unsubscribeModal=void 0,this.abortController=void 0,this.unsubscribeModal=Ko.subscribe(e=>{e.open?this.onOpenModalEvent():this.onCloseModalEvent()})}disconnectedCallback(){var e;(e=this.unsubscribeModal)==null||e.call(this)}get overlayEl(){return le.getShadowRootElement(this,".wcm-overlay")}get containerEl(){return le.getShadowRootElement(this,".wcm-container")}toggleBodyScroll(e){document.querySelector("body")&&(e?document.getElementById("wcm-styles")?.remove():document.head.insertAdjacentHTML("beforeend",'<style id="wcm-styles">html,body{touch-action:none;overflow:hidden;overscroll-behavior:contain;}</style>'))}onCloseModal(e){e.target===e.currentTarget&&Ko.close()}onOpenModalEvent(){this.toggleBodyScroll(!1),this.addKeyboardEvents(),this.open=!0,setTimeout(async()=>{const e=le.isMobileAnimation()?{y:["50vh","0vh"]}:{scale:[.98,1]},t=.1,r=.2;await Promise.all([Zo(this.overlayEl,{opacity:[0,1]},{delay:t,duration:r}).finished,Zo(this.containerEl,e,{delay:t,duration:r}).finished]),this.active=!0},0)}async onCloseModalEvent(){this.toggleBodyScroll(!0),this.removeKeyboardEvents();const e=le.isMobileAnimation()?{y:["0vh","50vh"]}:{scale:[1,.98]},t=.2;await Promise.all([Zo(this.overlayEl,{opacity:[1,0]},{duration:t}).finished,Zo(this.containerEl,e,{duration:t}).finished]),this.containerEl.removeAttribute("style"),this.active=!1,this.open=!1}addKeyboardEvents(){this.abortController=new AbortController,window.addEventListener("keydown",e=>{var t;e.key==="Escape"?Ko.close():e.key==="Tab"&&((t=e.target)!=null&&t.tagName.includes("wcm-")||this.containerEl.focus())},this.abortController),this.containerEl.focus()}removeKeyboardEvents(){var e;(e=this.abortController)==null||e.abort(),this.abortController=void 0}render(){const e={"wcm-overlay":!0,"wcm-active":this.active};return Gt`<wcm-explorer-context></wcm-explorer-context><wcm-theme-context></wcm-theme-context><div id="wcm-modal" class="${Bs(e)}" @click="${this.onCloseModal}" role="alertdialog" aria-modal="true"><div class="wcm-container" tabindex="0">${this.open?Gt`<wcm-modal-backcard></wcm-modal-backcard><div class="wcm-card"><wcm-modal-router></wcm-modal-router><wcm-modal-toast></wcm-modal-toast></div>`:null}</div></div>`}};mc.styles=[Ue.globalCss,mU],mp([Bi()],mc.prototype,"open",2),mp([Bi()],mc.prototype,"active",2),mc=mp([je("wcm-modal")],mc);const yU=He`div{display:flex;margin-top:15px}slot{display:inline-block;margin:0 5px}wcm-button{margin:0 5px}`;var bU=Object.defineProperty,AU=Object.getOwnPropertyDescriptor,zh=(e,t,r,i)=>{for(var n=i>1?void 0:i?AU(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&bU(t,r,n),n};let ta=class extends Oe{constructor(){super(...arguments),this.isMobile=!1,this.isDesktop=!1,this.isWeb=!1,this.isRetry=!1}onMobile(){se.isMobile()?vr.replace("MobileConnecting"):vr.replace("MobileQrcodeConnecting")}onDesktop(){vr.replace("DesktopConnecting")}onWeb(){vr.replace("WebConnecting")}render(){return Gt`<div>${this.isRetry?Gt`<slot></slot>`:null} ${this.isMobile?Gt`<wcm-button .onClick="${this.onMobile}" .iconLeft="${Ge.MOBILE_ICON}" variant="outline">Mobile</wcm-button>`:null} ${this.isDesktop?Gt`<wcm-button .onClick="${this.onDesktop}" .iconLeft="${Ge.DESKTOP_ICON}" variant="outline">Desktop</wcm-button>`:null} ${this.isWeb?Gt`<wcm-button .onClick="${this.onWeb}" .iconLeft="${Ge.GLOBE_ICON}" variant="outline">Web</wcm-button>`:null}</div>`}};ta.styles=[Ue.globalCss,yU],zh([_e({type:Boolean})],ta.prototype,"isMobile",2),zh([_e({type:Boolean})],ta.prototype,"isDesktop",2),zh([_e({type:Boolean})],ta.prototype,"isWeb",2),zh([_e({type:Boolean})],ta.prototype,"isRetry",2),ta=zh([je("wcm-platform-selection")],ta);const _U=He`button{display:flex;flex-direction:column;padding:5px 10px;border-radius:var(--wcm-button-hover-highlight-border-radius);height:100%;justify-content:flex-start}.wcm-icons{width:60px;height:60px;display:flex;flex-wrap:wrap;padding:7px;border-radius:var(--wcm-wallet-icon-border-radius);justify-content:space-between;align-items:center;margin-bottom:5px;background-color:var(--wcm-color-bg-2);box-shadow:inset 0 0 0 1px var(--wcm-color-overlay)}button:active{background-color:var(--wcm-color-overlay)}@media(hover:hover){button:hover{background-color:var(--wcm-color-overlay)}}.wcm-icons img{width:21px;height:21px;object-fit:cover;object-position:center;border-radius:calc(var(--wcm-wallet-icon-border-radius)/ 2);border:1px solid var(--wcm-color-overlay)}.wcm-icons svg{width:21px;height:21px}.wcm-icons img:nth-child(1),.wcm-icons img:nth-child(2),.wcm-icons svg:nth-child(1),.wcm-icons svg:nth-child(2){margin-bottom:4px}wcm-text{width:100%;text-align:center}#wallet-placeholder-fill{fill:var(--wcm-color-bg-3)}#wallet-placeholder-dash{stroke:var(--wcm-color-overlay)}`;var EU=Object.defineProperty,MU=Object.getOwnPropertyDescriptor,SU=(e,t,r,i)=>{for(var n=i>1?void 0:i?MU(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&EU(t,r,n),n};let vp=class extends Oe{onClick(){vr.push("WalletExplorer")}render(){const{recomendedWallets:e}=$i.state,t=gc.manualWallets(),r=[...e,...t].reverse().slice(0,4);return Gt`<button @click="${this.onClick}"><div class="wcm-icons">${r.map(i=>{const n=le.getWalletIcon(i);if(n)return Gt`<img crossorigin="anonymous" src="${n}">`;const s=le.getWalletIcon({id:i.id});return s?Gt`<img crossorigin="anonymous" src="${s}">`:Ge.WALLET_PLACEHOLDER})} ${[...Array(4-r.length)].map(()=>Ge.WALLET_PLACEHOLDER)}</div><wcm-text variant="xsmall-regular">View All</wcm-text></button>`}};vp.styles=[Ue.globalCss,_U],vp=SU([je("wcm-view-all-wallets-button")],vp);const IU=He`.wcm-qr-container{width:100%;display:flex;justify-content:center;align-items:center;aspect-ratio:1/1}`;var xU=Object.defineProperty,CU=Object.getOwnPropertyDescriptor,Ql=(e,t,r,i)=>{for(var n=i>1?void 0:i?CU(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&xU(t,r,n),n};let vc=class extends Oe{constructor(){super(),this.walletId="",this.imageId="",this.uri="",setTimeout(()=>{const{walletConnectUri:e}=Sr.state;this.uri=e},0)}get overlayEl(){return le.getShadowRootElement(this,".wcm-qr-container")}render(){return Gt`<div class="wcm-qr-container">${this.uri?Gt`<wcm-qrcode size="${this.overlayEl.offsetWidth}" uri="${this.uri}" walletId="${pi(this.walletId)}" imageId="${pi(this.imageId)}"></wcm-qrcode>`:Gt`<wcm-spinner></wcm-spinner>`}</div>`}};vc.styles=[Ue.globalCss,IU],Ql([_e()],vc.prototype,"walletId",2),Ql([_e()],vc.prototype,"imageId",2),Ql([Bi()],vc.prototype,"uri",2),vc=Ql([je("wcm-walletconnect-qr")],vc);var DU=Object.defineProperty,OU=Object.getOwnPropertyDescriptor,NU=(e,t,r,i)=>{for(var n=i>1?void 0:i?OU(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&DU(t,r,n),n};let wp=class extends Oe{viewTemplate(){return se.isAndroid()?Gt`<wcm-android-wallet-selection></wcm-android-wallet-selection>`:se.isMobile()?Gt`<wcm-mobile-wallet-selection></wcm-mobile-wallet-selection>`:Gt`<wcm-desktop-wallet-selection></wcm-desktop-wallet-selection>`}render(){return Gt`${this.viewTemplate()}<wcm-legal-notice></wcm-legal-notice>`}};wp.styles=[Ue.globalCss],wp=NU([je("wcm-connect-wallet-view")],wp);const PU=He`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var RU=Object.defineProperty,TU=Object.getOwnPropertyDescriptor,zb=(e,t,r,i)=>{for(var n=i>1?void 0:i?TU(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&RU(t,r,n),n};let Yl=class extends Oe{constructor(){super(),this.isError=!1,this.openDesktopApp()}onFormatAndRedirect(e){const{desktop:t,name:r}=se.getWalletRouterData(),i=t?.native;if(i){const n=se.formatNativeUrl(i,e,r);se.openHref(n,"_self")}}openDesktopApp(){const{walletConnectUri:e}=Sr.state,t=se.getWalletRouterData();le.setRecentWallet(t),e&&this.onFormatAndRedirect(e)}render(){const{name:e,id:t,image_id:r}=se.getWalletRouterData(),{isMobile:i,isWeb:n}=le.getCachedRouterWalletPlatforms();return Gt`<wcm-modal-header title="${e}" .onAction="${le.handleUriCopy}" .actionIcon="${Ge.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${t}" imageId="${pi(r)}" label="${`Continue in ${e}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Connection can continue loading if ${e} is not installed on your device`}</wcm-text><wcm-platform-selection .isMobile="${i}" .isWeb="${n}" .isRetry="${!0}"><wcm-button .onClick="${this.openDesktopApp.bind(this)}" .iconRight="${Ge.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};Yl.styles=[Ue.globalCss,PU],zb([Bi()],Yl.prototype,"isError",2),Yl=zb([je("wcm-desktop-connecting-view")],Yl);const $U=He`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}wcm-button{margin-top:15px}`;var BU=Object.defineProperty,UU=Object.getOwnPropertyDescriptor,LU=(e,t,r,i)=>{for(var n=i>1?void 0:i?UU(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&BU(t,r,n),n};let yp=class extends Oe{onInstall(e){e&&se.openHref(e,"_blank")}render(){const{name:e,id:t,image_id:r,homepage:i}=se.getWalletRouterData();return Gt`<wcm-modal-header title="${e}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${t}" imageId="${pi(r)}" label="Not Detected" .isStale="${!0}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Download ${e} to continue. If multiple browser extensions are installed, disable non ${e} ones and try again`}</wcm-text><wcm-button .onClick="${()=>this.onInstall(i)}" .iconLeft="${Ge.ARROW_DOWN_ICON}">Download</wcm-button></wcm-info-footer>`}};yp.styles=[Ue.globalCss,$U],yp=LU([je("wcm-install-wallet-view")],yp);const FU=He`wcm-wallet-image{border-radius:var(--wcm-wallet-icon-large-border-radius);width:96px;height:96px;margin-bottom:20px}wcm-info-footer{display:flex;width:100%}.wcm-app-store{justify-content:space-between}.wcm-app-store wcm-wallet-image{margin-right:10px;margin-bottom:0;width:28px;height:28px;border-radius:var(--wcm-wallet-icon-small-border-radius)}.wcm-app-store div{display:flex;align-items:center}.wcm-app-store wcm-button{margin-right:-10px}.wcm-note{flex-direction:column;align-items:center;padding:5px 0}.wcm-note wcm-text{text-align:center}wcm-platform-selection{margin-top:-15px}.wcm-note wcm-text{margin-top:15px}.wcm-note wcm-text span{color:var(--wcm-accent-color)}`;var kU=Object.defineProperty,jU=Object.getOwnPropertyDescriptor,Hb=(e,t,r,i)=>{for(var n=i>1?void 0:i?jU(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&kU(t,r,n),n};let Jl=class extends Oe{constructor(){super(),this.isError=!1,this.openMobileApp()}onFormatAndRedirect(e,t=!1){const{mobile:r,name:i}=se.getWalletRouterData(),n=r?.native,s=r?.universal;if(n&&!t){const h=se.formatNativeUrl(n,e,i);se.openHref(h,"_self")}else if(s){const h=se.formatUniversalUrl(s,e,i);se.openHref(h,"_self")}}openMobileApp(e=!1){const{walletConnectUri:t}=Sr.state,r=se.getWalletRouterData();le.setRecentWallet(r),t&&this.onFormatAndRedirect(t,e)}onGoToAppStore(e){e&&se.openHref(e,"_blank")}render(){const{name:e,id:t,image_id:r,app:i,mobile:n}=se.getWalletRouterData(),{isWeb:s}=le.getCachedRouterWalletPlatforms(),h=i?.ios,d=n?.universal;return Gt`<wcm-modal-header title="${e}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${t}" imageId="${pi(r)}" label="Tap 'Open' to continue…" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer class="wcm-note"><wcm-platform-selection .isWeb="${s}" .isRetry="${!0}"><wcm-button .onClick="${()=>this.openMobileApp(!1)}" .iconRight="${Ge.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection>${d?Gt`<wcm-text color="secondary" variant="small-thin">Still doesn't work? <span tabindex="0" @click="${()=>this.openMobileApp(!0)}">Try this alternate link</span></wcm-text>`:null}</wcm-info-footer><wcm-info-footer class="wcm-app-store"><div><wcm-wallet-image walletId="${t}" imageId="${pi(r)}"></wcm-wallet-image><wcm-text>${`Get ${e}`}</wcm-text></div><wcm-button .iconRight="${Ge.ARROW_RIGHT_ICON}" .onClick="${()=>this.onGoToAppStore(h)}" variant="ghost">App Store</wcm-button></wcm-info-footer>`}};Jl.styles=[Ue.globalCss,FU],Hb([Bi()],Jl.prototype,"isError",2),Jl=Hb([je("wcm-mobile-connecting-view")],Jl);const qU=He`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var zU=Object.defineProperty,HU=Object.getOwnPropertyDescriptor,KU=(e,t,r,i)=>{for(var n=i>1?void 0:i?HU(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&zU(t,r,n),n};let bp=class extends Oe{render(){const{name:e,id:t,image_id:r}=se.getWalletRouterData(),{isDesktop:i,isWeb:n}=le.getCachedRouterWalletPlatforms();return Gt`<wcm-modal-header title="${e}" .onAction="${le.handleUriCopy}" .actionIcon="${Ge.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr walletId="${t}" imageId="${pi(r)}"></wcm-walletconnect-qr></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`Scan this QR Code with your phone's camera or inside ${e} app`}</wcm-text><wcm-platform-selection .isDesktop="${i}" .isWeb="${n}"></wcm-platform-selection></wcm-info-footer>`}};bp.styles=[Ue.globalCss,qU],bp=KU([je("wcm-mobile-qr-connecting-view")],bp);var WU=Object.defineProperty,VU=Object.getOwnPropertyDescriptor,GU=(e,t,r,i)=>{for(var n=i>1?void 0:i?VU(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&WU(t,r,n),n};let Ap=class extends Oe{render(){return Gt`<wcm-modal-header title="Scan the code" .onAction="${le.handleUriCopy}" .actionIcon="${Ge.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-walletconnect-qr></wcm-walletconnect-qr></wcm-modal-content>`}};Ap.styles=[Ue.globalCss],Ap=GU([je("wcm-qrcode-view")],Ap);const QU=He`wcm-modal-content{height:clamp(200px,60vh,600px);display:block;overflow:scroll;scrollbar-width:none;position:relative;margin-top:1px}.wcm-grid{display:grid;grid-template-columns:repeat(4,80px);justify-content:space-between;margin:-15px -10px;padding-top:20px}wcm-modal-content::after,wcm-modal-content::before{content:'';position:fixed;pointer-events:none;z-index:1;width:100%;height:20px;opacity:1}wcm-modal-content::before{box-shadow:0 -1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(var(--wcm-color-bg-1),rgba(255,255,255,0))}wcm-modal-content::after{box-shadow:0 1px 0 0 var(--wcm-color-bg-1);background:linear-gradient(rgba(255,255,255,0),var(--wcm-color-bg-1));top:calc(100% - 20px)}wcm-modal-content::-webkit-scrollbar{display:none}.wcm-placeholder-block{display:flex;justify-content:center;align-items:center;height:100px;overflow:hidden}.wcm-empty,.wcm-loading{display:flex}.wcm-loading .wcm-placeholder-block{height:100%}.wcm-end-reached .wcm-placeholder-block{height:0;opacity:0}.wcm-empty .wcm-placeholder-block{opacity:1;height:100%}wcm-wallet-button{margin:calc((100% - 60px)/ 3) 0}`;var YU=Object.defineProperty,JU=Object.getOwnPropertyDescriptor,Hh=(e,t,r,i)=>{for(var n=i>1?void 0:i?JU(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&YU(t,r,n),n};const _p=40;let ea=class extends Oe{constructor(){super(...arguments),this.loading=!$i.state.wallets.listings.length,this.firstFetch=!$i.state.wallets.listings.length,this.search="",this.endReached=!1,this.intersectionObserver=void 0,this.searchDebounce=le.debounce(e=>{e.length>=1?(this.firstFetch=!0,this.endReached=!1,this.search=e,$i.resetSearch(),this.fetchWallets()):this.search&&(this.search="",this.endReached=this.isLastPage(),$i.resetSearch())})}firstUpdated(){this.createPaginationObserver()}disconnectedCallback(){var e;(e=this.intersectionObserver)==null||e.disconnect()}get placeholderEl(){return le.getShadowRootElement(this,".wcm-placeholder-block")}createPaginationObserver(){this.intersectionObserver=new IntersectionObserver(([e])=>{e.isIntersecting&&!(this.search&&this.firstFetch)&&this.fetchWallets()}),this.intersectionObserver.observe(this.placeholderEl)}isLastPage(){const{wallets:e,search:t}=$i.state,{listings:r,total:i}=this.search?t:e;return i<=_p||r.length>=i}async fetchWallets(){var e;const{wallets:t,search:r}=$i.state,{listings:i,total:n,page:s}=this.search?r:t;if(!this.endReached&&(this.firstFetch||n>_p&&i.length<n))try{this.loading=!0;const h=(e=Sr.state.chains)==null?void 0:e.join(","),{listings:d}=await $i.getWallets({page:this.firstFetch?1:s+1,entries:_p,search:this.search,version:2,chains:h}),g=d.map(p=>le.getWalletIcon(p));await Promise.all([...g.map(async p=>le.preloadImage(p)),se.wait(300)]),this.endReached=this.isLastPage()}catch(h){console.error(h),co.openToast(le.getErrorMessage(h),"error")}finally{this.loading=!1,this.firstFetch=!1}}onConnect(e){se.isAndroid()?le.handleMobileLinking(e):le.goToConnectingView(e)}onSearchChange(e){const{value:t}=e.target;this.searchDebounce(t)}render(){const{wallets:e,search:t}=$i.state,{listings:r}=this.search?t:e,i=this.loading&&!r.length,n=this.search.length>=3;let s=vo.manualWalletsTemplate(),h=vo.recomendedWalletsTemplate(!0);n&&(s=s.filter(({values:p})=>le.caseSafeIncludes(p[0],this.search)),h=h.filter(({values:p})=>le.caseSafeIncludes(p[0],this.search)));const d=!this.loading&&!r.length&&!h.length,g={"wcm-loading":i,"wcm-end-reached":this.endReached||!this.loading,"wcm-empty":d};return Gt`<wcm-modal-header><wcm-search-input .onChange="${this.onSearchChange.bind(this)}"></wcm-search-input></wcm-modal-header><wcm-modal-content class="${Bs(g)}"><div class="wcm-grid">${i?null:s} ${i?null:h} ${i?null:r.map(p=>Gt`${p?Gt`<wcm-wallet-button imageId="${p.image_id}" name="${p.name}" walletId="${p.id}" .onClick="${()=>this.onConnect(p)}"></wcm-wallet-button>`:null}`)}</div><div class="wcm-placeholder-block">${d?Gt`<wcm-text variant="big-bold" color="secondary">No results found</wcm-text>`:null} ${!d&&this.loading?Gt`<wcm-spinner></wcm-spinner>`:null}</div></wcm-modal-content>`}};ea.styles=[Ue.globalCss,QU],Hh([Bi()],ea.prototype,"loading",2),Hh([Bi()],ea.prototype,"firstFetch",2),Hh([Bi()],ea.prototype,"search",2),Hh([Bi()],ea.prototype,"endReached",2),ea=Hh([je("wcm-wallet-explorer-view")],ea);const ZU=He`wcm-info-footer{flex-direction:column;align-items:center;display:flex;width:100%;padding:5px 0}wcm-text{text-align:center}`;var XU=Object.defineProperty,tL=Object.getOwnPropertyDescriptor,Kb=(e,t,r,i)=>{for(var n=i>1?void 0:i?tL(t,r):t,s=e.length-1,h;s>=0;s--)(h=e[s])&&(n=(i?h(t,r,n):h(n))||n);return i&&n&&XU(t,r,n),n};let Zl=class extends Oe{constructor(){super(),this.isError=!1,this.openWebWallet()}onFormatAndRedirect(e){const{desktop:t,name:r}=se.getWalletRouterData(),i=t?.universal;if(i){const n=se.formatUniversalUrl(i,e,r);se.openHref(n,"_blank")}}openWebWallet(){const{walletConnectUri:e}=Sr.state,t=se.getWalletRouterData();le.setRecentWallet(t),e&&this.onFormatAndRedirect(e)}render(){const{name:e,id:t,image_id:r}=se.getWalletRouterData(),{isMobile:i,isDesktop:n}=le.getCachedRouterWalletPlatforms(),s=se.isMobile();return Gt`<wcm-modal-header title="${e}" .onAction="${le.handleUriCopy}" .actionIcon="${Ge.COPY_ICON}"></wcm-modal-header><wcm-modal-content><wcm-connector-waiting walletId="${t}" imageId="${pi(r)}" label="${`Continue in ${e}...`}" .isError="${this.isError}"></wcm-connector-waiting></wcm-modal-content><wcm-info-footer><wcm-text color="secondary" variant="small-thin">${`${e} web app has opened in a new tab. Go there, accept the connection, and come back`}</wcm-text><wcm-platform-selection .isMobile="${i}" .isDesktop="${s?!1:n}" .isRetry="${!0}"><wcm-button .onClick="${this.openWebWallet.bind(this)}" .iconRight="${Ge.RETRY_ICON}">Retry</wcm-button></wcm-platform-selection></wcm-info-footer>`}};Zl.styles=[Ue.globalCss,ZU],Kb([Bi()],Zl.prototype,"isError",2),Zl=Kb([je("wcm-web-connecting-view")],Zl);var eL=Object.freeze({__proto__:null,get WcmModal(){return mc},get WcmQrCode(){return Ls}});Mn.EthereumProvider=MR,Mn.OPTIONAL_EVENTS=y3,Mn.OPTIONAL_METHODS=w3,Mn.REQUIRED_EVENTS=El,Mn.REQUIRED_METHODS=_l,Mn.default=Il,Object.defineProperty(Mn,"__esModule",{value:!0})});
//# sourceMappingURL=index.umd.js.map
